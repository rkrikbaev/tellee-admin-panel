{"version":3,"sources":["static/icons/turbine.svg","static/icons/pump.svg","static/icons/generator.svg","static/icons/edit.svg","static/icons/delete.svg","types/user.js","shared/reducers/user.js","types/graphs.js","shared/reducers/graphs.js","shared/reducers/rootReducer.js","store/configureStore.js","shared/actions/user.js","components/Home.js","components/TopBar.js","components/applications/AppModalCreate.jsx","components/applications/AppModalEdit.jsx","components/devices/DeviceModalCreate.jsx","components/devices/DeviceModalEdit.jsx","components/connections/ConnectionModalRemove.jsx","components/errorModal.jsx","components/connections/Connections.jsx","components/channels/ChannelModalCreate.jsx","components/channels/ChannelModalRemove.jsx","components/channels/Channels.js","shared/actions/graphs.js","shared/components/GraphActionWindow.jsx","shared/components/ToggleComponent.jsx","shared/components/Timeseries.jsx","shared/components/GraphWrapper/GraphWrapperHeader.jsx","shared/components/GraphWrapper/GraphWrapper.jsx","components/graphs/Graphs.jsx","components/NotFound.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","ADD_USER","initialState","items","user","userDataReducer","state","arguments","length","undefined","action","type","actionTypes","_objectSpread","concat","Object","toConsumableArray","payload","SHOW_GRAPH_ACTION_WINDOW","ADD_GRAPH","TOGGLE_GRAPH_DRAGGING","defaultWidth","defaultHeight","showGraphActionWindow","graphsList","title","device","date","isGraphDraggable","graphsDataReducer","graphs_objectSpread","combineReducers","users","graph","graphs","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","apply","window","__REDUX_DEVTOOLS_EXTENSION__","addUser","data","dispatch","statusTypes","statusColorTypes","Home","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_isMounted","getToken","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","fetch","process","method","headers","Accept","Content-Type","mode","credentials","body","JSON","stringify","email","stop","getDevicesFromMainflux","then","res","json","devices","parseDataFromBootstrap","catch","err","filter","item","content","parse","map","id","mainflux_id","icon","device_type","name","status","Math","floor","random","ram","memory","customizeDataForRender","forEach","turbine","pump","generator","push","setState","react_default","createElement","className","Card","Group","i","fluid","color","key","src","alt","htmlFor","toUpperCase","role","aria-label","Component","connect","article","trigger","Image","avatar","options","text","TopBar","Segment","clearing","Header","floated","Dropdown","pointing","Console","log","console","AppModalCreate","getThings","oldThings","getConnections","_callee2","_context2","oldConnections","createThing","_callee3","newThing","_context3","createChannel","_callee4","channel","_context4","createAppConnection","_callee5","_this$state","connectionName","callbackFromParent","thing","arr","obj","_this$state2","showModalCreateApp","_context5","oldChannels","sent","t0","mac","metadata","channels","t1","close","_callee6","_this$state3","_context6","handleChangeConnectionName","e","str","target","value","regexpName","test","prevState","AppModalCreate_objectSpread","isConnectionNameEnabled","handleChangeThingMac","regexpMac","isThingMacEnabled","nextProps","nextState","_this2","_this$state4","Modal","closeIcon","dimmer","open","onClose","Content","Form","Field","placeholder","onChange","Actions","Button","onClick","positive","labelPosition","disabled","AppModalEdit","getConfigById","_ref","config","selectedChannels","mainflux_channels","_x","getChannels","chan","editApp","_config$content","showModalEditApp","handleChangeName","handleChangeChannel","_ref4","connection","external_id","readOnly","mainflux_key","multiple","selection","alertMessagesText","subtitle","assettext","assetvalue","DeviceModalCreate","apps","getDeviceTypes","types","formattedTypes","deviceTypes","getChannel","_ref5","appMac","app","abrupt","getGlobalChannel","_ref6","channelName","globalChannel","_x2","createDeviceConnection","_callee7","newDevice","cycle","sendToApp","sendToDB","deviceType","createdThing","severity","alerttext","alertvalue","messagetext","longitude","latitude","createdDevice","showModalCreateDevice","_context7","response","device_name","device_id","device_key","DeviceModalCreate_objectSpread","_callee8","_context8","isConnectionNameDisabled","isThingMacDisabled","handleChangeCycle","isEnabled","handleChangeSendToApp","_ref9","checked","handleChangeSendToDB","_ref10","handleChangeDeviceType","_ref11","handleChangeApp","_ref12","handleChangeNewDevice","keys","alertext","Checkbox","label","DeviceModalEdit","selectedApp","selectedDeviceType","handleSendToApp","handleSendToDB","split","_x3","getDeviceInfoFromDB","deviceId","editDevice","DeviceModalEdit_objectSpread","_x4","showModalEditDevice","_title","_subtitle","_severity","_alerttext","_alertvalue","_assettext","_assetvalue","_messagetext","_longitude","_latitude","editedDevice","currentDevice","_ref8","_x5","editThing","editThingIndex","indexOf","currentValue","handleChangeEditDevice","editingDevice","externalId","forceUpdate","_this3","ConnectionModalRemove","removeConnection","_ref2","showModalRemove","_connection$content","isRemoveable","_this$props","basic","size","inverted","Icon","ErrorModal","showModalError","errorText","Connections","connections","parsedConnections","loader","createAppModalCallback","createDeviceModalCallback","removeModalCallback","_connection$0$content","connectedApp","edittedApp","editAppModalCallback","editDeviceModalCallback","errorModalCallback","edittingApp","edittingDevice","removingConnection","Item","relaxed","Loader","active","verticalAlign","Popup","Description","Extra","applications_AppModalCreate","devices_DeviceModalCreate","connections_ConnectionModalRemove","errorModal","applications_AppModalEdit","devices_DeviceModalEdit","ChannelModalCreate","showModalCreate","ChannelModalCreate_objectSpread","ChannelModalRemove","removeChannel","event","Channels","removeItemId","createChannelModalCallback","_ref3","removingChannel","channels_ChannelModalRemove","channels_ChannelModalCreate","graphActionWindow","addGraphAction","GraphActionWindow","handleChangeData","_e$target","textContent","GraphActionWindow_objectSpread","defineProperty","toLowerCase","handleSubmit","isVisible","showEditWindow","graphTitle","graphType","deviceName","requestDate","ToggleComponent","toggleComponent","opened","Store","subscribe","getState","children","Timeseries","handleMouseEnter","o","dataKey","opacity","Timeseries_objectSpread","handleMouseLeave","uv","pv","width","height","es6","margin","top","right","left","bottom","strokeDasharray","onMouseEnter","onMouseLeave","strokeOpacity","stroke","activeDot","r","GraphWrapperHeader","handleClick","node","editWindow","info","editBtnRef","React","createRef","removeBtnRef","style","borderTopLeftRadius","borderTopRightRadius","current","ref","EditIcon","RemoveIcon","components_GraphActionWindow","GraphWrapper","_Store$getState$graph","component","components_Timeseries","paddingBottom","lib","default","x","y","background","position","padding","borderRadius","onResize","direction","delta","GraphWrapper_objectSpread","parseInt","cancel","GraphWrapperHeader_GraphWrapperHeader","amt","Graphs","createGraph","prevProps","components_GraphWrapper_GraphWrapper","components_ToggleComponent","isShowGraphActionWindow","Notfound","App","checkActive","location","url","react_router_dom","Menu","secondary","vertical","to","activeClassName","isActive","react_router","exact","path","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","ReactDOM","render","es","App_App","document","getElementById","URL","href","origin","addEventListener","contentType","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.37754c26.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/turbine.06474a16.svg\";","module.exports = __webpack_public_path__ + \"static/media/pump.1df4e95b.svg\";","module.exports = __webpack_public_path__ + \"static/media/generator.7a7e96ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit.2927f8de.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.650cdc57.svg\";","/* eslint-disable import/prefer-default-export */\n\nexport const ADD_USER = 'ADD_USER'\n","import * as actionTypes from '../../types/user'\n\nconst initialState = {\n  items: [2, 3],\n  user: {},\n}\n\nfunction userDataReducer(state = initialState, action) {\n  switch (action.type) {\n    case actionTypes.ADD_USER:\n      return {\n        ...state,\n        items: [...state.items, action.payload],\n      }\n    default:\n      return state\n  }\n}\n\nexport default userDataReducer\n","/* eslint-disable import/prefer-default-export */\n\nexport const SHOW_GRAPH_ACTION_WINDOW = 'SHOW_GRAPH_ACTION_WINDOW'\nexport const ADD_GRAPH = 'ADD_GRAPH'\nexport const TOGGLE_GRAPH_DRAGGING = 'TOGGLE_GRAPH_DRAGGING'\n","import * as actionTypes from '../../types/graphs'\n\nconst initialState = {\n  defaultWidth: 620,\n  defaultHeight: 350,\n  showGraphActionWindow: false,\n  graphsList: [{\n    title: 'My Timerseries',\n    type: 'timeseries',\n    device: 'device_01',\n    date: '23120987',\n  }],\n  isGraphDraggable: false,\n}\n\nfunction graphsDataReducer(state = initialState, action) {\n  switch (action.type) {\n    case actionTypes.SHOW_GRAPH_ACTION_WINDOW:\n      return ({\n        ...state,\n        showGraphActionWindow: action.payload,\n      })\n    case actionTypes.ADD_GRAPH:\n      return ({\n        ...state,\n        graphsList: [...state.graphsList, action.payload],\n      })\n    case actionTypes.TOGGLE_GRAPH_DRAGGING:\n      return ({\n        ...state,\n        isGraphDraggable: action.payload,\n      })\n    default:\n      return state\n  }\n}\n\nexport default graphsDataReducer\n","import { combineReducers } from 'redux'\nimport user from './user'\nimport graphs from './graphs'\n\nexport default combineReducers({\n  users: user,\n  graph: graphs,\n})\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport rootReducer from '../shared/reducers/rootReducer'\n\nconst initialState = {}\n\nconst middleware = [thunk]\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  compose(\n    applyMiddleware(...middleware),\n    // eslint-disable-next-line no-underscore-dangle\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n  ),\n)\n\nexport default store\n","import * as actionTypes from '../../types/user'\n\n// eslint-disable-next-line import/prefer-default-export\nexport const addUser = (data) => (dispatch) => {\n  dispatch({\n    type: actionTypes.ADD_USER,\n    payload: data, // action payload\n  })\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Card } from 'semantic-ui-react'\nimport { addUser } from '../shared/actions/user'\n\n\nimport 'semantic-ui-css/semantic.min.css'\n\nimport turbine from '../static/icons/turbine.svg'\nimport pump from '../static/icons/pump.svg'\nimport generator from '../static/icons/generator.svg'\n\nconst statusTypes = ['connected', 'not connected']\nconst statusColorTypes = []\n\nclass Home extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      devices: [],\n    }\n  }\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillMount() {\n    // eslint-disable-next-line react/destructuring-assignment\n    this.props.addUser('milk')\n  }\n\n  async componentDidMount() {\n    this._isMounted = true\n    await this.getToken()\n    this.getDevicesFromMainflux()\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getToken = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/users/login`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({ email: `${process.env.REACT_APP_MAINFLUX_USER}` }),\n    })\n  }\n\n  getDevicesFromMainflux = () => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((devices) => {\n        this.parseDataFromBootstrap(devices)\n      })\n      .catch((err) => err)\n  }\n\n  parseDataFromBootstrap = (devices) => {\n    const data = devices\n      .filter((item) => {\n        item.content = JSON.parse(item.content)\n        return item.content.type === 'device'\n      })\n      .map((item) => ({\n        id: item.mainflux_id,\n        icon: item.content.device_type,\n        name: item.name,\n        status: statusTypes[Math.floor(Math.random() * statusTypes.length)],\n        ram: Math.floor(Math.random() * 100) + 1,\n        memory: `7976/${Math.floor(Math.random() * 7976) + 1}`,\n      }))\n    this.customizeDataForRender(data)\n  }\n\n  customizeDataForRender = (devices) => {\n    devices.forEach((item) => {\n      switch (item.icon) {\n        case 'turbine':\n          item.icon = turbine\n          break\n        case 'e-meter_v2':\n          item.icon = pump\n          break\n        case 'e-meter_v1':\n          item.icon = generator\n          break\n        default:\n          break\n      }\n    })\n\n    devices.forEach((item) => {\n      switch (item.status) {\n        case 'connected':\n          statusColorTypes.push('green')\n          break\n        case 'not connected':\n          statusColorTypes.push('yellow')\n          break\n        default:\n          break\n      }\n    })\n\n    if (this._isMounted) this.setState({ devices })\n  }\n\n  render() {\n    const { devices } = this.state\n    return (\n      <div className=\"main_wrapper\">\n        <h1>Home</h1>\n        <hr />\n        {devices.length !== 0 ? (\n          <Card.Group>\n            {devices.map((item, i) => (\n              <Card\n                fluid\n                color={statusColorTypes[i]}\n                key={item.id}\n                className=\"home_card\"\n              >\n                <img\n                  src={item.icon}\n                  alt={`${item.name}`}\n                  className=\"home_card__item\"\n                />\n                <p className=\"home_card__item\">\n                  <label className=\"home_card__label\" htmlFor=\"name\">\n                    name:\n                  </label>\n                  {item.name.toUpperCase()}\n                </p>\n                <p className=\"home_card__item\">\n                  <label className=\"home_card__label\" htmlFor=\"status\">\n                    status:\n                  </label>\n                  {item.status.toUpperCase()}\n                </p>\n                <p className=\"home_card__item\">\n                  <label className=\"home_card__label\" htmlFor=\"cpu\">\n                    CPU:\n                  </label>\n                  {item.ram}\n%\n                </p>\n                <p className=\"home_card__item\">\n                  <label className=\"home_card__label\" htmlFor=\"memory\">\n                    memory:\n                  </label>\n                  {item.memory}\n                  kB\n                </p>\n              </Card>\n            ))}\n          </Card.Group>\n        ) : (\n          <p>\n            Here you can put everything your heart desires.\n            <span role=\"img\" aria-label=\"Hooray\">\n              \n            </span>\n          </p>\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  users: state.users.items,\n})\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addUser: (article) => dispatch(addUser(article)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n\nHome.propTypes = {\n  addUser: PropTypes.func.isRequired,\n}\n","import React from 'react'\nimport {\n  Header, Segment, Dropdown, Image,\n} from 'semantic-ui-react'\n\nconst trigger = (\n  <span>\n    <Image avatar src=\"http://zsse.zeinetsse.com/favicon.ico\" />\n    {' '}\nUser Admin\n  </span>\n)\n\nconst options = [\n  { key: 'user', text: 'Account', icon: 'user' },\n  { key: 'settings', text: 'Settings', icon: 'settings' },\n  { key: 'sign-out', text: 'Sign Out', icon: 'sign out' },\n]\n\nexport default function TopBar() {\n  return (\n    <div id=\"TopBar\">\n      <Segment clearing id=\"top_menu\">\n        <Header className=\"topbar_left\" floated=\"left\">\n          <img className=\"top_logo\" alt=\"Tellee_logo\" src=\"/Tellee_logo.svg\" />\n        </Header>\n        <Header className=\"topbar_right\" floated=\"right\">\n          <Dropdown\n            className=\"top_dropdown\"\n            trigger={trigger}\n            options={options}\n            pointing=\"top left\"\n            icon={null}\n          />\n        </Header>\n      </Segment>\n    </div>\n  )\n}\n","/* eslint-disable no-var */\n/* eslint-disable vars-on-top */\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport '../connections/Connections.scss'\nimport { Button, Modal, Form } from 'semantic-ui-react'\n\nconst Console = {\n  log: (text) => console.log(text),\n}\nclass AppModalCreate extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalCreateApp: false,\n      isThingMacEnabled: false,\n      isConnectionNameEnabled: false,\n      oldThings: [],\n      oldConnections: [],\n      newThing: {\n        name: '',\n        metadata: {\n          type: 'app',\n          mac: '',\n        },\n      },\n      channel: {\n        name: '',\n        metadata: {},\n      },\n      connectionName: '',\n    }\n\n    this.regexpName = /^\\w+$/\n    this.regexpMac = /^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\\1){4}[0-9a-z]{2}$/gim\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n    this.getThings()\n    this.getConnections()\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !(this.props === nextProps && this.state === nextState)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getThings = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldThings) => {\n        if (this._isMounted) {\n          this.setState({ oldThings })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldConnections) => {\n        if (this._isMounted) {\n          this.setState({ oldConnections })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  createThing = async () => {\n    const { newThing } = this.state\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify(newThing),\n    })\n  }\n\n  createChannel = async () => {\n    const { channel } = this.state\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({ channel }),\n    })\n  }\n\n  createAppConnection = async () => {\n    const { newThing, connectionName } = this.state\n    const { callbackFromParent } = this.props\n    let channel\n    let thing\n    try {\n      let arr = []\n      await this.createChannel()\n      arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((res) => res.json())\n        .then((oldChannels) => oldChannels)\n        .catch((err) => Console.log(err))\n      channel = arr.filter((item) => item.name === `zsse/${newThing.name}`)\n      await this.createThing()\n      arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((res) => res.json())\n        .then((oldThings) => oldThings)\n        .catch((err) => Console.log(err))\n\n      thing = arr.filter((item) => item.name === `zsse/${newThing.name}`)\n    } catch (err) {\n      Console.log(err)\n    }\n\n    const obj = {\n      mac: newThing.metadata.mac,\n      id: thing[0].id,\n      channels: `${channel[0].id}`,\n      name: connectionName,\n    }\n\n    try {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/create/app`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify(obj),\n      })\n\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel[0].id}/things/${thing[0].id}`,\n        {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n        },\n      )\n      await this.getConnections()\n\n      // Close and send data to parent\n      const { showModalCreateApp, oldConnections } = this.state\n      if (this._isMounted) {\n        this.setState({ showModalCreateApp: false })\n      }\n      callbackFromParent(showModalCreateApp, oldConnections)\n    } catch (err) {\n      Console.log(err)\n    }\n  }\n\n  close = async () => {\n    const { showModalCreateApp, oldConnections } = this.state\n    const { callbackFromParent } = this.props\n    if (this._isMounted) this.setState({ showModalCreateApp: false })\n    callbackFromParent(showModalCreateApp, oldConnections)\n  }\n\n  handleChangeConnectionName = (e) => {\n    const { oldConnections } = this.state\n    const str = e.target.value\n    const arr = oldConnections.filter((item) => item.name === str)\n    if ((arr.length !== 0 || !this.regexpName.test(str)) && this._isMounted) {\n      this.setState({ isConnectionNameEnabled: true })\n    } else if ((arr.length === 0 || this.regexpName.test(str)) && this._isMounted) {\n      this.setState((prevState) => ({\n        newThing: {\n          ...prevState.newThing,\n          name: str,\n        },\n        channel: {\n          ...prevState.channel,\n          name: str,\n        },\n        connectionName: str,\n        isConnectionNameEnabled: false,\n      }))\n    }\n  }\n\n  handleChangeThingMac = (e) => {\n    const { oldThings } = this.state\n    const str = e.target.value\n    const arr = oldThings.filter((item) => item.metadata.mac === str)\n    if ((arr.length !== 0 || !this.regexpMac.test(str)) && this._isMounted) {\n      this.setState({ isThingMacEnabled: true })\n    } else if ((arr.length === 0 || this.regexpMac.test(str)) && this._isMounted) {\n      this.setState((prevState) => ({\n        newThing: {\n          ...prevState.newThing,\n          metadata: {\n            ...prevState.newThing.metadata,\n            mac: str,\n          },\n        },\n        isThingMacEnabled: false,\n      }))\n    }\n  }\n\n  render() {\n    const { showModalCreateApp } = this.props\n    const { isThingMacEnabled, isConnectionNameEnabled } = this.state\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalCreateApp}\n        onClose={this.close}\n      >\n        <Modal.Header> CREATE APP </Modal.Header>\n\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"name\"> Name </label>\n              <input\n                placeholder=\"name\"\n                onChange={(e) => this.handleChangeConnectionName(e)}\n                className={isConnectionNameEnabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"mac\"> Mac </label>\n              <input\n                placeholder=\"mac\"\n                onChange={(e) => this.handleChangeThingMac(e)}\n                className={isThingMacEnabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n\n        <Modal.Actions>\n          <Button color=\"black\" onClick={this.close}>\n            Cancel\n          </Button>\n          <Button\n            positive\n            icon=\"plus\"\n            labelPosition=\"right\"\n            content=\"Create\"\n            disabled={isThingMacEnabled || isConnectionNameEnabled}\n            onClick={this.createAppConnection}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default AppModalCreate\n\nAppModalCreate.propTypes = {\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalCreateApp: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport '../connections/Connections.scss'\nimport {\n  Button,\n  Form,\n  Modal,\n  Dropdown,\n} from 'semantic-ui-react'\n\nconst Console = {\n  log: (text) => console.log(text),\n}\n\nclass AppModalEdit extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      config: {},\n      channels: [],\n      selectedChannels: [],\n      showModalEditApp: false,\n    }\n  }\n\n  componentDidMount() {\n    const { connection } = this.props\n    this._isMounted = true\n    this.getConfigById(connection.external_id)\n    this.getChannels()\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !(nextProps === this.props && nextState === this.state)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getConfigById = async (id) => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((config) => {\n        const selectedChannels = []\n\n        config.content = JSON.parse(config.content)\n\n        for (let i = 0; i < config.mainflux_channels.length; i += 1) {\n          selectedChannels.push(config.mainflux_channels[i].id)\n        }\n        if (this._isMounted) {\n          this.setState({\n            selectedChannels,\n            config,\n          })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getChannels = async () => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((channels) => {\n        const chan = channels.map((item) => ({ value: item.id, text: item.name }))\n        if (this._isMounted) this.setState({ channels: chan })\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  editApp = async () => {\n    const { config } = this.state\n    const { mac, name } = config.content\n    const obj = {\n      mac,\n      id: config.mainflux_id,\n      channels: config.mainflux_channels,\n      name,\n      type: 'app',\n      content: config.content,\n    }\n    await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${config.mainflux_id}`,\n      {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify({ obj }),\n      },\n    )\n    await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/channels/edit/${obj.channels[0].id}`,\n      {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify({ name: obj.name, metadata: {} }),\n      },\n    )\n\n    this.close()\n  }\n\n  close = () => {\n    const { callbackFromParent } = this.props\n    const { showModalEditApp } = this.state\n    if (this._isMounted) this.setState({ showModalEditApp: false })\n    callbackFromParent(showModalEditApp)\n  }\n\n  handleChangeName = (e) => {\n    const { config } = this.state\n    const obj = config\n    obj.content.name = e.target.value\n    if (this._isMounted) this.setState({ config: obj })\n  }\n\n  handleChangeChannel = (e, { value }) => {\n    const { config } = this.state\n    const obj = config\n    obj.mainflux_channels = value\n    if (this._isMounted) this.setState({ config: obj })\n  }\n\n  render() {\n    const { showModalEditApp } = this.props\n    const { config, channels, selectedChannels } = this.state\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalEditApp}\n        onClose={this.close}\n      >\n        <Modal.Header>EDIT APPLICATION</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"mainflux_id\">Thing ID</label>\n              <input\n                placeholder=\"mainflux_id\"\n                value={config.content !== undefined ? config.mainflux_id : ''}\n                readOnly\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Thing Key</label>\n              <input\n                placeholder=\"mainflux_key\"\n                value={config.content !== undefined ? config.mainflux_key : ''}\n                readOnly\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label htmlFor=\"name\">Name</label>\n              <input\n                placeholder=\"name\"\n                value={config.content !== undefined ? config.content.name : ''}\n                onChange={(e) => this.handleChangeName(e)}\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label htmlFor=\"channels\">Channels</label>\n              <Dropdown\n                placeholder=\"channels\"\n                multiple\n                fluid\n                selection\n                options={channels}\n                onChange={this.handleChangeChannel}\n                value={selectedChannels}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color=\"black\" onClick={this.close}>\n            No\n          </Button>\n          <Button\n            positive\n            icon=\"edit outline\"\n            labelPosition=\"right\"\n            content=\"Yes\"\n            onClick={this.editApp}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default AppModalEdit\n\nAppModalEdit.propTypes = {\n  connection: PropTypes.instanceOf(Object).isRequired,\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalEditApp: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport '../connections/Connections.scss'\nimport {\n  Button,\n  Form,\n  Modal,\n  Dropdown,\n  Checkbox,\n} from 'semantic-ui-react'\n\nconst alertMessagesText = {\n  title: 'Turbine',\n  subtitle: 'LM2500',\n  assettext: 'MTU',\n  assetvalue: 'operation',\n}\n\nconst Console = {\n  log: (text) => console.log(text),\n}\n\nclass DeviceModalCreate extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      deviceTypes: [],\n      apps: [],\n      oldThings: [],\n      oldConnections: [],\n      isEnabled: true,\n      showModalCreateDevice: false,\n      isThingMacDisabled: false,\n      isConnectionNameDisabled: false,\n      newThing: {\n        name: '',\n        metadata: {\n          type: 'device',\n          mac: '',\n        },\n      },\n      config: {\n        id: '',\n        channel: [],\n        name: '',\n        cycle: '',\n        sendToApp: false,\n        sendToDB: false,\n        deviceType: undefined,\n        app: undefined,\n      },\n      newDevice: {\n        id: '',\n        title: alertMessagesText.title,\n        subtitle: alertMessagesText.subtitle,\n        assettext: alertMessagesText.assettext,\n        assetvalue: alertMessagesText.assetvalue,\n        longitude: '',\n        latitude: '',\n        severity: '',\n        alertext: '',\n        alertvalue: '',\n        messagetext: '',\n      },\n    }\n\n    this.oldThings = []\n    this.regexpName = /^\\w+$/\n    this.regexpMac = /^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\\1){4}[0-9a-z]{2}$/gim\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n    this.getThings()\n    this.getConnections()\n    this.getDeviceTypes()\n  }\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps !== this.props) {\n      this.getConnections()\n      this.getThings()\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldConnections) => {\n        this.setState({ oldConnections })\n        const connections = oldConnections.filter((item) => {\n          item.content = JSON.parse(item.content)\n          return item.content.type === 'app'\n        })\n        const apps = connections.map((item) => ({\n          key: item.external_id,\n          text: item.name,\n          value: item.external_id,\n        }))\n        if (this._isMounted) this.setState({ apps })\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getDeviceTypes = async () => {\n    fetch('http://134.209.240.215:8300/devices')\n      .then((res) => res.json())\n      .then((types) => {\n        const formattedTypes = types.map((type) => ({\n          text: type,\n          value: type,\n        }))\n        if (this._isMounted) {\n          this.setState({ deviceTypes: formattedTypes })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getThings = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldThings) => {\n        this.oldThings = oldThings\n        if (this._isMounted) this.setState({ oldThings })\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  createThing = async () => {\n    const { newThing } = this.state\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify(newThing),\n    })\n  }\n\n  getChannel = async (appMac) => {\n    const { oldConnections } = this.state\n    let channel = []\n    const app = oldConnections.filter((item) => (\n      item.external_id === appMac\n    ))\n    const arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldChannels) => oldChannels)\n      .catch((err) => Console.log(err))\n\n    channel = arr.filter((item) => (\n      item.name === app[0].name\n    ))\n    return channel[0]\n  }\n\n  getGlobalChannel = async (channelName) => {\n    const arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldChannels) => oldChannels)\n      .catch((err) => Console.log(err))\n    const globalChannel = arr.filter((item) => (\n      item.name === `zsse/${channelName}`\n    ))\n    return globalChannel[0]\n  }\n\n  // -- Start of creating device --\n  createDeviceConnection = async () => {\n    const { callbackFromParent } = this.props\n    const {\n      newThing,\n      connectionName,\n      config,\n      newDevice,\n    } = this.state\n    const {\n      cycle,\n      sendToApp,\n      sendToDB,\n      deviceType,\n      app,\n    } = config\n    let createdThing = []\n\n    try {\n      await this.createThing()\n      await this.getThings()\n\n      createdThing = this.oldThings.filter((item) => (\n        item.name === `zsse/${newThing.name}`\n      ))\n    } catch (err) {\n      Console.log(err)\n    }\n\n    let obj = {}\n    let channel = {}\n    if (sendToApp) {\n      channel = await this.getChannel(app)\n      obj = {\n        mac: newThing.metadata.mac,\n        id: createdThing[0].id,\n        channel: channel.id,\n        name: connectionName,\n        cycle,\n        sendToApp,\n        sendToDB,\n        deviceType,\n        app,\n      }\n    } else {\n      channel = await this.getGlobalChannel(process.env.REACT_APP_CHANNEL_NAME)\n      obj = {\n        mac: newThing.metadata.mac,\n        id: createdThing[0].id,\n        channel: channel.id,\n        name: connectionName,\n        cycle,\n        deviceType,\n        sendToApp,\n        sendToDB,\n      }\n    }\n\n    try {\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/create/device`,\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n          body: JSON.stringify(obj),\n        },\n      )\n\n      if (sendToApp) {\n        await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n          mode: 'cors',\n          credentials: 'include',\n        })\n          .then((response) => response.json())\n          .then((response) => {\n            response.content = JSON.parse(response.content)\n            const { content } = response\n            content.devices.push({\n              device_name: `zsse/${connectionName}`,\n              device_id: createdThing[0].id,\n              device_key: createdThing[0].key,\n              deviceType: obj.deviceType,\n            })\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n              {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n                body: JSON.stringify({ response }),\n              },\n            )\n            // - Connecting to App's channel - //\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${response.mainflux_channels[0].id}/things/${createdThing[0].id}`,\n              {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n              },\n            )\n          })\n      } else {\n        await fetch(\n          `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${createdThing[0].id}`,\n          {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n          },\n        )\n      }\n      if (sendToDB) {\n        const {\n          title,\n          subtitle,\n          severity,\n          alerttext,\n          alertvalue,\n          assettext,\n          assetvalue,\n          messagetext,\n          longitude,\n          latitude,\n        } = newDevice\n        const createdDevice = {\n          id: newThing.name,\n          title,\n          subtitle,\n          severity,\n          alerttext,\n          alertvalue,\n          assettext,\n          assetvalue,\n          messagetext,\n          longitude,\n          latitude,\n        }\n\n        await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/device/create`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n          body: JSON.stringify(createdDevice),\n        })\n      }\n      await this.getConnections()\n\n      // Close and send data to parent\n      const { showModalCreateDevice, oldConnections } = this.state\n      if (this._isMounted) this.setState({ showModalCreateDevice: false })\n      callbackFromParent(showModalCreateDevice, oldConnections)\n      if (this._isMounted) {\n        this.setState((prevState) => ({\n          config: {\n            ...prevState.config,\n            sendToApp: false,\n          },\n        }))\n      }\n    } catch (err) {\n      Console.log(err)\n    }\n  }\n  // -- End of creating device --\n\n  close = async () => {\n    const { callbackFromParent } = this.props\n    const { showModalCreateDevice, oldConnections } = this.state\n    this.setState({ showModalCreateDevice: false })\n    this.setState((prevState) => ({\n      config: {\n        ...prevState.config,\n        sendToApp: false,\n      },\n    }))\n    callbackFromParent(showModalCreateDevice, oldConnections)\n  }\n\n  handleChangeConnectionName = (e) => {\n    const { oldConnections } = this.state\n    const str = e.target.value\n    const arr = oldConnections.filter((item) => (\n      item.name === `zsse/${str}`\n    ))\n    if ((arr.length !== 0 || !this.regexpName.test(str)) && this._isMounted) {\n      if (this._isMounted) this.setState({ isConnectionNameDisabled: true })\n    } else if ((arr.length === 0 || this.regexpName.test(str)) && this._isMounted) {\n      this.setState((prevState) => ({\n        newThing: {\n          ...prevState.newThing,\n          name: str,\n        },\n        connectionName: str,\n        isConnectionNameDisabled: false,\n      }))\n    }\n  }\n\n  handleChangeThingMac = (e) => {\n    const { oldThings } = this.state\n    const str = e.target.value\n    const arr = oldThings.filter((item) => (\n      item.metadata.mac === str\n    ))\n    if ((arr.length !== 0 || !this.regexpMac.test(str)) && this._isMounted) {\n      this.setState({ isThingMacDisabled: true })\n    } else if ((arr.length === 0 || this.regexpMac.test(str)) && this._isMounted) {\n      this.setState((prevState) => ({\n        newThing: {\n          ...prevState.newThing,\n          metadata: {\n            ...prevState.newThing.metadata,\n            mac: str,\n          },\n        },\n        isThingMacDisabled: false,\n      }))\n    }\n  }\n\n  // TODO:\n  // handleChangeConfig = e => {\n  //   if(this._isMounted) {\n  //     var config = {...this.state.config};\n  //     config[Object.keys(e)[0]] = e[Object.keys(e)[0]];\n  //     this.setState({config});\n  //   }\n  // };\n\n  handleChangeCycle = (e) => {\n    const str = e.target.value\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          cycle: str,\n        },\n        isEnabled:\n          prevState.config.cycle.length <= 4 && /^\\d+$/.test(prevState.config.cycle),\n      }))\n    }\n  }\n\n  handleChangeSendToApp = (e, { checked }) => {\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          sendToApp: checked,\n        },\n      }))\n    }\n    this.getConnections()\n  }\n\n  handleChangeSendToDB = (e, { checked }) => {\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          sendToDB: checked,\n        },\n      }))\n    }\n  }\n\n  handleChangeDeviceType = (e, { value }) => {\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          deviceType: value,\n        },\n      }))\n    }\n  }\n\n  handleChangeApp = (e, { value }) => {\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          app: value,\n        },\n      }))\n    }\n  }\n\n  handleChangeNewDevice = (e) => {\n    const { newDevice } = this.state\n    if (this._isMounted) {\n      const createdDevice = { ...newDevice }\n      createdDevice[Object.keys(e)[0]] = e[Object.keys(e)[0]]\n      this.setState({ newDevice: createdDevice })\n    }\n  }\n\n  render() {\n    const { showModalCreateDevice } = this.props\n    const {\n      isThingMacDisabled,\n      isConnectionNameDisabled,\n      isEnabled,\n      deviceTypes,\n      apps,\n      config,\n      newDevice,\n    } = this.state\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalCreateDevice}\n        onClose={this.close}\n      >\n        <Modal.Header> CREATE DEVICE </Modal.Header>\n\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Name</label>\n              <input\n                placeholder=\"name\"\n                onChange={(e) => this.handleChangeConnectionName(e)}\n                className={isConnectionNameDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Mac</label>\n              <input\n                placeholder=\"mac\"\n                onChange={(e) => this.handleChangeThingMac(e)}\n                className={isThingMacDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Device type</label>\n              <Dropdown\n                placeholder=\"type\"\n                fluid\n                selection\n                options={deviceTypes}\n                onChange={this.handleChangeDeviceType}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Cycle</label>\n              <input\n                placeholder=\"cycle\"\n                className={!isEnabled ? 'showError' : 'showSuccess'}\n                onChange={(e) => this.handleChangeCycle(e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Checkbox\n                label={\n                  config.sendToApp\n                    ? 'This device will be sent to App'\n                    : 'Click checkbox for send this config to App'\n                }\n                onChange={this.handleChangeSendToApp}\n              />\n              <Checkbox\n                label={\n                  config.sendToDB\n                    ? 'This device have additional info'\n                    : 'Click checkbox for additional info'\n                }\n                onChange={this.handleChangeSendToDB}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToApp ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Apps</label>\n              <Dropdown\n                placeholder=\"apps\"\n                fluid\n                selection\n                options={apps}\n                onChange={this.handleChangeApp}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Title</label>\n              <input\n                placeholder=\"Device title\"\n                onChange={(e) => this.handleChangeNewDevice({ title: e.target.value })}\n                value={newDevice.title}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Subtitle</label>\n              <input\n                placeholder=\"Device subtitle\"\n                onChange={(e) => this.handleChangeNewDevice({ subtitle: e.target.value })}\n                value={newDevice.subtitle}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Latitude</label>\n              <input\n                placeholder=\"Device latitude\"\n                onChange={(e) => this.handleChangeNewDevice({ latitude: e.target.value })}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Longitude</label>\n              <input\n                placeholder=\"Device longitude\"\n                onChange={(e) => this.handleChangeNewDevice({ longitude: e.target.value })}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Asset text</label>\n              <input\n                placeholder=\"Asset text\"\n                onChange={(e) => this.handleChangeNewDevice({ assettext: e.target.value })}\n                value={newDevice.assettext}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Asset value</label>\n              <input\n                placeholder=\"Asset value\"\n                onChange={(e) => this.handleChangeNewDevice({ assetvalue: e.target.value })}\n                value={newDevice.assetvalue}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n\n        <Modal.Actions>\n          <Button color=\"black\" onClick={this.close}>\n            Cancel\n          </Button>\n          <Button\n            positive\n            icon=\"plus\"\n            labelPosition=\"right\"\n            content=\"Create\"\n            disabled={isThingMacDisabled || isConnectionNameDisabled || !isEnabled}\n            onClick={this.createDeviceConnection}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default DeviceModalCreate\n\nDeviceModalCreate.propTypes = {\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalCreateDevice: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport '../connections/Connections.scss'\nimport {\n  Button,\n  Modal,\n  Form,\n  Dropdown,\n  Checkbox,\n} from 'semantic-ui-react'\n\nconst alertMessagesText = {\n  title: 'Turbine',\n  subtitle: 'LM2500',\n  assettext: 'MTU',\n  assetvalue: 'operation',\n}\n\nconst Console = {\n  log: (text) => console.log(text),\n}\n\nclass DeviceModalEdit extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalEditDevice: false,\n      isEnabled: true,\n      deviceTypes: [],\n      apps: [],\n      config: {},\n      selectedDeviceType: '',\n      selectedApp: '',\n      oldConnections: [],\n      isConnectionNameDisabled: false,\n      handleSendToApp: undefined,\n      handleSendToDB: undefined,\n      editDevice: {\n        id: '',\n        title: alertMessagesText.title,\n        subtitle: alertMessagesText.subtitle,\n        latitude: '',\n        longitude: '',\n        assettext: alertMessagesText.assettext,\n        assetvalue: alertMessagesText.assetvalue,\n        severity: '',\n        alerttext: '',\n        alertvalue: '',\n        messagetext: '',\n      },\n    }\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n    const { connection } = this.props\n    const { externalId, name, content } = connection\n    this.getConfigById(externalId)\n    this.getThings().then(() => {\n      if (this._isMounted) this.forceUpdate()\n    })\n    this.getDeviceTypes()\n    this.getConnections()\n    if (content.sendToDB) {\n      this.getDeviceInfoFromDB(name.split('/')[1])\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !(nextProps === this.props && nextState === this.state)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getConfigById = async (id) => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((config) => {\n        config.content = JSON.parse(config.content)\n        const selectedApp = config.content.app\n        const selectedDeviceType = config.content.device_type\n        const handleSendToApp = config.content.sendToApp\n        const handleSendToDB = config.content.sendToDB\n        if (this._isMounted) {\n          this.setState({\n            selectedApp,\n            selectedDeviceType,\n            config,\n            handleSendToApp,\n            handleSendToDB,\n          })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  // getThings = async () => {\n  //   const { connection } = this.props\n  //   await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n  //     mode: 'cors',\n  //     credentials: 'include',\n  //   })\n  //     .then((res) => res.json())\n  //     .then((oldThings) => {\n  //       const currentThing = oldThings.filter((item) => item.id === connection.mainflux_id)\n  //       if (this._isMounted) {\n  //         this.setState({ currentThing: currentThing[0] })\n  //       }\n  //     })\n  //     .catch((err) => Console.log(err))\n  // }\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldConnections) => {\n        const connections = oldConnections.filter((item) => {\n          item.content = JSON.parse(item.content)\n          return item.content.type === 'app'\n        })\n        const apps = connections.map((item) => ({ value: item.external_id, text: item.name.split('.')[0] }))\n        if (this._isMounted) this.setState({ apps, oldConnections })\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getDeviceTypes = async () => {\n    fetch('http://134.209.240.215:8300/devices')\n      .then((res) => res.json())\n      .then((types) => {\n        const formattedTypes = types.map((type) => ({ text: type, value: type }))\n        if (this._isMounted) this.setState({ deviceTypes: formattedTypes })\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getChannel = async (appMac) => {\n    const { oldConnections } = this.state\n    const app = oldConnections.filter((item) => item.external_id === appMac)\n    const arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldChannels) => oldChannels)\n      .catch((err) => Console.log(err))\n\n    const channel = arr.filter((item) => item.name === app[0].name)\n    return channel[0]\n  }\n\n  getGlobalChannel = async (channelName) => {\n    const arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldChannels) => oldChannels)\n      .catch((err) => Console.log(err))\n    const globalChannel = arr.filter((item) => item.name === `zsse/${channelName}`)\n    return globalChannel[0]\n  }\n\n  getDeviceInfoFromDB = async (deviceId) => {\n    const device = await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/device/${deviceId}`,\n      {\n        mode: 'cors',\n        credentials: 'include',\n      },\n    )\n      .then((res) => res.json())\n      .catch((e) => Console.log(e))\n    const {\n      id,\n      title,\n      subtitle,\n      severity,\n      alerttext,\n      alertvalue,\n      assettext,\n      assetvalue,\n      messagetext,\n      longitude,\n      latitude,\n    } = device\n    this.setState((prevState) => ({\n      editDevice: {\n        ...prevState.editDevice,\n        id,\n        title,\n        subtitle,\n        severity,\n        alerttext,\n        alertvalue,\n        assettext,\n        assetvalue,\n        messagetext,\n        longitude,\n        latitude,\n      },\n    }))\n  }\n\n  close = () => {\n    const { callbackFromParent } = this.props\n    const { showModalEditDevice } = this.state\n    if (this._isMounted) this.setState({ showModalEditDevice: false })\n    callbackFromParent(showModalEditDevice)\n  }\n\n  editDevice = async () => {\n    const {\n      config,\n      oldConnections,\n      handleSendToApp,\n      handleSendToDB,\n      editDevice,\n    } = this.state\n    const {\n      name,\n      cycle,\n      deviceType,\n      app,\n      sendToApp,\n      sendToDB,\n      mac,\n    } = config.content\n    let obj = {}\n\n    await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/things/${config.mainflux_id}`,\n      {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n      },\n    )\n      .then((response) => response.json())\n      .then(async (thing) => {\n        await fetch(\n          `${process.env.REACT_APP_EXPRESS_HOST}/api/things/edit/${config.mainflux_id}`,\n          {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            body: JSON.stringify({ name, metadata: thing.metadata }),\n          },\n        )\n      })\n\n    let channel = {}\n    if (handleSendToApp) {\n      channel = await this.getChannel(app)\n      obj = {\n        type: 'device',\n        id: config.mainflux_id,\n        mac,\n        channel: channel.id,\n        sendToApp: handleSendToApp,\n        sendToDB: handleSendToDB,\n        name,\n        cycle,\n        deviceType,\n        app,\n      }\n    } else {\n      channel = await this.getGlobalChannel(process.env.REACT_APP_CHANNEL_NAME)\n      obj = {\n        type: 'device',\n        id: config.mainflux_id,\n        mac,\n        channel: channel.id,\n        sendToApp: handleSendToApp,\n        sendToDB: handleSendToDB,\n        name,\n        deviceType,\n        cycle,\n      }\n    }\n\n    // -- Update Device\n    await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${config.mainflux_id}`,\n      {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify({ obj }),\n      },\n    )\n    await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/channels/${config.mainflux_id}`,\n      {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify({ obj }),\n      },\n    )\n\n    if (sendToDB === true && handleSendToDB === false) {\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/device/remove/${\n          editDevice.id.split('/')[1]\n        }`,\n        {\n          method: 'DELETE',\n          mode: 'cors',\n          credentials: 'include',\n        },\n      ).catch((err) => Console.log(err))\n    } else if (sendToDB === false && handleSendToDB === true) {\n      const {\n        title,\n        subtitle,\n        severity,\n        alerttext,\n        alertvalue,\n        assettext,\n        assetvalue,\n        messagetext,\n        longitude,\n        latitude,\n      } = editDevice\n      const newDevice = {\n        id: config.content.name.split('/')[1],\n        title,\n        subtitle,\n        severity,\n        alerttext,\n        alertvalue,\n        assettext,\n        assetvalue,\n        messagetext,\n        longitude,\n        latitude,\n      }\n\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/device/create`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify(newDevice),\n      })\n    } else if (sendToDB === true && handleSendToDB === true) {\n      const {\n        id,\n        title,\n        subtitle,\n        severity,\n        alerttext,\n        alertvalue,\n        assettext,\n        assetvalue,\n        messagetext,\n        longitude,\n        latitude,\n      } = editDevice\n      const editedDevice = {\n        id: config.content.name.split('/')[1],\n        title,\n        subtitle,\n        severity,\n        alerttext,\n        alertvalue,\n        assettext,\n        assetvalue,\n        messagetext,\n        longitude,\n        latitude,\n      }\n\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/device/update/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify(editedDevice),\n      })\n    }\n\n    // -- IF DEVICE CONNECTED TO APP BUT IT SHOULD BE DISCONNECTED -- //\n    if (sendToApp === true && handleSendToApp === false) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          response.content = JSON.parse(response.content)\n          const { content } = response\n\n          content.devices = content.devices.filter((item) => item.device_id !== config.mainflux_id)\n\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n            {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              mode: 'cors',\n              credentials: 'include',\n              body: JSON.stringify({ response }),\n            },\n          )\n        })\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`,\n        {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n        },\n      )\n      this.close()\n      return\n    }\n    // -- IF DEVICE DOESN'T CONNECTED TO APP BUT IT SHOULD BE CONNECTED -- //\n    if (sendToApp === false && handleSendToApp === true) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          response.content = JSON.parse(response.content)\n          const { content } = response\n          content.devices.push({\n            device_name: `zsse/${obj.name}`,\n            device_id: config.mainflux_id,\n            device_key: config.mainflux_key,\n            device_type: obj.device_type,\n          })\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n            {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              mode: 'cors',\n              credentials: 'include',\n              body: JSON.stringify({ response }),\n            },\n          )\n        })\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`,\n        {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n        },\n      )\n      await this.getConnections()\n    }\n\n    if (sendToApp) {\n      // -- Get current Device config\n      const currentDevice = oldConnections.filter((item) => item.mainflux_id === config.mainflux_id)\n\n      if (currentDevice[0].content.app !== obj.app) {\n        await fetch(\n          `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${currentDevice[0].content.app}`,\n          {\n            mode: 'cors',\n            credentials: 'include',\n          },\n        )\n          .then((response) => response.json())\n          .then((response) => {\n            response.content = JSON.parse(response.content)\n            const { content } = response\n            content.devices = content.devices\n              .filter((item) => item.device_id !== currentDevice[0].mainflux_id)\n\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n              {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n                body: JSON.stringify({ response }),\n              },\n            )\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`,\n              {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n              },\n            )\n          })\n      }\n\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          response.content = JSON.parse(response.content)\n          const { content } = response\n          const editThing = content.devices.filter((item) => item.device_id === config.mainflux_id)\n          if (editThing.length === 0) {\n            content.devices.push({\n              device_name: name,\n              device_id: config.mainflux_id,\n              device_key: config.mainflux_key,\n              deviceType,\n            })\n          } else {\n            const editThingIndex = content.devices.indexOf(editThing[0])\n            content.devices[editThingIndex] = {\n              device_name: name,\n              device_id: config.mainflux_id,\n              device_key: config.mainflux_key,\n              deviceType,\n            }\n          }\n\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n            {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              mode: 'cors',\n              credentials: 'include',\n              body: JSON.stringify({ response }),\n            },\n          )\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`,\n            {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              mode: 'cors',\n              credentials: 'include',\n            },\n          )\n        })\n    }\n\n    this.close()\n  }\n\n  handleChangeConnectionName = (e) => {\n    const { oldConnections } = this.state\n    const currentValue = e.target.value\n    const arr = oldConnections.filter((item) => item.name === `zsse/${currentValue}`)\n    if (arr.length !== 0 && this._isMounted) {\n      this.setState({ isConnectionNameDisabled: true })\n    } else if (arr.length === 0 && this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          content: {\n            ...prevState.config.content,\n            name: currentValue,\n          },\n        },\n        isConnectionNameDisabled: false,\n      }))\n    }\n  }\n\n  handleChangeCycle = (e) => {\n    const currentValue = e.target.value\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          content: {\n            ...prevState.config.content,\n            cycle: currentValue,\n          },\n        },\n        isEnabled:\n          prevState.config.content.cycle.length <= 4\n          && /^\\d+$/.test(prevState.config.content.cycle),\n      }))\n    }\n  }\n\n  handleChangeDeviceType = (e, { value }) => {\n    const currentValue = value\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          content: {\n            ...prevState.config.content,\n            device_type: currentValue,\n          },\n        },\n        selectedDeviceType: value,\n      }))\n    }\n  }\n\n  handleChangeSendToApp = (e, { checked }) => {\n    if (this._isMounted) this.setState({ handleSendToApp: checked })\n    this.getConnections()\n  }\n\n  handleChangeSendToDB = (e, { checked }) => {\n    if (this._isMounted) this.setState({ handleSendToDB: checked })\n  }\n\n  handleChangeApp = (e, { value }) => {\n    const currentValue = value\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          content: {\n            ...prevState.config.content,\n            app: currentValue,\n          },\n        },\n        selectedApp: value,\n      }))\n    }\n  }\n\n  handleChangeEditDevice = (e) => {\n    const { editDevice } = this.state\n    if (this._isMounted) {\n      const editingDevice = { ...editDevice }\n      editingDevice[Object.keys(e)[0]] = e[Object.keys(e)[0]]\n      this.setState({ editDevice: editingDevice })\n    }\n  }\n\n  render() {\n    const { showModalEditDevice } = this.props\n    const {\n      config,\n      isEnabled,\n      deviceTypes,\n      apps,\n      selectedDeviceType,\n      selectedApp,\n      isConnectionNameDisabled,\n      handleSendToApp,\n      handleSendToDB,\n      editDevice,\n    } = this.state\n    const {\n      title,\n      subtitle,\n      // severity,\n      // alerttext,\n      // alertvalue,\n      assettext,\n      assetvalue,\n      // messagetext,\n      longitude,\n      latitude,\n    } = editDevice\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalEditDevice}\n        onClose={this.close}\n      >\n        <Modal.Header>EDIT DEVICE</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"mainflux_id\">Thing ID</label>\n              <input\n                placeholder=\"mainflux_id\"\n                value={config.content !== undefined ? config.mainflux_id : ''}\n                readOnly\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Thing Key</label>\n              <input\n                placeholder=\"mainflux_key\"\n                value={config.content !== undefined ? config.mainflux_key : ''}\n                readOnly\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"name\"> Name </label>\n              <input\n                placeholder=\"name\"\n                onChange={(e) => this.handleChangeConnectionName(e)}\n                value={config.content !== undefined ? config.content.name : ''}\n                className={isConnectionNameDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"cycle\"> Cycle </label>\n              <input\n                placeholder=\"cycle\"\n                value={config.content !== undefined ? config.content.cycle : ''}\n                className={!isEnabled ? 'showError' : 'showSuccess'}\n                onChange={(e) => this.handleChangeCycle(e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"device_type\"> Device Type </label>\n              <Dropdown\n                placeholder=\"device type\"\n                fluid\n                selection\n                options={deviceTypes}\n                value={selectedDeviceType}\n                onChange={this.handleChangeDeviceType}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Checkbox\n                label={\n                  handleSendToApp\n                    ? \"This device's config sent to App\"\n                    : \"Click checkbox for send this device's config to App\"\n                }\n                onChange={this.handleChangeSendToApp}\n                checked={handleSendToApp}\n              />\n              <Checkbox\n                label={\n                  handleSendToDB\n                    ? 'This device have additional info'\n                    : 'Click checkbox for additional info'\n                }\n                onChange={this.handleChangeSendToDB}\n                checked={handleSendToDB}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToApp ? '' : 'hide'}>\n              <label htmlFor=\"apps\">Apps</label>\n              <Dropdown\n                placeholder=\"apps\"\n                fluid\n                selection\n                options={apps}\n                onChange={this.handleChangeApp}\n                value={selectedApp}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"title\">Title</label>\n              <input\n                placeholder=\"Device title\"\n                onChange={(e) => this.handleChangeEditDevice({ title: e.target.value })}\n                value={title !== undefined ? title : ''}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"subtitle\">Subtitle</label>\n              <input\n                placeholder=\"Device subtitle\"\n                onChange={(e) => this.handleChangeEditDevice({ subtitle: e.target.value })}\n                value={subtitle !== undefined ? subtitle : ''}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"latitude\">Latitude</label>\n              <input\n                placeholder=\"Device latitude\"\n                onChange={(e) => this.handleChangeEditDevice({ latitude: e.target.value })}\n                value={latitude !== undefined ? latitude : ''}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"longitude\">Longitude</label>\n              <input\n                placeholder=\"Device longitude\"\n                onChange={(e) => this.handleChangeEditDevice({ longitude: e.target.value })}\n                value={longitude !== undefined ? longitude : ''}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"asset_text\">Asset text</label>\n              <input\n                placeholder=\"Asset text\"\n                onChange={(e) => this.handleChangeEditDevice({ assettext: e.target.value })}\n                value={assettext !== undefined ? assettext : ''}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"asset_value\">Asset value</label>\n              <input\n                placeholder=\"Asset value\"\n                onChange={(e) => this.handleChangeEditDevice({ assetvalue: e.target.value })}\n                value={assetvalue !== undefined ? assetvalue : ''}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color=\"black\" onClick={this.close}>\n            No\n          </Button>\n          <Button\n            positive\n            icon=\"edit outline\"\n            labelPosition=\"right\"\n            content=\"Yes\"\n            onClick={this.editDevice}\n            disabled={isConnectionNameDisabled || !isEnabled}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default DeviceModalEdit\n\nDeviceModalEdit.propTypes = {\n  connection: PropTypes.instanceOf(Object).isRequired,\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalEditDevice: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './Connections.scss'\nimport {\n  Button,\n  Header,\n  Modal,\n  Icon,\n} from 'semantic-ui-react'\n\nconst Console = {\n  log: (text) => console.log(text),\n}\n\nclass ConnectionModalRemove extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalRemove: false,\n      isRemoveable: true,\n    }\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n  }\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const { content } = nextProps.connection\n    if (\n      (content !== undefined\n      && content.type === 'app'\n      && content.devices.length !== 0)\n      && this._isMounted\n    ) {\n      this.setState({ isRemoveable: false })\n    } else if (\n      (content !== undefined\n      && content.type !== 'app'\n      && content.devices.length === 0)\n      && this._isMounted) {\n      this.setState({ isRemoveable: true })\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getChannel = async (app) => {\n    const arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldChannels) => oldChannels)\n      .catch((err) => Console.log(err))\n\n    const channel = arr.filter((item) => item.name === app)\n    return channel[0]\n  }\n\n  removeConnection = async (connection) => {\n    const { callbackFromParent } = this.props\n    const { showModalRemove } = this.state\n    const { sendToApp, app, type } = connection.content\n    fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/things/remove/${connection.mainflux_id}`,\n      {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n      },\n    )\n    fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/remove/${connection.mainflux_id}`,\n      {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n      },\n    )\n    fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/device/remove/${connection.mainflux_id}`,\n      {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n      },\n    )\n    if (sendToApp) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          response.content = JSON.parse(response.content)\n          const { content } = response\n\n          content.devices = content.devices.filter((item) => (\n            item.device_id !== connection.mainflux_id))\n\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n            {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              mode: 'cors',\n              credentials: 'include',\n              body: JSON.stringify({ response }),\n            },\n          )\n        })\n    }\n    if (type === 'app') {\n      const arr = await this.getChannel(connection.name)\n      fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/remove/${arr.id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n      })\n    }\n\n    if (this._isMounted) {\n      this.setState({ showModalRemove: false })\n    }\n    callbackFromParent(showModalRemove, connection.mainflux_id)\n  }\n\n  close = () => {\n    const { callbackFromParent } = this.props\n    const { showModalRemove } = this.state\n    if (this._isMounted) {\n      this.setState({ showModalRemove: false, isRemoveable: true }, () => {\n        callbackFromParent(showModalRemove)\n      })\n    }\n  }\n\n  render() {\n    const { showModalRemove, connection } = this.props\n    const { isRemoveable } = this.state\n    return (\n      <Modal basic size=\"small\" open={showModalRemove}>\n        <Header\n          icon=\"archive\"\n          content={isRemoveable ? 'REMOVE CONNECTION?' : 'CAN NOT REMOVE CONNECTION'}\n        />\n        <Modal.Content>\n          <p>\n            {isRemoveable\n              ? `Do you want to remove connection: ${connection.name}`\n              : `CONNECTION '${connection.name}' HAVE CONNECTED DEVICES. FIRST REMOVE CONNECTED DEVICES.`}\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color=\"green\" inverted onClick={this.close}>\n            <Icon name=\"remove\" />\n            {' '}\n            No\n          </Button>\n          <Button\n            color=\"red\"\n            inverted\n            onClick={() => (isRemoveable ? this.removeConnection(connection) : this.close())}\n          >\n            <Icon name=\"checkmark\" />\n            {' '}\n            Yes\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default ConnectionModalRemove\n\nConnectionModalRemove.propTypes = {\n  connection: PropTypes.instanceOf(Object).isRequired,\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalRemove: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport { Button, Header, Modal, Icon } from 'semantic-ui-react'\n\nclass ErrorModal extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalError: false,\n    }\n  }\n\n  close = () => {\n    this.setState({ showModalRemove: false })\n    this.props.callbackFromParent(this.state.showModalError)\n  }\n\n  render() {\n    const { showModalError, errorText } = this.props\n\n    return (\n      <Modal basic size=\"small\" open={showModalError}>\n        <Header icon=\"archive\" content=\"ERROR\" />\n        <Modal.Content>\n          <p>{errorText}</p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color=\"green\" inverted onClick={this.close}>\n            <Icon name=\"remove\" /> Close\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default ErrorModal\n","import React, { Component } from 'react'\nimport './Connections.scss'\nimport {\n  Item,\n  Button,\n  Icon,\n  Popup,\n  Loader,\n} from 'semantic-ui-react'\nimport AppModalCreate from '../applications/AppModalCreate'\nimport AppModalEdit from '../applications/AppModalEdit'\nimport DeviceModalCreate from '../devices/DeviceModalCreate'\nimport DeviceModalEdit from '../devices/DeviceModalEdit'\nimport ConnectionModalRemove from './ConnectionModalRemove'\nimport ErrorModal from '../errorModal'\n\nconst Console = {\n  log: (text) => console.log(text),\n}\n\nclass Connections extends Component {\n  _isMounted = false\n\n  constructor() {\n    super()\n\n    this.state = {\n      connections: [],\n      showModalCreateApp: false,\n      showModalEditApp: false,\n      showModalCreateDevice: false,\n      showModalEditDevice: false,\n      showModalError: false,\n      edittingApp: {},\n      edittingDevice: {},\n      removingConnection: {},\n      errorText: '',\n      loader: true,\n    }\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n    this.getToken()\n    this.getConnections()\n  }\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps !== this.props) {\n      this.getConnections()\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getToken = async () => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/users/login`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({ email: `${process.env.REACT_APP_MAINFLUX_USER}` }),\n    })\n  }\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((connections) => {\n        const parsedConnections = connections.map((item) => {\n          item.content = JSON.parse(item.content)\n          return item\n        })\n        if (this._isMounted) {\n          this.setState({ connections: parsedConnections, loader: false })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  createAppModalCallback = (showModalCreateApp, oldConnections) => {\n    if (this._isMounted) {\n      this.setState({ showModalCreateApp, connections: oldConnections })\n    }\n    this.getConnections()\n  }\n\n  createDeviceModalCallback = (showModalCreateDevice, oldConnections) => {\n    if (this._isMounted) {\n      this.setState({ showModalCreateDevice, connections: oldConnections })\n    }\n    this.getConnections()\n  }\n\n  removeModalCallback = (showModalRemove, id) => {\n    const { connections } = this.state\n    if (this._isMounted) this.setState({ showModalRemove })\n    if (id) {\n      // FIXME:\n      const bunchOfConnections = connections\n      const connection = bunchOfConnections.filter((i) => i.mainflux_id === id)\n      const { type, app } = connection[0].content\n      if (type === 'device' && app !== undefined) {\n        const connectedApp = connections.filter((i) => i.external_id === app)\n        const edittedApp = connectedApp[0].content.devices.filter(\n          (i) => i.device_id !== id,\n        )\n        connections[\n          connections.indexOf(connectedApp[0])\n        ].content.devices = edittedApp\n        if (this._isMounted) this.setState({ connections })\n      }\n      if (this._isMounted) {\n        this.setState({\n          connections: connections.filter((i) => i.mainflux_id !== id),\n        })\n      }\n    }\n  }\n\n  editAppModalCallback = (showModalEditApp) => {\n    if (this._isMounted) this.setState({ showModalEditApp })\n    this.getConnections()\n  }\n\n  editDeviceModalCallback = (showModalEditDevice) => {\n    if (this._isMounted) this.setState({ showModalEditDevice })\n    this.getConnections()\n  }\n\n  errorModalCallback = (showModalError) => {\n    if (this._isMounted) this.setState({ showModalError })\n  }\n\n  render() {\n    const {\n      connections,\n      showModalCreateApp,\n      showModalCreateDevice,\n      showModalRemove,\n      showModalEditApp,\n      showModalEditDevice,\n      showModalError,\n      edittingApp,\n      edittingDevice,\n      removingConnection,\n      errorText,\n      loader,\n    } = this.state\n\n    return (\n      <div id=\"connections\" className=\"main_wrapper\">\n        <div className=\"connection_top\">\n          <h1> Connections </h1>\n          <div className=\"connection_btn__wrapper\">\n            <Button\n              icon\n              labelPosition=\"left\"\n              onClick={() => this.setState({ showModalCreateApp: true })}\n            >\n              <Icon name=\"chain\" />\n              Create App\n            </Button>\n            <Button\n              icon\n              labelPosition=\"left\"\n              onClick={() => this.setState({ showModalCreateDevice: true })}\n            >\n              <Icon name=\"chain\" />\n              Create Device\n            </Button>\n          </div>\n        </div>\n        <hr />\n        <Item.Group relaxed>\n          {<Loader active={loader} content=\"Loading\" />}\n          {connections.length === 0 ? (\n            <p>\n              Unfortunately we did not find your connections. It will be great to\n              create some.\n              <span role=\"img\" aria-label=\"Sad\">\n                \n              </span>\n            </p>\n          ) : (\n            connections.map((item) => (\n              <Item key={item.mainflux_id}>\n                <Item.Content verticalAlign=\"middle\">\n                  <Popup\n                    content={(\n                      <div>\n                        <p>\n                          id:\n                          {' '}\n                          {item.mainflux_id}\n                        </p>\n                        <p>\n                          key:\n                          {' '}\n                          {item.mainflux_key}\n                        </p>\n                      </div>\n                    )}\n                    trigger={<Item.Header>{item.name}</Item.Header>}\n                  />\n                  <Item.Description>{item.content.type}</Item.Description>\n                  <Item.Description>{item.external_id}</Item.Description>\n                  <Item.Extra>\n                    <Button\n                      color=\"red\"\n                      floated=\"right\"\n                      icon=\"trash alternate outline\"\n                      labelPosition=\"right\"\n                      content=\"Remove\"\n                      onClick={() => this.setState({\n                        showModalRemove: true,\n                        removingConnection: item,\n                      })}\n                    />\n                    <Button\n                      color=\"yellow\"\n                      floated=\"right\"\n                      icon=\"edit outline\"\n                      labelPosition=\"right\"\n                      content=\"Edit\"\n                      onClick={() => (item.content.type === 'app'\n                        ? this.setState({\n                          showModalEditApp: true,\n                          edittingApp: item,\n                        })\n                        : this.setState({\n                          showModalEditDevice: true,\n                          edittingDevice: item,\n                        }))}\n                    />\n                  </Item.Extra>\n                </Item.Content>\n              </Item>\n            ))\n          )}\n        </Item.Group>\n\n        {showModalCreateApp ? (\n          <AppModalCreate\n            showModalCreateApp={showModalCreateApp}\n            callbackFromParent={this.createAppModalCallback}\n          />\n        ) : null}\n\n        {showModalCreateDevice ? (\n          <DeviceModalCreate\n            showModalCreateDevice={showModalCreateDevice}\n            callbackFromParent={this.createDeviceModalCallback}\n          />\n        ) : null}\n\n        {showModalRemove ? (\n          <ConnectionModalRemove\n            showModalRemove={showModalRemove}\n            connection={removingConnection}\n            callbackFromParent={this.removeModalCallback}\n          />\n        ) : null}\n\n        {showModalError ? (\n          <ErrorModal\n            showModalError={showModalError}\n            errorText={errorText}\n            callbackFromParent={this.errorModalCallback}\n          />\n        ) : null}\n\n        {showModalEditApp ? (\n          <AppModalEdit\n            showModalEditApp={showModalEditApp}\n            connection={edittingApp}\n            callbackFromParent={this.editAppModalCallback}\n          />\n        ) : null}\n\n        {showModalEditDevice ? (\n          <DeviceModalEdit\n            showModalEditDevice={showModalEditDevice}\n            connection={edittingDevice}\n            callbackFromParent={this.editDeviceModalCallback}\n          />\n        ) : null}\n      </div>\n    )\n  }\n}\n\nexport default Connections\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './Channels.scss'\nimport { Button, Form, Modal } from 'semantic-ui-react'\n\nclass ChannelModalCreate extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalCreate: false,\n      channel: {\n        name: '',\n        metadata: {},\n      },\n    }\n  }\n\n  createChannel = async () => {\n    const { channel } = this.state\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({ channel }),\n    })\n    this.close()\n  }\n\n  close = () => {\n    const { callbackFromParent } = this.props\n    const { showModalCreate } = this.state\n    this.setState({ showModalCreate: false })\n    callbackFromParent(showModalCreate)\n  }\n\n  handleChangeName = (e) => {\n    const str = e.target.value\n    this.setState((prevState) => ({\n      channel: {\n        ...prevState.channel,\n        name: str,\n      },\n    }))\n  }\n\n  render() {\n    const { showModalCreate } = this.props\n    const { name } = this.state\n\n    return (\n      <Modal closeIcon dimmer=\"blurring\" open={showModalCreate} onClose={this.close}>\n        <Modal.Header>CREATE THING</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"name\">Name</label>\n              <input\n                placeholder=\"name\"\n                value={name}\n                onChange={(e) => this.handleChangeName(e)}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color=\"black\" onClick={this.close}>\n            No\n          </Button>\n          <Button\n            positive\n            icon=\"edit outline\"\n            labelPosition=\"right\"\n            content=\"Yes\"\n            onClick={() => this.createChannel(name)}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default ChannelModalCreate\n\nChannelModalCreate.propTypes = {\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalCreate: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './Channels.scss'\nimport {\n  Button,\n  Header,\n  Modal,\n  Icon,\n} from 'semantic-ui-react'\n\nclass ChannelModalRemove extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalRemove: false,\n    }\n  }\n\n  removeChannel = async (id) => {\n    const { callbackFromParent } = this.props\n    const { showModalRemove } = this.state\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/remove/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n    this.setState({ showModalRemove: false })\n    callbackFromParent(showModalRemove, id)\n  }\n\n  close = () => {\n    const { callbackFromParent } = this.props\n    const { showModalRemove } = this.state\n    this.setState({ showModalRemove: false })\n    callbackFromParent(showModalRemove)\n  }\n\n  render() {\n    const { showModalRemove, channel } = this.props\n\n    return (\n      <Modal basic size=\"small\" open={showModalRemove}>\n        <Header icon=\"archive\" content=\"REMOVE CHANNEL?\" />\n        <Modal.Content>\n          <p>\n            Do you want to remove channel:\n            {' '}\n            {channel.name}\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color=\"green\" inverted onClick={this.close}>\n            <Icon name=\"remove\" />\n            {' '}\n            No\n          </Button>\n          <Button\n            color=\"red\"\n            inverted\n            onClick={(event) => {\n              this.removeChannel(channel.id, event)\n            }}\n          >\n            <Icon name=\"checkmark\" />\n            {' '}\n            Yes\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default ChannelModalRemove\n\nChannelModalRemove.propTypes = {\n  channel: PropTypes.instanceOf(Object).isRequired,\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalRemove: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport './Channels.scss'\nimport {\n  Item, Button, Icon, Loader,\n} from 'semantic-ui-react'\nimport ChannelModalCreate from './ChannelModalCreate'\nimport ChannelModalRemove from './ChannelModalRemove'\n// import ChannelModalEdit from './ChannelModalEdit';\n\nclass Channels extends Component {\n  constructor() {\n    super()\n    this.state = {\n      channels: [],\n      // edittingChannel: {},\n      removingChannel: {},\n      showModalRemove: false,\n      // showModalEdit: false,\n      showModalCreate: false,\n      loader: true,\n    }\n  }\n\n  async componentDidMount() {\n    await this.getToken()\n    this.getChannels()\n  }\n\n  getToken = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/users/login`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({ email: `${process.env.REACT_APP_MAINFLUX_USER}` }),\n    })\n  }\n\n  getChannels = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((channels) => this.setState({ channels, loader: false }))\n      .catch((err) => err)\n  }\n\n  removeModalCallback = (showModalRemove, removeItemId) => {\n    this.setState({ showModalRemove })\n    if (removeItemId) {\n      this.setState((prevState) => ({\n        channels: prevState.channels.filter((item) => item.id !== removeItemId),\n      }))\n    }\n  }\n\n  // editModalCallback = showModalEdit => {\n  //   this.setState({ showModalEdit });\n  // };\n\n  createChannelModalCallback = async (showModalCreate) => {\n    this.setState({ showModalCreate })\n    await this.getChannels()\n  }\n\n  render() {\n    const {\n      channels,\n      // showModalEdit,\n      showModalCreate,\n      showModalRemove,\n      removingChannel,\n      // edittingChannel,\n      loader,\n    } = this.state\n\n    return (\n      <div id=\"channels\" className=\"main_wrapper\">\n        <div className=\"channel_top\">\n          <h1>Channels</h1>\n          <Button\n            icon\n            labelPosition=\"left\"\n            onClick={() => this.setState({ showModalCreate: true })}\n          >\n            <Icon name=\"podcast\" />\n            Create Channel\n          </Button>\n        </div>\n        <hr />\n        <Item.Group relaxed>\n          {<Loader active={loader} content=\"Loading\" />}\n          {channels.length === 0 ? (\n            <p>\n              Unfortunately we did not find your channels.\n              <span role=\"img\" aria-label=\"Sad\">\n                \n              </span>\n            </p>\n          ) : (\n            channels.map((item) => (\n              <Item key={item.id}>\n                <Item.Content verticalAlign=\"middle\">\n                  <Item.Header>{item.name}</Item.Header>\n                  <Item.Description>{item.id}</Item.Description>\n                  <Item.Extra>\n                    <Button\n                      color=\"red\"\n                      floated=\"right\"\n                      icon=\"trash alternate outline\"\n                      labelPosition=\"right\"\n                      content=\"Remove\"\n                      onClick={() => this.setState({\n                        showModalRemove: true,\n                        removingChannel: item,\n                      })}\n                    />\n                    {/* <Button\n                      color=\"yellow\"\n                      floated='right'\n                      icon='edit outline'\n                      labelPosition='right'\n                      content=\"Edit\"\n                      onClick={() => this.setState({ showModalEdit: true, edittingChannel: item })}\n                    /> */}\n                  </Item.Extra>\n                </Item.Content>\n              </Item>\n            ))\n          )}\n        </Item.Group>\n\n        {showModalRemove ? (\n          <ChannelModalRemove\n            showModalRemove={showModalRemove}\n            channel={removingChannel}\n            callbackFromParent={this.removeModalCallback}\n          />\n        ) : null}\n\n        {/* {\n          showModalEdit\n          ? <ChannelModalEdit\n              showModalEdit={showModalEdit}\n              channel={edittingChannel}\n              callbackFromParent={this.editModalCallback}\n            />\n          : null\n        } */}\n\n        {showModalCreate ? (\n          <ChannelModalCreate\n            showModalCreate={showModalCreate}\n            callbackFromParent={this.createChannelModalCallback}\n          />\n        ) : null}\n      </div>\n    )\n  }\n}\n\nexport default Channels\n","import * as actionTypes from '../../types/graphs'\n\n// eslint-disable-next-line import/prefer-default-export\nexport const graphActionWindow = (data) => (dispatch) => {\n  dispatch({\n    type: actionTypes.SHOW_GRAPH_ACTION_WINDOW,\n    payload: data,\n  })\n}\n\nexport const addGraphAction = (data) => (dispatch) => {\n  dispatch({\n    type: actionTypes.ADD_GRAPH,\n    payload: data,\n  })\n}\n\nexport const toggleGraphDraggingAction = (data) => (dispatch) => {\n  dispatch({\n    type: actionTypes.TOGGLE_GRAPH_DRAGGING,\n    payload: data,\n  })\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport {\n  Button,\n  Form,\n  Modal,\n  Dropdown,\n} from 'semantic-ui-react'\n\nimport { addGraphAction } from '../actions/graphs'\nimport './GraphWrapper/GraphWrapper.scss'\n\nconst types = [\n  { key: 0, text: 'Timeseries', value: 'timeseries' },\n  { key: 1, text: 'KPI', value: 'kpi' },\n  { key: 2, text: 'Table', value: 'table' },\n]\n\nclass GraphActionWindow extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isVisible: false,\n      config: {\n        title: '',\n        type: '',\n        device: '',\n        date: 0,\n      },\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.showEditWindow !== state.isVisible) {\n      return {\n        isVisible: true,\n        config: {\n          title: props.graphTitle,\n          type: props.graphType,\n          device: props.deviceName,\n          date: props.requestDate,\n        },\n      }\n    }\n\n    return null\n  }\n\n  componentDidMount() {}\n\n  handleChangeData = (key, e) => {\n    const { value, textContent } = e.target\n    if (value === undefined) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          [key]: textContent.toLowerCase(),\n        },\n      }))\n      return\n    }\n    this.setState((prevState) => ({\n      config: {\n        ...prevState.config,\n        [key]: value,\n      },\n    }))\n  }\n\n  handleSubmit = () => {\n    const { callbackFromParent } = this.props\n    const { config } = this.state\n    callbackFromParent(config)\n    // eslint-disable-next-line react/destructuring-assignment\n    this.props.addGraphAction(config)\n  }\n\n  onClose = () => {\n    const { callbackFromParent } = this.props\n    const { isVisible } = this.state\n    this.setState({ isVisible: false })\n    callbackFromParent(isVisible)\n  }\n\n  render() {\n    const { showEditWindow } = this.props\n    const { config } = this.state\n\n    return (\n      <Modal closeIcon dimmer=\"blurring\" open={showEditWindow} onClose={() => this.onClose()}>\n        <Modal.Header>\n          {config.title}\n          {' '}\n          Graph\n        </Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"name\">Title</label>\n              <input\n                placeholder=\"title\"\n                value={config.title}\n                onChange={(e) => this.handleChangeData('title', e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Type</label>\n              <Dropdown\n                placeholder=\"types\"\n                fluid\n                selection\n                options={types}\n                onChange={(e) => this.handleChangeData('type', e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"name\">Device name</label>\n              <input\n                placeholder=\"device\"\n                value={config.device}\n                onChange={(e) => this.handleChangeData('device', e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"name\">Date</label>\n              <input\n                placeholder=\"date\"\n                value={config.date}\n                onChange={(e) => this.handleChangeData('date', e)}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color=\"black\" onClick={() => this.onClose()}>\n            No\n          </Button>\n          <Button\n            positive\n            icon=\"edit outline\"\n            labelPosition=\"right\"\n            content=\"Yes\"\n            onClick={() => this.handleSubmit()}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  graph: state.config,\n})\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addGraphAction: (config) => dispatch(addGraphAction(config)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GraphActionWindow)\n\nGraphActionWindow.propTypes = {\n  callbackFromParent: PropTypes.func.isRequired,\n  addGraphAction: PropTypes.func.isRequired,\n  showEditWindow: PropTypes.bool.isRequired,\n  graphTitle: PropTypes.string.isRequired,\n  graphType: PropTypes.string.isRequired,\n  deviceName: PropTypes.string.isRequired,\n  requestDate: PropTypes.number.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Store from '../../store/configureStore'\n\nclass ToggleComponent extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      opened: false,\n    }\n    Store.subscribe(() => {\n      this.setState({ opened: Store.getState().graph.showGraphActionWindow })\n    })\n  }\n\n  toggleComponent = () => {\n    const { opened } = this.state\n    this.setState({ opened: !opened })\n  }\n\n  render() {\n    // let { title } = this.props\n    const { children } = this.props\n    const { opened } = this.state\n\n    // if (opened) {\n    //   title = 'Hide Component'\n    // } else {\n    //   title = 'Show Component'\n    // }\n\n    return (\n      <div className=\"component\">\n        {/* <button\n          type=\"button\"\n          className=\"componentTitle\"\n          onClick={this.toggleComponent}\n        >\n          { title }\n        </button> */}\n        {opened && (\n          <div className=\"componentContent\">\n            { children }\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default ToggleComponent\n\nToggleComponent.propTypes = {\n  // title: PropTypes.string.isRequired,\n  children: PropTypes.instanceOf(Object).isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, Brush,\n} from 'recharts'\n\nclass Timeseries extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      opacity: {\n        uv: 1,\n        pv: 1,\n      },\n    }\n  }\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillReceiveProps(props, nextProps) {\n    if (props === nextProps) {\n      return false\n    }\n    return true\n  }\n\n  handleMouseEnter = (o) => {\n    const { dataKey } = o\n    const { opacity } = this.state\n\n    this.setState({\n      opacity: { ...opacity, [dataKey]: 0.5 },\n    })\n  }\n\n  handleMouseLeave = (o) => {\n    const { dataKey } = o\n    const { opacity } = this.state\n\n    this.setState({\n      opacity: { ...opacity, [dataKey]: 1 },\n    })\n  }\n\n  render() {\n    const { width, height, data } = this.props\n    const { opacity } = this.state\n    return (\n      <div id=\"timeseries\" className=\"disable-dragging\">\n        <LineChart\n          width={width - 20}\n          height={height - 20}\n          data={data}\n          margin={{\n            top: 5, right: 30, left: 20, bottom: 5,\n          }}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey=\"name\" />\n          <YAxis />\n          <Tooltip />\n          <Legend onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave} />\n          <Line type=\"monotone\" dataKey=\"pv\" strokeOpacity={opacity.pv} stroke=\"#8884d8\" activeDot={{ r: 8 }} />\n          <Line type=\"monotone\" dataKey=\"uv\" strokeOpacity={opacity.uv} stroke=\"#82ca9d\" />\n          <Brush />\n        </LineChart>\n      </div>\n    )\n  }\n}\n\nexport default Timeseries\n\nTimeseries.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  data: PropTypes.instanceOf(Array).isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport GraphActionWindow from '../GraphActionWindow'\n\nimport './GraphWrapper.scss'\nimport EditIcon from '../../../static/icons/edit.svg'\nimport RemoveIcon from '../../../static/icons/delete.svg'\n\nexport default class GraphWrapperHeader extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      showEditWindow: false,\n    }\n    this.editBtnRef = React.createRef()\n    this.removeBtnRef = React.createRef()\n  }\n\n  handleClick = (node) => {\n    const { showEditWindow } = this.state\n    if (node.className === 'graph_edit__btn') {\n      this.editWindow(!showEditWindow)\n    } else if (node.className === 'graph_remove__btn') {\n      console.info('Remove button clicked...')\n    }\n  }\n\n  editWindow = (showEditWindow) => {\n    this.setState({ showEditWindow })\n  }\n\n  render() {\n    const { graphTitle, width } = this.props\n    const { showEditWindow } = this.state\n    return (\n      <div\n        id=\"graph_wrapper__header\"\n        style={{\n          borderTopLeftRadius: 5,\n          borderTopRightRadius: 5,\n          width,\n        }}\n      >\n        <div className=\"graph_name\">\n          <h5>{graphTitle}</h5>\n        </div>\n        <div className=\"graph_actions\">\n          <button\n            type=\"button\"\n            className=\"graph_edit__btn\"\n            onClick={() => this.handleClick(this.editBtnRef.current)}\n            ref={this.editBtnRef}\n          >\n            <img\n              src={EditIcon}\n              alt=\"Edit graph\"\n            />\n          </button>\n          <button\n            type=\"button\"\n            className=\"graph_remove__btn\"\n            onClick={() => this.handleClick(this.removeBtnRef.current)}\n            ref={this.removeBtnRef}\n          >\n            <img\n              src={RemoveIcon}\n              alt=\"Remove graph\"\n            />\n          </button>\n        </div>\n        {showEditWindow ? (\n          <GraphActionWindow\n            showEditWindow={showEditWindow}\n            callbackFromParent={this.editWindow}\n            graphTitle={graphTitle}\n          />\n        ) : null}\n      </div>\n    )\n  }\n}\n\nGraphWrapperHeader.propTypes = {\n  graphTitle: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Rnd } from 'react-rnd'\nimport Timeseries from '../Timeseries'\nimport GraphWrapperHeader from './GraphWrapperHeader'\nimport Store from '../../../store/configureStore'\n\nclass GraphWrapper extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      width: 620,\n      height: 350,\n    }\n  }\n\n  componentDidMount() {\n    const { defaultWidth, defaultHeight } = Store.getState().graph\n    this._isMounted = true\n    this.setState({\n      width: defaultWidth,\n      height: defaultHeight,\n    })\n  }\n\n  render() {\n    const {\n      width,\n      height,\n    } = this.state\n    const { type, title, data } = this.props\n    let component\n\n    if (type === 'timeseries') {\n      component = (\n        <Timeseries\n          width={width}\n          height={height - 30}\n          type={type}\n          title={title}\n          data={data}\n        />\n      )\n    } else {\n      component = <h4 style={{ color: 'red' }}>Error occured, please check the configs of this graph!</h4>\n    }\n\n    return (\n      <div\n        style={{ margin: 0, paddingBottom: '40px' }}\n      >\n        <Rnd\n          default={{\n            x: 0,\n            y: 0,\n            width,\n            height,\n          }}\n          style={{\n            background: '#EBEFF2',\n            position: 'relative',\n            padding: '10px',\n            borderRadius: '5px',\n          }}\n          onResize={(e, direction, ref, delta, position) => {\n            // console.info(parseInt(ref.style.width, 10), parseInt(ref.style.height, 10))\n            this.setState({\n              width: parseInt(ref.style.width, 10),\n              height: parseInt(ref.style.height, 10),\n              ...position,\n            })\n          }}\n          cancel=\".disable-dragging\"\n        >\n          <GraphWrapperHeader width={width - 20} graphTitle={title} />\n          {component}\n        </Rnd>\n      </div>\n    )\n  }\n}\n\nexport default GraphWrapper\n\nGraphWrapper.propTypes = {\n  type: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  data: PropTypes.instanceOf(Object).isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { graphActionWindow } from '../../shared/actions/graphs'\nimport Store from '../../store/configureStore'\n\nimport './Graphs.scss'\n\nimport GraphActionWindow from '../../shared/components/GraphActionWindow'\nimport ToggleComponent from '../../shared/components/ToggleComponent'\nimport GraphWrapper from '../../shared/components/GraphWrapper/GraphWrapper'\n\nconst data = [\n  {\n    name: 'Page A', uv: 4000, pv: 2400, amt: 2400,\n  },\n  {\n    name: 'Page B', uv: 3000, pv: 1398, amt: 2210,\n  },\n  {\n    name: 'Page C', uv: 2000, pv: 9800, amt: 2290,\n  },\n  {\n    name: 'Page D', uv: 2780, pv: 3908, amt: 2000,\n  },\n  {\n    name: 'Page E', uv: 1890, pv: 4800, amt: 2181,\n  },\n  {\n    name: 'Page F', uv: 2390, pv: 3800, amt: 2500,\n  },\n  {\n    name: 'Page G', uv: 3490, pv: 4300, amt: 2100,\n  },\n]\n\nclass Graphs extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      graphsList: [],\n    }\n    Store.subscribe(() => {\n      this.setState({ graphsList: Store.getState().graph.graphsList })\n    })\n  }\n\n  async componentDidMount() {\n    const { graphsList } = Store.getState().graph\n    this._isMounted = true\n    this.setState({ graphsList })\n    // fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/edit/${channel.id}`, {\n    //   method: 'PUT',\n    //   headers: {\n    //     'Content-Type': 'application/json',\n    //   },\n    //   mode: 'cors',\n    //   credentials: 'include',\n    //   body: JSON.stringify({ name: channel.name, metadata: channel.metadata }),\n    // })\n  }\n\n  shouldComponentUpdate(prevProps, prevState) {\n    if (this.state === prevState) {\n      return false\n    }\n    return true\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  createGraph = () => {\n    const { showGraphActionWindow } = this.props\n    showGraphActionWindow(!Store.getState().graph.showGraphActionWindow)\n  }\n\n  render() {\n    const { graphsList } = this.state\n    return (\n      <div id=\"graphs\" className=\"main_wrapper\">\n        <div className=\"graphs_header\">\n          <button type=\"button\" onClick={this.createGraph}>Create</button>\n        </div>\n        {\n          graphsList.length > 0\n            ? graphsList.map((item, i) => (\n              <GraphWrapper\n                // eslint-disable-next-line react/no-array-index-key\n                key={i}\n                title={item.title}\n                type={item.type}\n                data={data}\n              />\n            ))\n            : ''\n        }\n\n        <ToggleComponent title=\"Show Component\">\n          <GraphActionWindow\n            showEditWindow\n            callbackFromParent={this.createGraph}\n            graphTitle=\"\"\n            graphType=\"\"\n            deviceName=\"\"\n            requestDate={0}\n          />\n        </ToggleComponent>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  showGraphActionWindow: state.isShowGraphActionWindow,\n})\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    showGraphActionWindow: (isVisible) => dispatch(graphActionWindow(isVisible)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Graphs)\n\nGraphs.propTypes = {\n  showGraphActionWindow: PropTypes.func.isRequired,\n}\n","import React from 'react'\n\nconst Notfound = () => (\n  <div className=\"main_wrapper\">\n    <h1>Nothing was found</h1>\n    <p>\n      Unfortunately we did not find anything for your request.\n      <span role=\"img\" aria-label=\"Sad\">\n        \n      </span>\n    </p>\n  </div>\n)\n\nexport default Notfound\n","import React, { Component } from 'react'\nimport {\n  Route, NavLink, BrowserRouter as Router, Switch,\n} from 'react-router-dom'\nimport { Menu } from 'semantic-ui-react'\nimport './App.scss'\nimport 'semantic-ui-css/semantic.min.css'\nimport Home from './components/Home'\nimport TopBar from './components/TopBar'\nimport Connections from './components/connections/Connections'\nimport Channels from './components/channels/Channels'\nimport Graphs from './components/graphs/Graphs'\nimport Notfound from './components/NotFound'\n\nexport default class App extends Component {\n  checkActive = (location) => {\n    const { url } = location\n    if (url === '/') return true\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <TopBar />\n        <Router>\n          <div id=\"sidebar_wrapper\">\n            <Menu id=\"sidebar_menu\" secondary vertical>\n              <ul>\n                <li>\n                  <NavLink\n                    to=\"/\"\n                    activeClassName=\"active_item\"\n                    isActive={this.checkActive}\n                  >\n                    Home\n                  </NavLink>\n                </li>\n                <li>\n                  <NavLink to=\"/channels\" activeClassName=\"active_item\">\n                    Channels\n                  </NavLink>\n                </li>\n                <li>\n                  <NavLink to=\"/connections\" activeClassName=\"active_item\">\n                    Connections\n                  </NavLink>\n                </li>\n                <li>\n                  <NavLink to=\"/graphs\" activeClassName=\"active_item\">\n                    Graphs\n                  </NavLink>\n                </li>\n              </ul>\n            </Menu>\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route path=\"/channels\" component={Channels} />\n              <Route path=\"/connections\" component={Connections} />\n              <Route path=\"/graphs\" component={Graphs} />\n              <Route component={Notfound} />\n            </Switch>\n          </div>\n        </Router>\n      </div>\n    )\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n            + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\n// import Keycloak from 'keycloak-js'\nimport { Provider } from 'react-redux'\nimport store from './store/configureStore'\n\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n)\nserviceWorker.register()\n\n// keycloak init options\n// const initOptions = {\n//   url: 'http://key.zeinetsse.com/auth',\n//   realm: 'zeinetsse',\n//   clientId: 'mainflux_admin',\n//   onLoad: 'login-required',\n// }\n\n// const keycloak = Keycloak(initOptions)\n\n// keycloak.init({ onLoad: initOptions.onLoad }).success((auth) => {\n//   if (!auth) {\n//     window.location.reload()\n//   } else {\n//     console.info('Authenticated')\n//   }\n\n//   // React Render\n//   ReactDOM.render(<App />, document.getElementById('root'))\n\n//   localStorage.setItem('react-token', keycloak.token)\n//   localStorage.setItem('react-refresh-token', keycloak.refreshToken)\n\n//   setTimeout(() => {\n//     keycloak.updateToken(70).success((refreshed) => {\n//       if (refreshed) {\n//         console.debug(`Token refreshed${refreshed}`)\n//       } else {\n//         console.warn(`Token not refreshed, valid for ${\n//           Math.round(keycloak.tokenParsed.exp + keycloak.timeSkew - new Date().getTime() / 1000)\n//         } seconds`)\n//       }\n//     }).error(() => {\n//       console.error('Failed to refresh token')\n//     })\n//   }, 60000)\n// }).error(() => {\n//   console.error('Authenticated Failed')\n// })\n"],"sourceRoot":""}