(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){},1475:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(62),i=n.n(o),r=(n(264),n(17)),s=n(18),l=n(20),d=n(19),u=n(21),h=n(84),p=n(56),m=n(1489),f=(n(265),n(165),function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"main_wrapper"},c.a.createElement("h1",null,"Home"),c.a.createElement("hr",null),c.a.createElement("p",null,"Here you can put everything your heart desires.",c.a.createElement("span",{role:"img","aria-label":"Hooray"},"\ud83d\ude42")))}}]),t}(a.Component)),v=n(152),g=n.n(v),b=n(249),C=n(1491),E=n(1490),y=n(1487),w=c.a.createElement("span",null,c.a.createElement(b.a,{avatar:!0,src:g.a.internet.avatar()})," ",g.a.name.findName()),T=[{key:"user",text:"Account",icon:"user"},{key:"settings",text:"Settings",icon:"settings"},{key:"sign-out",text:"Sign Out",icon:"sign out"}],j=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{id:"TopBar"},c.a.createElement(C.a,{clearing:!0,id:"top_menu"},c.a.createElement(E.a,{className:"topbar_left",floated:"left"},c.a.createElement("img",{className:"top_logo",alt:"Zeinetsse",src:"/ZeinetSSE.png"})),c.a.createElement(E.a,{className:"topbar_right",floated:"right"},c.a.createElement(y.a,{className:"top_dropdown",trigger:w,options:T,pointing:"top left",icon:null}))))}}]),t}(a.Component),k=n(7),O=n.n(k),x=n(16),M=(n(68),n(1488)),S=n(75),N=n(1486),z=n(1485),_=n(23),A=n(1484),D=n(1483),P=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).getThings=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/things"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){n.setState({oldThings:e})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.getConnections=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){n.setState({oldConnections:e})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.createThing=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/things/create"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(n.state.newThing)});case 2:case"end":return e.stop()}},e)})),n.createAppConnection=Object(x.a)(O.a.mark(function e(){var t,a,c,o,i,r,s,l,d;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.newThing,c=t.connectionName,e.prev=1,o=[],e.next=5,n.createThing();case 5:return e.next=7,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/things"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){o=e}).catch(function(e){return console.log(e)});case 7:i=o.filter(function(e){return e.name==="zsse/".concat(a.name)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:return r={mac:a.metadata.mac,id:i[0].id,channels:"".concat("16f86247-2da7-4389-8953-af9bf8045b8d"),name:c},e.prev=14,e.next=17,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/create/app"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(r)});case 17:return e.next=19,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/connection/create/channels/").concat("16f86247-2da7-4389-8953-af9bf8045b8d","/things/").concat(i[0].id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"});case 19:return e.next=21,n.getConnections();case 21:s=n.state,l=s.showModalCreateApp,d=s.oldConnections,n.setState({showModalCreateApp:!1}),n.props.callbackFromParent(l,d),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(14),console.log(e.t1);case 29:case"end":return e.stop()}},e,null,[[1,10],[14,26]])})),n.close=Object(x.a)(O.a.mark(function e(){var t,a,c;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state,a=t.showModalCreateApp,c=t.oldConnections,n.setState({showModalCreateApp:!1}),n.props.callbackFromParent(a,c);case 3:case"end":return e.stop()}},e)})),n.handleChangeConnectionName=function(e){var t=e.target.value;0===n.state.oldConnections.filter(function(e){return e.name===t}).length&&n.regexpName.test(t)?n.setState(function(e){return{newThing:Object(_.a)({},e.newThing,{name:t}),connectionName:t,isConnectionNameEnabled:!1}}):n.setState({isConnectionNameEnabled:!0})},n.handleChangeThingMac=function(e){var t=e.target.value;0===n.state.oldThings.filter(function(e){return e.metadata.mac===t}).length&&n.regexpMac.test(t)?n.setState(function(e){return{newThing:Object(_.a)({},e.newThing,{metadata:Object(_.a)({},e.newThing.metadata,{mac:t})}),isThingMacEnabled:!1}}):n.setState({isThingMacEnabled:!0})},n.state={showModalCreateApp:!1,isThingMacEnabled:!1,isConnectionNameEnabled:!1,oldThings:[],oldConnections:[],newThing:{name:"",metadata:{type:"app",mac:""}},connectionName:""},n.regexpName=/^\w+$/,n.regexpMac=/^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\1){4}[0-9a-z]{2}$/gim,n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getThings(),this.getConnections()}},{key:"render",value:function(){var e=this,t=this.props.showModalCreateApp,n=this.state,a=n.isThingMacEnabled,o=n.isConnectionNameEnabled;return c.a.createElement(A.a,{closeIcon:!0,dimmer:"blurring",open:t,onClose:this.close},c.a.createElement(A.a.Header,null," CREATE APP "),c.a.createElement(A.a.Content,null,c.a.createElement(D.a,null,c.a.createElement(D.a.Field,null,c.a.createElement("label",null," Name "),c.a.createElement("input",{placeholder:"name",onChange:function(t){return e.handleChangeConnectionName(t)},className:o?"show_error":""})),c.a.createElement(D.a.Field,null,c.a.createElement("label",null," Mac "),c.a.createElement("input",{placeholder:"mac",onChange:function(t){return e.handleChangeThingMac(t)},className:a?"show_error":""})))),c.a.createElement(A.a.Actions,null,c.a.createElement(M.a,{color:"black",onClick:this.close},"Cancel"),c.a.createElement(M.a,{positive:!0,icon:"plus",labelPosition:"right",content:"Create",disabled:a||o,onClick:this.createAppConnection})))}}]),t}(a.Component),R=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).getConfigById=function(){var e=Object(x.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=[];e.content=JSON.parse(e.content);for(var a=0;a<e.mainflux_channels.length;a++)t.push(e.mainflux_channels[a].id);n.setState({selectedChannels:t,config:e})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.getChannels=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("http://zsse.zeinetsse.com:5000","/api/channels"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=e.map(function(e,t){return{value:e.id,text:e.name}});n.setState({channels:t})}).catch(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e)})),n.editApp=Object(x.a)(O.a.mark(function e(){var t,a,c,o,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.config,a=n.state.config.content,c=a.mac,o=a.name,i={mac:c,id:t.mainflux_id,channels:t.mainflux_channels,name:o,type:"app",content:t.content},e.next=5,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/edit/info/").concat(t.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({obj:i})});case 5:n.close();case 6:case"end":return e.stop()}},e)})),n.close=function(){n.setState({showModalEditApp:!1}),n.props.callbackFromParent(n.state.showModalEditApp)},n.handleChangeName=function(e){var t=n.state.config;t.content.name=e.target.value,n.setState({config:t})},n.handleChangeChannel=function(e,t){var a=t.value,c=n.state.config;c.mainflux_channels=a,n.setState({config:c})},n.state={config:{},channels:[],selectedChannels:[],showModalEditApp:!1},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.connection!==this.props.connection&&this.getConfigById(e.connection.external_id)}},{key:"shouldComponentUpdate",value:function(e,t){return e!==this.props||t!==this.state}},{key:"componentDidMount",value:function(){this.getChannels()}},{key:"render",value:function(){var e=this,t=this.props.showModalEditApp,n=this.state,a=n.config,o=n.channels,i=n.selectedChannels;return c.a.createElement(A.a,{closeIcon:!0,dimmer:"blurring",open:t,onClose:this.close},c.a.createElement(A.a.Header,null,"EDIT CONNECTION"),c.a.createElement(A.a.Content,null,c.a.createElement(D.a,null,c.a.createElement(D.a.Field,null,c.a.createElement("label",null,"Name"),c.a.createElement("input",{placeholder:"name",value:void 0!==a.content?a.content.name:"",onChange:function(t){return e.handleChangeName(t)}})),c.a.createElement(D.a.Field,null,c.a.createElement("label",null,"Channels"),c.a.createElement(y.a,{placeholder:"channels",multiple:!0,fluid:!0,selection:!0,options:o,onChange:this.handleChangeChannel,value:i})))),c.a.createElement(A.a.Actions,null,c.a.createElement(M.a,{color:"black",onClick:this.close},"No"),c.a.createElement(M.a,{positive:!0,icon:"edit outline",labelPosition:"right",content:"Yes",onClick:this.editApp})))}}]),t}(a.Component),F=n(1482),J=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).getConnections=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){n.setState({oldConnections:e});var t=e.filter(function(e){return e.content=JSON.parse(e.content),"app"===e.content.type}).map(function(e){return{key:e.external_id,text:e.name,value:e.external_id}});n.setState({apps:t})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.getDeviceTypes=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://134.209.240.215:8300/devices").then(function(e){return e.json()}).then(function(e){var t=e.map(function(e,t){return{text:e,value:e}});n.setState({deviceTypes:t})}).catch(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e)})),n.getThings=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/things"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){n.oldThings=e,n.setState({oldThings:e})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.createThing=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/things/create"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(n.state.newThing)});case 2:case"end":return e.stop()}},e)})),n.createDeviceConnection=Object(x.a)(O.a.mark(function e(){var t,a,c,o,i,r,s,l,d,u,h,p,m;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.newThing,c=t.connectionName,o=t.config,i=o.cycle,r=o.sendToApp,s=o.device_type,l=o.app,e.prev=2,e.next=5,n.createThing();case 5:return e.next=7,n.getThings();case 7:d=n.oldThings.filter(function(e){return e.name==="zsse/".concat(a.name)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:return u={},u=r?{mac:a.metadata.mac,id:d[0].id,channel:"".concat("16f86247-2da7-4389-8953-af9bf8045b8d"),name:c,cycle:i,sendToApp:r,device_type:s,app:l}:{mac:a.metadata.mac,id:d[0].id,channel:"".concat("16f86247-2da7-4389-8953-af9bf8045b8d"),name:c,cycle:i,device_type:s,sendToApp:r},e.prev=16,e.next=19,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/create/device"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(u)});case 19:if(!r){e.next=22;break}return e.next=22,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/").concat(l),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content),e.content.devices.push({device_name:"zsse/".concat(c),device_id:d[0].id,device_key:d[0].key,device_type:u.device_type}),fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})})});case 22:return e.next=25,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/connection/create/channels/").concat("16f86247-2da7-4389-8953-af9bf8045b8d","/things/").concat(d[0].id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"});case 25:return e.next=27,n.getConnections();case 27:h=n.state,p=h.showModalCreateDevice,m=h.oldConnections,n.setState({showModalCreateDevice:!1}),n.props.callbackFromParent(p,m),n.setState(function(e){return{config:Object(_.a)({},e.config,{sendToApp:!1})}}),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(16),console.log(e.t1);case 36:case"end":return e.stop()}},e,null,[[2,10],[16,33]])})),n.close=Object(x.a)(O.a.mark(function e(){var t,a,c;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state,a=t.showModalCreateDevice,c=t.oldConnections,n.setState({showModalCreateDevice:!1}),n.setState(function(e){return{config:Object(_.a)({},e.config,{sendToApp:!1})}}),n.props.callbackFromParent(a,c);case 4:case"end":return e.stop()}},e)})),n.closeError=function(){n.setState({showModalError:!1,errorText:""})},n.handleChangeConnectionName=function(e){var t=e.target.value;0===n.state.oldConnections.filter(function(e){return e.name==="zsse/".concat(t)}).length&&n.regexpName.test(t)?n.setState(function(e){return{newThing:Object(_.a)({},e.newThing,{name:t}),connectionName:t,isConnectionNameDisabled:!1}}):n.setState({isConnectionNameDisabled:!0})},n.handleChangeThingMac=function(e){var t=e.target.value;0===n.state.oldThings.filter(function(e){return e.metadata.mac===t}).length&&n.regexpMac.test(t)?n.setState(function(e){return{newThing:Object(_.a)({},e.newThing,{metadata:Object(_.a)({},e.newThing.metadata,{mac:t})}),isThingMacDisabled:!1}}):n.setState({isThingMacDisabled:!0})},n.handleChangeCycle=function(e){var t=e.target.value;n.setState(function(e){return{config:Object(_.a)({},e.config,{cycle:t}),isEnabled:e.config.cycle.length<=4&&/^\d+$/.test(e.config.cycle)}})},n.handleChangeSendToApp=function(e,t){var a=t.checked;n.setState(function(e){return{config:Object(_.a)({},e.config,{sendToApp:a})}}),n.getConnections()},n.handleChangeDeviceType=function(e,t){var a=t.value;n.setState(function(e){return{config:Object(_.a)({},e.config,{device_type:a})}})},n.handleChangeApp=function(e,t){var a=t.value;n.setState(function(e){return{config:Object(_.a)({},e.config,{app:a})}})},n.state={deviceTypes:[],apps:[],oldThings:[],oldConnections:[],isEnabled:!0,showModalCreateDevice:!1,isThingMacDisabled:!1,isConnectionNameDisabled:!1,newThing:{name:"",metadata:{type:"device",mac:""}},config:{id:"",channel:[],name:"",cycle:"",sendToApp:!1,device_type:void 0,app:void 0}},n.oldThings=[],n.regexpName=/^\w+$/,n.regexpMac=/^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\1){4}[0-9a-z]{2}$/gim,n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&(this.getConnections(),this.getThings())}},{key:"componentDidMount",value:function(){this.getThings(),this.getConnections(),this.getDeviceTypes()}},{key:"render",value:function(){var e=this,t=this.props.showModalCreateDevice,n=this.state,a=n.isThingMacDisabled,o=n.isConnectionNameDisabled,i=n.isEnabled,r=n.deviceTypes,s=n.apps,l=n.config;return c.a.createElement(A.a,{closeIcon:!0,dimmer:"blurring",open:t,onClose:this.close},c.a.createElement(A.a.Header,null," CREATE DEVICE "),c.a.createElement(A.a.Content,null,c.a.createElement(D.a,null,c.a.createElement(D.a.Field,null,c.a.createElement("label",null," Name "),c.a.createElement("input",{placeholder:"name",onChange:function(t){return e.handleChangeConnectionName(t)},className:o?"show_error":""})),c.a.createElement(D.a.Field,null,c.a.createElement("label",null," Mac "),c.a.createElement("input",{placeholder:"mac",onChange:function(t){return e.handleChangeThingMac(t)},className:a?"show_error":""})),c.a.createElement(D.a.Field,null,c.a.createElement("label",null," Device type "),c.a.createElement(y.a,{placeholder:"type",fluid:!0,selection:!0,options:r,onChange:this.handleChangeDeviceType})),c.a.createElement(D.a.Field,null,c.a.createElement("label",null," Cycle "),c.a.createElement("input",{placeholder:"cycle",className:i?"showSuccess":"showError",onChange:function(t){return e.handleChangeCycle(t)}})),c.a.createElement(D.a.Field,null,c.a.createElement(F.a,{label:l.sendToApp?"This device will be sent to App":"Click checkbox for send this config to App",onChange:this.handleChangeSendToApp})),c.a.createElement(D.a.Field,{className:l.sendToApp?"":"hide"},c.a.createElement("label",null,"Apps"),c.a.createElement(y.a,{placeholder:"apps",fluid:!0,selection:!0,options:s,onChange:this.handleChangeApp})))),c.a.createElement(A.a.Actions,null,c.a.createElement(M.a,{color:"black",onClick:this.close},"Cancel"),c.a.createElement(M.a,{positive:!0,icon:"plus",labelPosition:"right",content:"Create",disabled:a||o||!i,onClick:this.createDeviceConnection})))}}]),t}(a.Component),I=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).getConfigById=function(){var e=Object(x.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content);var t=e.content.app,a=e.content.device_type,c=e.content.sendToApp;n.setState({selectedApp:t,selectedDeviceType:a,config:e,handleSendToApp:c})}).catch(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.getThings=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/things"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=e.filter(function(e){return e.id===n.props.connection.mainflux_id});n.setState({currentThing:t[0]})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.getConnections=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=e.filter(function(e){return e.content=JSON.parse(e.content),"app"===e.content.type}).map(function(e){return{value:e.external_id,text:e.name.split(".")[0]}});n.setState({apps:t,oldConnections:e})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.getDeviceTypes=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://134.209.240.215:8300/devices").then(function(e){return e.json()}).then(function(e){var t=e.map(function(e,t){return{text:e,value:e}});n.setState({deviceTypes:t})}).catch(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e)})),n.close=function(){n.setState({showModalEditDevice:!1}),n.props.callbackFromParent(n.state.showModalEditDevice)},n.editDevice=Object(x.a)(O.a.mark(function e(){var t,a,c,o,i,r,s,l,d,u,h,p,m;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.config,c=t.oldConnections,o=t.handleSendToApp,i=n.state.config.content,r=i.name,s=i.cycle,l=i.device_type,d=i.app,u=i.sendToApp,h=i.mac,p={},e.next=5,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/things/").concat(a.mainflux_id),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(){var e=Object(x.a)(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/things/edit/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({name:r,metadata:t.metadata})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 5:return p=o?{type:"device",id:a.mainflux_id,mac:h,sendToApp:o,name:r,cycle:s,device_type:l,app:d}:{type:"device",id:a.mainflux_id,mac:h,sendToApp:o,name:r,device_type:l,cycle:s},e.next=9,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/edit/info/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({obj:p})});case 9:if(!0!==u||!1!==o){e.next=18;break}return e.next=12,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/").concat(d),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content);var t=e.content;t.devices=t.devices.filter(function(e){return e.device_id!==a.mainflux_id}),fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})})});case 12:return e.next=14,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/connection/create/channels/").concat("16f86247-2da7-4389-8953-af9bf8045b8d","/things/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"});case 14:return n.close(),e.abrupt("return");case 18:if(!1!==u||!0!==o){e.next=25;break}return e.next=21,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/").concat(d),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content),e.content.devices.push({device_name:"zsse/".concat(p.name),device_id:a.mainflux_id,device_key:a.mainflux_key,device_type:p.device_type}),fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})})});case 21:return e.next=23,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/connection/create/channels/").concat("16f86247-2da7-4389-8953-af9bf8045b8d","/things/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"});case 23:return e.next=25,n.getConnections();case 25:if(!u){e.next=33;break}if((m=c.filter(function(e){return e.mainflux_id===a.mainflux_id}))[0].content.app===p.app){e.next=31;break}return e.next=31,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/").concat(m[0].content.app),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content);var t=e.content;t.devices=t.devices.filter(function(e){return e.device_id!==m[0].mainflux_id}),fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})}),fetch("".concat("http://zsse.zeinetsse.com:5000","/api/connection/create/channels/").concat("16f86247-2da7-4389-8953-af9bf8045b8d","/things/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"})});case 31:return e.next=33,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/").concat(d),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content);var t=e.content,n=t.devices.filter(function(e){return e.device_id===a.mainflux_id});if(0===n.length)t.devices.push({device_name:r,device_id:a.mainflux_id,device_key:a.mainflux_key,device_type:l});else{var c=t.devices.indexOf(n[0]);t.devices[c]={device_name:r,device_id:a.mainflux_id,device_key:a.mainflux_key,device_type:l}}fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})}),fetch("".concat("http://zsse.zeinetsse.com:5000","/api/connection/create/channels/").concat("16f86247-2da7-4389-8953-af9bf8045b8d","/things/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"})});case 33:n.close();case 35:case"end":return e.stop()}},e)})),n.handleChangeConnectionName=function(e){var t=e.target.value;0!==n.state.oldConnections.filter(function(e){return e.name==="zsse/".concat(t)}).length?n.setState({isConnectionNameDisabled:!0}):n.setState(function(e){return{config:Object(_.a)({},e.config,{content:Object(_.a)({},e.config.content,{name:t})}),isConnectionNameDisabled:!1}})},n.handleChangeCycle=function(e){var t=e.target.value;n.setState(function(e){return{config:Object(_.a)({},e.config,{content:Object(_.a)({},e.config.content,{cycle:t})}),isEnabled:e.config.content.cycle.length<=4&&/^\d+$/.test(e.config.content.cycle)}})},n.handleChangeDeviceType=function(e,t){var a=t.value,c=a;n.setState(function(e){return{config:Object(_.a)({},e.config,{content:Object(_.a)({},e.config.content,{device_type:c})}),selectedDeviceType:a}})},n.handleChangeSendToApp=function(e,t){var a=t.checked;n.setState({handleSendToApp:a}),n.getConnections()},n.handleChangeApp=function(e,t){var a=t.value,c=a;n.setState(function(e){return{config:Object(_.a)({},e.config,{content:Object(_.a)({},e.config.content,{app:c})}),selectedApp:a}})},n.state={showModalEditDevice:!1,isEnabled:!0,deviceTypes:[],apps:[],config:{},selectedDeviceType:[],selectedApp:[],oldConnections:[],isConnectionNameDisabled:!1,handleSendToApp:void 0},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.connection!==this.props.connection&&(this.getConfigById(e.connection.external_id),this.getThings().then(function(){t.forceUpdate()})),this.getConnections()}},{key:"shouldComponentUpdate",value:function(e,t){return e===this.props||t!==this.state}},{key:"componentDidMount",value:function(){this.getDeviceTypes(),this.getConnections()}},{key:"render",value:function(){var e=this,t=this.props.showModalEditDevice,n=this.state,a=n.config,o=n.isEnabled,i=n.deviceTypes,r=n.apps,s=n.selectedDeviceType,l=n.selectedApp,d=n.isConnectionNameDisabled,u=n.handleSendToApp;return c.a.createElement(A.a,{closeIcon:!0,dimmer:"blurring",open:t,onClose:this.close},c.a.createElement(A.a.Header,null,"EDIT DEVICE"),c.a.createElement(A.a.Content,null,c.a.createElement(D.a,null,c.a.createElement(D.a.Field,null,c.a.createElement("label",null," Name "),c.a.createElement("input",{placeholder:"name",onChange:function(t){return e.handleChangeConnectionName(t)},value:void 0!==a.content?a.content.name:"",className:d?"show_error":""})),c.a.createElement(D.a.Field,null,c.a.createElement("label",null," Cycle "),c.a.createElement("input",{placeholder:"cycle",value:void 0!==a.content?a.content.cycle:"",className:o?"showSuccess":"showError",onChange:function(t){return e.handleChangeCycle(t)}})),c.a.createElement(D.a.Field,null,c.a.createElement("label",null," Device Type "),c.a.createElement(y.a,{placeholder:"device type",fluid:!0,selection:!0,options:i,value:s,onChange:this.handleChangeDeviceType})),c.a.createElement(D.a.Field,null,c.a.createElement(F.a,{label:u?"This device's config sent to App":"Click checkbox for send this device's config to App",onChange:this.handleChangeSendToApp,checked:u})),c.a.createElement(D.a.Field,{className:u?"":"hide"},c.a.createElement("label",null,"Apps"),c.a.createElement(y.a,{placeholder:"apps",fluid:!0,selection:!0,options:r,onChange:this.handleChangeApp,value:l})))),c.a.createElement(A.a.Actions,null,c.a.createElement(M.a,{color:"black",onClick:this.close},"No"),c.a.createElement(M.a,{positive:!0,icon:"edit outline",labelPosition:"right",content:"Yes",onClick:this.editDevice,disabled:d||!o})))}}]),t}(a.Component),U=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).removeConnection=function(){var e=Object(x.a)(O.a.mark(function e(t){var a,c,o;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(fetch("".concat("http://zsse.zeinetsse.com:5000","/api/things/remove/").concat(t.mainflux_id),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}),fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/remove/").concat(t.mainflux_id),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}),a=t.content,c=a.sendToApp,o=a.app,!c){e.next=6;break}return e.next=6,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/").concat(o),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content);var n=e.content;n.devices=n.devices.filter(function(e){return e.device_id!==t.mainflux_id}),fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})})});case 6:n.setState({showModalRemove:!1}),n.props.callbackFromParent(n.state.showModalRemove,t.mainflux_id);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.close=function(){n.setState({showModalRemove:!1,isRemoveable:!0},function(){n.props.callbackFromParent(n.state.showModalRemove)})},n.state={showModalRemove:!1,isRemoveable:!0},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.connection.content;void 0!==t&&"app"===t.type&&0!==t.devices.length?this.setState({isRemoveable:!1}):this.setState({isRemoveable:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.showModalRemove,a=t.connection,o=this.state.isRemoveable;return c.a.createElement(A.a,{basic:!0,size:"small",open:n},c.a.createElement(E.a,{icon:"archive",content:o?"REMOVE CONNECTION?":"CAN NOT REMOVE CONNECTION"}),c.a.createElement(A.a.Content,null,c.a.createElement("p",null,o?"Do you want to remove connection: ".concat(a.name):"CONNECTION '".concat(a.name,"' HAVE CONNECTED DEVICES. FIRST REMOVE CONNECTED DEVICES."))),c.a.createElement(A.a.Actions,null,c.a.createElement(M.a,{basic:!0,color:"green",inverted:!0,onClick:this.close},c.a.createElement(S.a,{name:"remove"})," No"),c.a.createElement(M.a,{color:"red",inverted:!0,onClick:function(){o?e.removeConnection(a):e.close()}},c.a.createElement(S.a,{name:"checkmark"})," Yes")))}}]),t}(a.Component),H=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).close=function(){n.setState({showModalRemove:!1}),n.props.callbackFromParent(n.state.showModalError)},n.state={showModalError:!1},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showModalError,n=e.errorText;return c.a.createElement(A.a,{basic:!0,size:"small",open:t},c.a.createElement(E.a,{icon:"archive",content:"ERROR"}),c.a.createElement(A.a.Content,null,c.a.createElement("p",null,n)),c.a.createElement(A.a.Actions,null,c.a.createElement(M.a,{basic:!0,color:"green",inverted:!0,onClick:this.close},c.a.createElement(S.a,{name:"remove"})," Close")))}}]),t}(a.Component),G=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).getToken=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("http://zsse.zeinetsse.com:5000","/api/users/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({email:"".concat("zeinetsse@email.com")})});case 1:case"end":return e.stop()}},e)})),e.getConnections=Object(x.a)(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/bootstrap"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(t){var n=t.map(function(e){return e.content=JSON.parse(e.content),e});e.setState({connections:n})}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)})),e.createAppModalCallback=function(t,n){e.setState({showModalCreateApp:t,connections:n}),e.getConnections()},e.createDeviceModalCallback=function(t,n){e.setState({showModalCreateDevice:t,connections:n}),e.getConnections()},e.removeModalCallback=function(t,n){if(e.setState({showModalRemove:t}),n){var a=e.state.connections,c=a.filter(function(e){return e.mainflux_id===n})[0].content,o=c.type,i=c.app;if("device"===o&&void 0!==i){var r=a.filter(function(e){return e.external_id===i}),s=r[0].content.devices.filter(function(e){return e.device_id!==n});a[a.indexOf(r[0])].content.devices=s,e.setState({connections:a})}e.setState({connections:e.state.connections.filter(function(e){return e.mainflux_id!==n})})}},e.editAppModalCallback=function(t){e.setState({showModalEditApp:t}),e.getConnections()},e.editDeviceModalCallback=function(t){e.setState({showModalEditDevice:t}),e.getConnections()},e.errorModalCallback=function(t){e.setState({showModalError:t})},e.state={connections:[],showModalCreateApp:!1,showModalEditApp:!1,showModalCreateDevice:!1,showModalEditDevice:!1,showModalError:!1,edittingApp:{},edittingDevice:{},removingConnection:{},errorText:""},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getToken(),this.getConnections()}},{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.getConnections()}},{key:"render",value:function(){var e=this,t=this.state,n=t.connections,a=t.showModalCreateApp,o=t.showModalCreateDevice,i=t.showModalRemove,r=t.showModalEditApp,s=t.showModalEditDevice,l=t.showModalError,d=t.edittingApp,u=t.edittingDevice,h=t.removingConnection,p=t.errorText;return c.a.createElement("div",{id:"connections",className:"main_wrapper"},c.a.createElement("div",{className:"connection_top"},c.a.createElement("h1",null," Connections "),c.a.createElement("div",{className:"connection_btn__wrapper"},c.a.createElement(M.a,{icon:!0,labelPosition:"left",onClick:function(){return e.setState({showModalCreateApp:!0})}},c.a.createElement(S.a,{name:"chain"}),"Create App"),c.a.createElement(M.a,{icon:!0,labelPosition:"left",onClick:function(){return e.setState({showModalCreateDevice:!0})}},c.a.createElement(S.a,{name:"chain"}),"Create Device"))),c.a.createElement("hr",null),c.a.createElement(N.a.Group,{relaxed:!0},0===n.length?c.a.createElement("p",null,"Unfortunately we did not find your connections.",c.a.createElement("span",{role:"img","aria-label":"Sad"},"\ud83d\ude41")):n.map(function(t){return c.a.createElement(N.a,{key:t.mainflux_id},c.a.createElement(N.a.Content,{verticalAlign:"middle"},c.a.createElement(z.a,{content:c.a.createElement("div",null,c.a.createElement("p",null,"id: ",t.mainflux_id),c.a.createElement("p",null,"key: ",t.mainflux_key)),trigger:c.a.createElement(N.a.Header,null,t.name)}),c.a.createElement(N.a.Description,null,t.content.type),c.a.createElement(N.a.Description,null,t.external_id),c.a.createElement(N.a.Extra,null,c.a.createElement(M.a,{color:"red",floated:"right",icon:"trash alternate outline",labelPosition:"right",content:"Remove",onClick:function(){return e.setState({showModalRemove:!0,removingConnection:t})}}),c.a.createElement(M.a,{color:"yellow",floated:"right",icon:"edit outline",labelPosition:"right",content:"Edit",onClick:function(){return"app"===t.content.type?e.setState({showModalEditApp:!0,edittingApp:t}):e.setState({showModalEditDevice:!0,edittingDevice:t})}}))))})),c.a.createElement(P,{showModalCreateApp:a,callbackFromParent:this.createAppModalCallback}),c.a.createElement(J,{showModalCreateDevice:o,callbackFromParent:this.createDeviceModalCallback}),c.a.createElement(U,{showModalRemove:i,connection:h,callbackFromParent:this.removeModalCallback}),c.a.createElement(H,{showModalError:l,errorText:p,callbackFromParent:this.errorModalCallback}),c.a.createElement(R,{showModalEditApp:r,connection:d,callbackFromParent:this.editAppModalCallback}),c.a.createElement(I,{showModalEditDevice:s,connection:u,callbackFromParent:this.editDeviceModalCallback}))}}]),t}(a.Component),V=(n(109),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).createChannel=function(){var e=Object(x.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.channel,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/channels/create"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({channel:a})}),n.close();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.close=function(){n.setState({showModalCreate:!1}),n.props.callbackFromParent(n.state.showModalCreate)},n.handleChangeName=function(e){var t=e.target.value;n.setState(function(e){return{channel:Object(_.a)({},e.channel,{name:t})}})},n.state={showModalCreate:!1,channel:{name:"",metadata:{}}},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.showModalCreate,n=this.state.name;return c.a.createElement(A.a,{closeIcon:!0,dimmer:"blurring",open:t,onClose:this.close},c.a.createElement(A.a.Header,null,"CREATE THING"),c.a.createElement(A.a.Content,null,c.a.createElement(D.a,null,c.a.createElement(D.a.Field,null,c.a.createElement("label",null,"Name"),c.a.createElement("input",{placeholder:"name",value:n,onChange:function(t){return e.handleChangeName(t)}})))),c.a.createElement(A.a.Actions,null,c.a.createElement(M.a,{color:"black",onClick:this.close},"No"),c.a.createElement(M.a,{positive:!0,icon:"edit outline",labelPosition:"right",content:"Yes",onClick:function(){return e.createChannel(n)}})))}}]),t}(a.Component)),B=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).removeChannel=function(){var e=Object(x.a)(O.a.mark(function e(t,a){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("http://zsse.zeinetsse.com:5000","/api/channels/remove/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}),n.setState({showModalRemove:!1}),n.props.callbackFromParent(n.state.showModalRemove,t);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.close=function(){n.setState({showModalRemove:!1}),n.props.callbackFromParent(n.state.showModalRemove)},n.state={showModalRemove:!1},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.showModalRemove,a=t.channel;return c.a.createElement(A.a,{basic:!0,size:"small",open:n},c.a.createElement(E.a,{icon:"archive",content:"REMOVE CHANNEL?"}),c.a.createElement(A.a.Content,null,c.a.createElement("p",null,"Do you want to remove channel: ",a.name)),c.a.createElement(A.a.Actions,null,c.a.createElement(M.a,{basic:!0,color:"green",inverted:!0,onClick:this.close},c.a.createElement(S.a,{name:"remove"})," No"),c.a.createElement(M.a,{color:"red",inverted:!0,onClick:function(t){e.removeChannel(a.id,t)}},c.a.createElement(S.a,{name:"checkmark"})," Yes")))}}]),t}(a.Component),W=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).editChannel=function(){var e=Object(x.a)(O.a.mark(function e(t,a){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("http://zsse.zeinetsse.com:5000","/api/channels/edit/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({name:t.name,metadata:t.metadata})}),n.close();case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.show=function(){return n.setState({showModalEdit:!0})},n.close=function(){n.setState({showModalEdit:!1}),n.props.callbackFromParent(n.state.showModalEdit)},n.handleChangeName=function(e){var t=n.props.channel;t.name=e.target.value,n.props.callbackFromParent(!0,t)},n.state={showModalEdit:!1,name:e.channel.name},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.showModalEdit,a=t.channel;return c.a.createElement(A.a,{closeIcon:!0,dimmer:"blurring",open:n,onClose:this.close},c.a.createElement(A.a.Header,null,"EDIT CHANNEL"),c.a.createElement(A.a.Content,null,c.a.createElement(D.a,null,c.a.createElement(D.a.Field,null,c.a.createElement("label",null,"Name"),c.a.createElement("input",{placeholder:"name",value:a.name,onChange:function(t){return e.handleChangeName(t)}})))),c.a.createElement(A.a.Actions,null,c.a.createElement(M.a,{color:"black",onClick:this.close},"No"),c.a.createElement(M.a,{positive:!0,icon:"edit outline",labelPosition:"right",content:"Yes",onClick:function(){return e.editChannel(a)}})))}}]),t}(a.Component),$=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).getToken=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/users/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({email:"".concat("zeinetsse@email.com")})});case 2:case"end":return e.stop()}},e)})),e.getChannels=Object(x.a)(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("http://zsse.zeinetsse.com:5000","/api/channels"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(t){return e.setState({channels:t})}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)})),e.removeModalCallback=function(t,n){e.setState({showModalRemove:t}),n&&e.setState({channels:e.state.channels.filter(function(e){return e.id!==n})})},e.editModalCallback=function(t){e.setState({showModalEdit:t})},e.createChannelModalCallback=function(){var t=Object(x.a)(O.a.mark(function t(n){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({showModalCreate:n}),t.next=3,e.getChannels();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={channels:[],edittingChannel:{},removingChannel:{},showModalRemove:!1,showModalEdit:!1,showModalCreate:!1},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getToken();case 2:this.getChannels();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.channels,a=t.showModalEdit,o=t.showModalCreate,i=t.showModalRemove,r=t.removingChannel,s=t.edittingChannel;return c.a.createElement("div",{id:"channels",className:"main_wrapper"},c.a.createElement("div",{className:"channel_top"},c.a.createElement("h1",null,"Channels"),c.a.createElement(M.a,{icon:!0,labelPosition:"left",onClick:function(){return e.setState({showModalCreate:!0})}},c.a.createElement(S.a,{name:"podcast"}),"Create Channel")),c.a.createElement("hr",null),c.a.createElement(N.a.Group,{relaxed:!0},0===n.length?c.a.createElement("p",null,"Unfortunately we did not find your channels.",c.a.createElement("span",{role:"img","aria-label":"Sad"},"\ud83d\ude41")):n.map(function(t){return c.a.createElement(N.a,{key:t.id},c.a.createElement(N.a.Content,{verticalAlign:"middle"},c.a.createElement(N.a.Header,null,t.name),c.a.createElement(N.a.Description,null,t.id),c.a.createElement(N.a.Extra,null,c.a.createElement(M.a,{color:"red",floated:"right",icon:"trash alternate outline",labelPosition:"right",content:"Remove",onClick:function(){return e.setState({showModalRemove:!0,removingChannel:t})}}),c.a.createElement(M.a,{color:"yellow",floated:"right",icon:"edit outline",labelPosition:"right",content:"Edit",onClick:function(){return e.setState({showModalEdit:!0,edittingChannel:t})}}))))})),c.a.createElement(B,{showModalRemove:i,channel:r,callbackFromParent:this.removeModalCallback}),c.a.createElement(W,{showModalEdit:a,channel:s,callbackFromParent:this.editModalCallback}),c.a.createElement(V,{showModalCreate:o,callbackFromParent:this.createChannelModalCallback}))}}]),t}(a.Component),Y=function(){return c.a.createElement("div",{className:"main_wrapper"},c.a.createElement("h1",null,"Nothing was found"),c.a.createElement("p",null,"Unfortunately we did not find anything for your request.",c.a.createElement("span",{role:"img","aria-label":"Sad"},"\ud83d\ude41")))},L=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).handleHome=function(){e.setState({home:!0,channels:!1,connections:!1})},e.handleChannels=function(){e.setState({home:!1,channels:!0,connections:!1})},e.handleConnections=function(){e.setState({home:!1,channels:!1,connections:!0})},e.state={home:!0,channels:!1,connections:!1},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.home,n=e.channels,a=e.connections;return c.a.createElement("div",{className:"App"},c.a.createElement(j,null),c.a.createElement(h.a,null,c.a.createElement("div",{id:"sidebar_wrapper"},c.a.createElement(m.a,{id:"sidebar_menu",secondary:!0,vertical:!0},c.a.createElement("ul",null,c.a.createElement("li",{className:t?"active_item":""},c.a.createElement(h.b,{onClick:this.handleHome,to:"/"},"Home")),c.a.createElement("li",{className:n?"active_item":""},c.a.createElement(h.b,{onClick:this.handleChannels,to:"/channels"},"Channels")),c.a.createElement("li",{className:a?"active_item":""},c.a.createElement(h.b,{onClick:this.handleConnections,to:"/connections"},"Connections")))),c.a.createElement(p.c,null,c.a.createElement(p.a,{exact:!0,path:"/",component:f}),c.a.createElement(p.a,{path:"/channels",component:$}),c.a.createElement(p.a,{path:"/connections",component:G}),c.a.createElement(p.a,{component:Y})))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},259:function(e,t,n){e.exports=n(1475)},264:function(e,t,n){},265:function(e,t,n){},68:function(e,t,n){}},[[259,1,2]]]);
//# sourceMappingURL=main.d7f38f40.chunk.js.map