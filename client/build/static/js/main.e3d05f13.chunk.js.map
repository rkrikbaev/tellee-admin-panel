{"version":3,"sources":["static/icons/turbine.svg","static/icons/pump.svg","static/icons/generator.svg","static/icons/edit.svg","static/icons/delete.svg","types/user.js","shared/reducers/user.js","types/graphs.js","shared/reducers/graphs.js","shared/reducers/rootReducer.js","store/configureStore.js","shared/actions/user.js","components/Home.js","components/TopBar.js","components/applications/AppModalCreate.jsx","components/applications/AppModalEdit.jsx","components/devices/DeviceModalCreate.jsx","components/devices/DeviceModalEdit.jsx","components/connections/ConnectionModalRemove.jsx","components/errorModal.jsx","components/connections/Connections.jsx","components/channels/ChannelModalCreate.jsx","components/channels/ChannelModalRemove.jsx","components/channels/Channels.js","shared/actions/graphs.js","shared/components/GraphActionWindow.jsx","shared/components/ToggleComponent.jsx","shared/components/Timeseries.jsx","shared/components/GraphWrapper/GraphWrapperHeader.jsx","shared/components/GraphWrapper/GraphWrapper.jsx","components/graphs/Graphs.jsx","components/NotFound.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","ADD_USER","initialState","items","user","userDataReducer","state","arguments","length","undefined","action","type","actionTypes","_objectSpread","concat","Object","toConsumableArray","payload","SHOW_GRAPH_ACTION_WINDOW","ADD_GRAPH","showGraphActionWindow","graphsList","graphsDataReducer","graphs_objectSpread","combineReducers","users","graph","graphs","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","apply","window","__REDUX_DEVTOOLS_EXTENSION__","addUser","data","dispatch","statusTypes","statusColorTypes","Home","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_isMounted","getToken","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","fetch","process","method","headers","Accept","Content-Type","mode","credentials","body","JSON","stringify","email","stop","getDevicesFromMainflux","then","res","json","devices","parseDataFromBootstrap","catch","err","filter","item","content","parse","map","id","mainflux_id","icon","device_type","name","status","Math","floor","random","ram","memory","customizeDataForRender","forEach","turbine","pump","generator","push","setState","react_default","createElement","className","Card","Group","i","fluid","color","key","src","alt","htmlFor","toUpperCase","role","aria-label","Component","connect","article","trigger","Image","avatar","options","text","TopBar","Segment","clearing","Header","floated","Dropdown","pointing","Console","log","console","AppModalCreate","getThings","oldThings","getConnections","_callee2","_context2","oldConnections","createThing","_callee3","newThing","_context3","createChannel","_callee4","channel","_context4","createAppConnection","_callee5","_this$state","connectionName","callbackFromParent","thing","arr","obj","_this$state2","showModalCreateApp","_context5","oldChannels","sent","t0","mac","metadata","channels","t1","close","_callee6","_this$state3","_context6","handleChangeConnectionName","e","str","target","value","regexpName","test","prevState","AppModalCreate_objectSpread","isConnectionNameEnabled","handleChangeThingMac","regexpMac","isThingMacEnabled","nextProps","nextState","_this2","_this$state4","Modal","closeIcon","dimmer","open","onClose","Content","Form","Field","placeholder","onChange","Actions","Button","onClick","positive","labelPosition","disabled","AppModalEdit","getConfigById","_ref","config","selectedChannels","mainflux_channels","_x","getChannels","chan","editApp","_config$content","showModalEditApp","handleChangeName","handleChangeChannel","_ref4","connection","external_id","readOnly","mainflux_key","multiple","selection","alertMessagesText","title","subtitle","assettext","assetvalue","DeviceModalCreate","apps","getDeviceTypes","types","formattedTypes","deviceTypes","getChannel","_ref5","appMac","app","abrupt","getGlobalChannel","_ref6","channelName","globalChannel","_x2","createDeviceConnection","_callee7","newDevice","cycle","sendToApp","sendToDB","deviceType","createdThing","severity","alerttext","alertvalue","messagetext","longitude","latitude","createdDevice","showModalCreateDevice","_context7","response","device_name","device_id","device_key","DeviceModalCreate_objectSpread","_callee8","_context8","isConnectionNameDisabled","isThingMacDisabled","handleChangeCycle","isEnabled","handleChangeSendToApp","_ref9","checked","handleChangeSendToDB","_ref10","handleChangeDeviceType","_ref11","handleChangeApp","_ref12","handleChangeNewDevice","keys","alertext","Checkbox","label","DeviceModalEdit","selectedApp","selectedDeviceType","handleSendToApp","handleSendToDB","split","_x3","getDeviceInfoFromDB","deviceId","device","editDevice","DeviceModalEdit_objectSpread","_x4","showModalEditDevice","_title","_subtitle","_severity","_alerttext","_alertvalue","_assettext","_assetvalue","_messagetext","_longitude","_latitude","editedDevice","currentDevice","_ref8","_x5","editThing","editThingIndex","indexOf","currentValue","handleChangeEditDevice","editingDevice","externalId","forceUpdate","_this3","ConnectionModalRemove","removeConnection","_ref2","showModalRemove","_connection$content","isRemoveable","_this$props","basic","size","inverted","Icon","ErrorModal","showModalError","errorText","Connections","connections","parsedConnections","loader","createAppModalCallback","createDeviceModalCallback","removeModalCallback","_connection$0$content","connectedApp","edittedApp","editAppModalCallback","editDeviceModalCallback","errorModalCallback","edittingApp","edittingDevice","removingConnection","Item","relaxed","Loader","active","verticalAlign","Popup","Description","Extra","applications_AppModalCreate","devices_DeviceModalCreate","connections_ConnectionModalRemove","errorModal","applications_AppModalEdit","devices_DeviceModalEdit","ChannelModalCreate","showModalCreate","ChannelModalCreate_objectSpread","ChannelModalRemove","removeChannel","event","Channels","removeItemId","createChannelModalCallback","_ref3","removingChannel","channels_ChannelModalRemove","channels_ChannelModalCreate","graphActionWindow","addGraphAction","GraphActionWindow","handleChangeData","GraphActionWindow_objectSpread","defineProperty","handleSubmit","isVisible","date","showEditWindow","graphTitle","graphType","deviceName","requestDate","ToggleComponent","toggleComponent","opened","Store","subscribe","getState","children","Timeseries","width","height","es6","margin","top","right","left","bottom","strokeDasharray","dataKey","stroke","activeDot","r","GraphWrapperHeader","handleClick","node","editWindow","info","editBtnRef","React","createRef","removeBtnRef","style","borderTopLeftRadius","borderTopRightRadius","current","ref","EditIcon","RemoveIcon","components_GraphActionWindow","GraphWrapper","paddingBottom","lib","default","x","y","background","position","padding","borderRadius","onResize","direction","delta","GraphWrapper_objectSpread","parseInt","GraphWrapperHeader_GraphWrapperHeader","Timeseries_Timeseries","uv","pv","amt","Graphs","createGraph","prevProps","components_GraphWrapper_GraphWrapper","components_ToggleComponent","isShowGraphActionWindow","Notfound","App","checkActive","location","url","react_router_dom","Menu","secondary","vertical","to","activeClassName","isActive","react_router","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","ReactDOM","render","es","App_App","document","getElementById","URL","href","origin","addEventListener","contentType","get","ready","unregister","reload","checkValidServiceWorker","initOptions","realm","clientId","onLoad","keycloak","Keycloak","init","success","auth","localStorage","setItem","token","refreshToken","setTimeout","updateToken","refreshed","debug","warn","round","tokenParsed","exp","timeSkew","Date","getTime"],"mappings":"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","file":"static/js/main.e3d05f13.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/turbine.06474a16.svg\";","module.exports = __webpack_public_path__ + \"static/media/pump.1df4e95b.svg\";","module.exports = __webpack_public_path__ + \"static/media/generator.7a7e96ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit.2927f8de.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.650cdc57.svg\";","/* eslint-disable import/prefer-default-export */\n\nexport const ADD_USER = 'ADD_USER'\n","import * as actionTypes from '../../types/user'\n\nconst initialState = {\n  items: [2, 3],\n  user: {},\n}\n\nfunction userDataReducer(state = initialState, action) {\n  switch (action.type) {\n    case actionTypes.ADD_USER:\n      return {\n        ...state,\n        items: [...state.items, action.payload],\n      }\n    default:\n      return state\n  }\n}\n\nexport default userDataReducer\n","/* eslint-disable import/prefer-default-export */\n\nexport const SHOW_GRAPH_ACTION_WINDOW = 'SHOW_GRAPH_ACTION_WINDOW'\nexport const ADD_GRAPH = 'ADD_GRAPH'\n","import * as actionTypes from '../../types/graphs'\n\nconst initialState = {\n  showGraphActionWindow: false,\n  graphsList: [],\n}\n\nfunction graphsDataReducer(state = initialState, action) {\n  switch (action.type) {\n    case actionTypes.SHOW_GRAPH_ACTION_WINDOW:\n      return ({\n        ...state,\n        showGraphActionWindow: action.payload,\n      })\n    case actionTypes.ADD_GRAPH:\n      return ({\n        ...state,\n        graphsList: [...state.graphsList, action.payload],\n      })\n    default:\n      return state\n  }\n}\n\nexport default graphsDataReducer\n","import { combineReducers } from 'redux'\nimport user from './user'\nimport graphs from './graphs'\n\nexport default combineReducers({\n  users: user,\n  graph: graphs,\n})\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport rootReducer from '../shared/reducers/rootReducer'\n\nconst initialState = {}\n\nconst middleware = [thunk]\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  compose(\n    applyMiddleware(...middleware),\n    // eslint-disable-next-line no-underscore-dangle\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n  ),\n)\n\nexport default store\n","import * as actionTypes from '../../types/user'\n\n// eslint-disable-next-line import/prefer-default-export\nexport const addUser = (data) => (dispatch) => {\n  dispatch({\n    type: actionTypes.ADD_USER,\n    payload: data, // action payload\n  })\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Card } from 'semantic-ui-react'\nimport { addUser } from '../shared/actions/user'\n\n\nimport 'semantic-ui-css/semantic.min.css'\n\nimport turbine from '../static/icons/turbine.svg'\nimport pump from '../static/icons/pump.svg'\nimport generator from '../static/icons/generator.svg'\n\nconst statusTypes = ['connected', 'not connected']\nconst statusColorTypes = []\n\nclass Home extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      devices: [],\n    }\n  }\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillMount() {\n    // eslint-disable-next-line react/destructuring-assignment\n    this.props.addUser('milk')\n  }\n\n  async componentDidMount() {\n    this._isMounted = true\n    await this.getToken()\n    this.getDevicesFromMainflux()\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getToken = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/users/login`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({ email: `${process.env.REACT_APP_MAINFLUX_USER}` }),\n    })\n  }\n\n  getDevicesFromMainflux = () => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((devices) => {\n        this.parseDataFromBootstrap(devices)\n      })\n      .catch((err) => err)\n  }\n\n  parseDataFromBootstrap = (devices) => {\n    const data = devices\n      .filter((item) => {\n        item.content = JSON.parse(item.content)\n        return item.content.type === 'device'\n      })\n      .map((item) => ({\n        id: item.mainflux_id,\n        icon: item.content.device_type,\n        name: item.name,\n        status: statusTypes[Math.floor(Math.random() * statusTypes.length)],\n        ram: Math.floor(Math.random() * 100) + 1,\n        memory: `7976/${Math.floor(Math.random() * 7976) + 1}`,\n      }))\n    this.customizeDataForRender(data)\n  }\n\n  customizeDataForRender = (devices) => {\n    devices.forEach((item) => {\n      switch (item.icon) {\n        case 'turbine':\n          item.icon = turbine\n          break\n        case 'e-meter_v2':\n          item.icon = pump\n          break\n        case 'e-meter_v1':\n          item.icon = generator\n          break\n        default:\n          break\n      }\n    })\n\n    devices.forEach((item) => {\n      switch (item.status) {\n        case 'connected':\n          statusColorTypes.push('green')\n          break\n        case 'not connected':\n          statusColorTypes.push('yellow')\n          break\n        default:\n          break\n      }\n    })\n\n    if (this._isMounted) this.setState({ devices })\n  }\n\n  render() {\n    const { devices } = this.state\n    return (\n      <div className=\"main_wrapper\">\n        <h1>Home</h1>\n        <hr />\n        {devices.length !== 0 ? (\n          <Card.Group>\n            {devices.map((item, i) => (\n              <Card\n                fluid\n                color={statusColorTypes[i]}\n                key={item.id}\n                className=\"home_card\"\n              >\n                <img\n                  src={item.icon}\n                  alt={`${item.name}`}\n                  className=\"home_card__item\"\n                />\n                <p className=\"home_card__item\">\n                  <label className=\"home_card__label\" htmlFor=\"name\">\n                    name:\n                  </label>\n                  {item.name.toUpperCase()}\n                </p>\n                <p className=\"home_card__item\">\n                  <label className=\"home_card__label\" htmlFor=\"status\">\n                    status:\n                  </label>\n                  {item.status.toUpperCase()}\n                </p>\n                <p className=\"home_card__item\">\n                  <label className=\"home_card__label\" htmlFor=\"cpu\">\n                    CPU:\n                  </label>\n                  {item.ram}\n%\n                </p>\n                <p className=\"home_card__item\">\n                  <label className=\"home_card__label\" htmlFor=\"memory\">\n                    memory:\n                  </label>\n                  {item.memory}\n                  kB\n                </p>\n              </Card>\n            ))}\n          </Card.Group>\n        ) : (\n          <p>\n            Here you can put everything your heart desires.\n            <span role=\"img\" aria-label=\"Hooray\">\n              🙂\n            </span>\n          </p>\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  users: state.users.items,\n})\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addUser: (article) => dispatch(addUser(article)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\n\nHome.propTypes = {\n  addUser: PropTypes.func.isRequired,\n}\n","import React from 'react'\nimport {\n  Header, Segment, Dropdown, Image,\n} from 'semantic-ui-react'\n\nconst trigger = (\n  <span>\n    <Image avatar src=\"http://zsse.zeinetsse.com/favicon.ico\" />\n    {' '}\nUser Admin\n  </span>\n)\n\nconst options = [\n  { key: 'user', text: 'Account', icon: 'user' },\n  { key: 'settings', text: 'Settings', icon: 'settings' },\n  { key: 'sign-out', text: 'Sign Out', icon: 'sign out' },\n]\n\nexport default function TopBar() {\n  return (\n    <div id=\"TopBar\">\n      <Segment clearing id=\"top_menu\">\n        <Header className=\"topbar_left\" floated=\"left\">\n          <img className=\"top_logo\" alt=\"Tellee_logo\" src=\"/Tellee_logo.svg\" />\n        </Header>\n        <Header className=\"topbar_right\" floated=\"right\">\n          <Dropdown\n            className=\"top_dropdown\"\n            trigger={trigger}\n            options={options}\n            pointing=\"top left\"\n            icon={null}\n          />\n        </Header>\n      </Segment>\n    </div>\n  )\n}\n","/* eslint-disable no-var */\n/* eslint-disable vars-on-top */\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport '../connections/Connections.scss'\nimport { Button, Modal, Form } from 'semantic-ui-react'\n\nconst Console = {\n  log: (text) => console.log(text),\n}\nclass AppModalCreate extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalCreateApp: false,\n      isThingMacEnabled: false,\n      isConnectionNameEnabled: false,\n      oldThings: [],\n      oldConnections: [],\n      newThing: {\n        name: '',\n        metadata: {\n          type: 'app',\n          mac: '',\n        },\n      },\n      channel: {\n        name: '',\n        metadata: {},\n      },\n      connectionName: '',\n    }\n\n    this.regexpName = /^\\w+$/\n    this.regexpMac = /^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\\1){4}[0-9a-z]{2}$/gim\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n    this.getThings()\n    this.getConnections()\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !(this.props === nextProps && this.state === nextState)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getThings = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldThings) => {\n        if (this._isMounted) {\n          this.setState({ oldThings })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldConnections) => {\n        if (this._isMounted) {\n          this.setState({ oldConnections })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  createThing = async () => {\n    const { newThing } = this.state\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify(newThing),\n    })\n  }\n\n  createChannel = async () => {\n    const { channel } = this.state\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({ channel }),\n    })\n  }\n\n  createAppConnection = async () => {\n    const { newThing, connectionName } = this.state\n    const { callbackFromParent } = this.props\n    let channel\n    let thing\n    try {\n      let arr = []\n      await this.createChannel()\n      arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((res) => res.json())\n        .then((oldChannels) => oldChannels)\n        .catch((err) => Console.log(err))\n      channel = arr.filter((item) => item.name === `zsse/${newThing.name}`)\n      await this.createThing()\n      arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((res) => res.json())\n        .then((oldThings) => oldThings)\n        .catch((err) => Console.log(err))\n\n      thing = arr.filter((item) => item.name === `zsse/${newThing.name}`)\n    } catch (err) {\n      Console.log(err)\n    }\n\n    const obj = {\n      mac: newThing.metadata.mac,\n      id: thing[0].id,\n      channels: `${channel[0].id}`,\n      name: connectionName,\n    }\n\n    try {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/create/app`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify(obj),\n      })\n\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel[0].id}/things/${thing[0].id}`,\n        {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n        },\n      )\n      await this.getConnections()\n\n      // Close and send data to parent\n      const { showModalCreateApp, oldConnections } = this.state\n      if (this._isMounted) {\n        this.setState({ showModalCreateApp: false })\n      }\n      callbackFromParent(showModalCreateApp, oldConnections)\n    } catch (err) {\n      Console.log(err)\n    }\n  }\n\n  close = async () => {\n    const { showModalCreateApp, oldConnections } = this.state\n    const { callbackFromParent } = this.props\n    if (this._isMounted) this.setState({ showModalCreateApp: false })\n    callbackFromParent(showModalCreateApp, oldConnections)\n  }\n\n  handleChangeConnectionName = (e) => {\n    const { oldConnections } = this.state\n    const str = e.target.value\n    const arr = oldConnections.filter((item) => item.name === str)\n    if ((arr.length !== 0 || !this.regexpName.test(str)) && this._isMounted) {\n      this.setState({ isConnectionNameEnabled: true })\n    } else if ((arr.length === 0 || this.regexpName.test(str)) && this._isMounted) {\n      this.setState((prevState) => ({\n        newThing: {\n          ...prevState.newThing,\n          name: str,\n        },\n        channel: {\n          ...prevState.channel,\n          name: str,\n        },\n        connectionName: str,\n        isConnectionNameEnabled: false,\n      }))\n    }\n  }\n\n  handleChangeThingMac = (e) => {\n    const { oldThings } = this.state\n    const str = e.target.value\n    const arr = oldThings.filter((item) => item.metadata.mac === str)\n    if ((arr.length !== 0 || !this.regexpMac.test(str)) && this._isMounted) {\n      this.setState({ isThingMacEnabled: true })\n    } else if ((arr.length === 0 || this.regexpMac.test(str)) && this._isMounted) {\n      this.setState((prevState) => ({\n        newThing: {\n          ...prevState.newThing,\n          metadata: {\n            ...prevState.newThing.metadata,\n            mac: str,\n          },\n        },\n        isThingMacEnabled: false,\n      }))\n    }\n  }\n\n  render() {\n    const { showModalCreateApp } = this.props\n    const { isThingMacEnabled, isConnectionNameEnabled } = this.state\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalCreateApp}\n        onClose={this.close}\n      >\n        <Modal.Header> CREATE APP </Modal.Header>\n\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"name\"> Name </label>\n              <input\n                placeholder=\"name\"\n                onChange={(e) => this.handleChangeConnectionName(e)}\n                className={isConnectionNameEnabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"mac\"> Mac </label>\n              <input\n                placeholder=\"mac\"\n                onChange={(e) => this.handleChangeThingMac(e)}\n                className={isThingMacEnabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n\n        <Modal.Actions>\n          <Button color=\"black\" onClick={this.close}>\n            Cancel\n          </Button>\n          <Button\n            positive\n            icon=\"plus\"\n            labelPosition=\"right\"\n            content=\"Create\"\n            disabled={isThingMacEnabled || isConnectionNameEnabled}\n            onClick={this.createAppConnection}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default AppModalCreate\n\nAppModalCreate.propTypes = {\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalCreateApp: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport '../connections/Connections.scss'\nimport {\n  Button,\n  Form,\n  Modal,\n  Dropdown,\n} from 'semantic-ui-react'\n\nconst Console = {\n  log: (text) => console.log(text),\n}\n\nclass AppModalEdit extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      config: {},\n      channels: [],\n      selectedChannels: [],\n      showModalEditApp: false,\n    }\n  }\n\n  componentDidMount() {\n    const { connection } = this.props\n    this._isMounted = true\n    this.getConfigById(connection.external_id)\n    this.getChannels()\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !(nextProps === this.props && nextState === this.state)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getConfigById = async (id) => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((config) => {\n        const selectedChannels = []\n\n        config.content = JSON.parse(config.content)\n\n        for (let i = 0; i < config.mainflux_channels.length; i += 1) {\n          selectedChannels.push(config.mainflux_channels[i].id)\n        }\n        if (this._isMounted) {\n          this.setState({\n            selectedChannels,\n            config,\n          })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getChannels = async () => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((channels) => {\n        const chan = channels.map((item) => ({ value: item.id, text: item.name }))\n        if (this._isMounted) this.setState({ channels: chan })\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  editApp = async () => {\n    const { config } = this.state\n    const { mac, name } = config.content\n    const obj = {\n      mac,\n      id: config.mainflux_id,\n      channels: config.mainflux_channels,\n      name,\n      type: 'app',\n      content: config.content,\n    }\n    await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${config.mainflux_id}`,\n      {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify({ obj }),\n      },\n    )\n    await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/channels/edit/${obj.channels[0].id}`,\n      {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify({ name: obj.name, metadata: {} }),\n      },\n    )\n\n    this.close()\n  }\n\n  close = () => {\n    const { callbackFromParent } = this.props\n    const { showModalEditApp } = this.state\n    if (this._isMounted) this.setState({ showModalEditApp: false })\n    callbackFromParent(showModalEditApp)\n  }\n\n  handleChangeName = (e) => {\n    const { config } = this.state\n    const obj = config\n    obj.content.name = e.target.value\n    if (this._isMounted) this.setState({ config: obj })\n  }\n\n  handleChangeChannel = (e, { value }) => {\n    const { config } = this.state\n    const obj = config\n    obj.mainflux_channels = value\n    if (this._isMounted) this.setState({ config: obj })\n  }\n\n  render() {\n    const { showModalEditApp } = this.props\n    const { config, channels, selectedChannels } = this.state\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalEditApp}\n        onClose={this.close}\n      >\n        <Modal.Header>EDIT APPLICATION</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"mainflux_id\">Thing ID</label>\n              <input\n                placeholder=\"mainflux_id\"\n                value={config.content !== undefined ? config.mainflux_id : ''}\n                readOnly\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Thing Key</label>\n              <input\n                placeholder=\"mainflux_key\"\n                value={config.content !== undefined ? config.mainflux_key : ''}\n                readOnly\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label htmlFor=\"name\">Name</label>\n              <input\n                placeholder=\"name\"\n                value={config.content !== undefined ? config.content.name : ''}\n                onChange={(e) => this.handleChangeName(e)}\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label htmlFor=\"channels\">Channels</label>\n              <Dropdown\n                placeholder=\"channels\"\n                multiple\n                fluid\n                selection\n                options={channels}\n                onChange={this.handleChangeChannel}\n                value={selectedChannels}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color=\"black\" onClick={this.close}>\n            No\n          </Button>\n          <Button\n            positive\n            icon=\"edit outline\"\n            labelPosition=\"right\"\n            content=\"Yes\"\n            onClick={this.editApp}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default AppModalEdit\n\nAppModalEdit.propTypes = {\n  connection: PropTypes.instanceOf(Object).isRequired,\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalEditApp: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport '../connections/Connections.scss'\nimport {\n  Button,\n  Form,\n  Modal,\n  Dropdown,\n  Checkbox,\n} from 'semantic-ui-react'\n\nconst alertMessagesText = {\n  title: 'Turbine',\n  subtitle: 'LM2500',\n  assettext: 'MTU',\n  assetvalue: 'operation',\n}\n\nconst Console = {\n  log: (text) => console.log(text),\n}\n\nclass DeviceModalCreate extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      deviceTypes: [],\n      apps: [],\n      oldThings: [],\n      oldConnections: [],\n      isEnabled: true,\n      showModalCreateDevice: false,\n      isThingMacDisabled: false,\n      isConnectionNameDisabled: false,\n      newThing: {\n        name: '',\n        metadata: {\n          type: 'device',\n          mac: '',\n        },\n      },\n      config: {\n        id: '',\n        channel: [],\n        name: '',\n        cycle: '',\n        sendToApp: false,\n        sendToDB: false,\n        deviceType: undefined,\n        app: undefined,\n      },\n      newDevice: {\n        id: '',\n        title: alertMessagesText.title,\n        subtitle: alertMessagesText.subtitle,\n        assettext: alertMessagesText.assettext,\n        assetvalue: alertMessagesText.assetvalue,\n        longitude: '',\n        latitude: '',\n        severity: '',\n        alertext: '',\n        alertvalue: '',\n        messagetext: '',\n      },\n    }\n\n    this.oldThings = []\n    this.regexpName = /^\\w+$/\n    this.regexpMac = /^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\\1){4}[0-9a-z]{2}$/gim\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n    this.getThings()\n    this.getConnections()\n    this.getDeviceTypes()\n  }\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps !== this.props) {\n      this.getConnections()\n      this.getThings()\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldConnections) => {\n        this.setState({ oldConnections })\n        const connections = oldConnections.filter((item) => {\n          item.content = JSON.parse(item.content)\n          return item.content.type === 'app'\n        })\n        const apps = connections.map((item) => ({\n          key: item.external_id,\n          text: item.name,\n          value: item.external_id,\n        }))\n        if (this._isMounted) this.setState({ apps })\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getDeviceTypes = async () => {\n    fetch('http://134.209.240.215:8300/devices')\n      .then((res) => res.json())\n      .then((types) => {\n        const formattedTypes = types.map((type) => ({\n          text: type,\n          value: type,\n        }))\n        if (this._isMounted) {\n          this.setState({ deviceTypes: formattedTypes })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getThings = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldThings) => {\n        this.oldThings = oldThings\n        if (this._isMounted) this.setState({ oldThings })\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  createThing = async () => {\n    const { newThing } = this.state\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify(newThing),\n    })\n  }\n\n  getChannel = async (appMac) => {\n    const { oldConnections } = this.state\n    let channel = []\n    const app = oldConnections.filter((item) => (\n      item.external_id === appMac\n    ))\n    const arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldChannels) => oldChannels)\n      .catch((err) => Console.log(err))\n\n    channel = arr.filter((item) => (\n      item.name === app[0].name\n    ))\n    return channel[0]\n  }\n\n  getGlobalChannel = async (channelName) => {\n    const arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldChannels) => oldChannels)\n      .catch((err) => Console.log(err))\n    const globalChannel = arr.filter((item) => (\n      item.name === `zsse/${channelName}`\n    ))\n    return globalChannel[0]\n  }\n\n  // -- Start of creating device --\n  createDeviceConnection = async () => {\n    const { callbackFromParent } = this.props\n    const {\n      newThing,\n      connectionName,\n      config,\n      newDevice,\n    } = this.state\n    const {\n      cycle,\n      sendToApp,\n      sendToDB,\n      deviceType,\n      app,\n    } = config\n    let createdThing = []\n\n    try {\n      await this.createThing()\n      await this.getThings()\n\n      createdThing = this.oldThings.filter((item) => (\n        item.name === `zsse/${newThing.name}`\n      ))\n    } catch (err) {\n      Console.log(err)\n    }\n\n    let obj = {}\n    let channel = {}\n    if (sendToApp) {\n      channel = await this.getChannel(app)\n      obj = {\n        mac: newThing.metadata.mac,\n        id: createdThing[0].id,\n        channel: channel.id,\n        name: connectionName,\n        cycle,\n        sendToApp,\n        sendToDB,\n        deviceType,\n        app,\n      }\n    } else {\n      channel = await this.getGlobalChannel(process.env.REACT_APP_CHANNEL_NAME)\n      obj = {\n        mac: newThing.metadata.mac,\n        id: createdThing[0].id,\n        channel: channel.id,\n        name: connectionName,\n        cycle,\n        deviceType,\n        sendToApp,\n        sendToDB,\n      }\n    }\n\n    try {\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/create/device`,\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n          body: JSON.stringify(obj),\n        },\n      )\n\n      if (sendToApp) {\n        await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n          mode: 'cors',\n          credentials: 'include',\n        })\n          .then((response) => response.json())\n          .then((response) => {\n            response.content = JSON.parse(response.content)\n            const { content } = response\n            content.devices.push({\n              device_name: `zsse/${connectionName}`,\n              device_id: createdThing[0].id,\n              device_key: createdThing[0].key,\n              deviceType: obj.deviceType,\n            })\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n              {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n                body: JSON.stringify({ response }),\n              },\n            )\n            // - Connecting to App's channel - //\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${response.mainflux_channels[0].id}/things/${createdThing[0].id}`,\n              {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n              },\n            )\n          })\n      } else {\n        await fetch(\n          `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${createdThing[0].id}`,\n          {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n          },\n        )\n      }\n      if (sendToDB) {\n        const {\n          title,\n          subtitle,\n          severity,\n          alerttext,\n          alertvalue,\n          assettext,\n          assetvalue,\n          messagetext,\n          longitude,\n          latitude,\n        } = newDevice\n        const createdDevice = {\n          id: newThing.name,\n          title,\n          subtitle,\n          severity,\n          alerttext,\n          alertvalue,\n          assettext,\n          assetvalue,\n          messagetext,\n          longitude,\n          latitude,\n        }\n\n        await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/device/create`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n          body: JSON.stringify(createdDevice),\n        })\n      }\n      await this.getConnections()\n\n      // Close and send data to parent\n      const { showModalCreateDevice, oldConnections } = this.state\n      if (this._isMounted) this.setState({ showModalCreateDevice: false })\n      callbackFromParent(showModalCreateDevice, oldConnections)\n      if (this._isMounted) {\n        this.setState((prevState) => ({\n          config: {\n            ...prevState.config,\n            sendToApp: false,\n          },\n        }))\n      }\n    } catch (err) {\n      Console.log(err)\n    }\n  }\n  // -- End of creating device --\n\n  close = async () => {\n    const { callbackFromParent } = this.props\n    const { showModalCreateDevice, oldConnections } = this.state\n    this.setState({ showModalCreateDevice: false })\n    this.setState((prevState) => ({\n      config: {\n        ...prevState.config,\n        sendToApp: false,\n      },\n    }))\n    callbackFromParent(showModalCreateDevice, oldConnections)\n  }\n\n  handleChangeConnectionName = (e) => {\n    const { oldConnections } = this.state\n    const str = e.target.value\n    const arr = oldConnections.filter((item) => (\n      item.name === `zsse/${str}`\n    ))\n    if ((arr.length !== 0 || !this.regexpName.test(str)) && this._isMounted) {\n      if (this._isMounted) this.setState({ isConnectionNameDisabled: true })\n    } else if ((arr.length === 0 || this.regexpName.test(str)) && this._isMounted) {\n      this.setState((prevState) => ({\n        newThing: {\n          ...prevState.newThing,\n          name: str,\n        },\n        connectionName: str,\n        isConnectionNameDisabled: false,\n      }))\n    }\n  }\n\n  handleChangeThingMac = (e) => {\n    const { oldThings } = this.state\n    const str = e.target.value\n    const arr = oldThings.filter((item) => (\n      item.metadata.mac === str\n    ))\n    if ((arr.length !== 0 || !this.regexpMac.test(str)) && this._isMounted) {\n      this.setState({ isThingMacDisabled: true })\n    } else if ((arr.length === 0 || this.regexpMac.test(str)) && this._isMounted) {\n      this.setState((prevState) => ({\n        newThing: {\n          ...prevState.newThing,\n          metadata: {\n            ...prevState.newThing.metadata,\n            mac: str,\n          },\n        },\n        isThingMacDisabled: false,\n      }))\n    }\n  }\n\n  // TODO:\n  // handleChangeConfig = e => {\n  //   if(this._isMounted) {\n  //     var config = {...this.state.config};\n  //     config[Object.keys(e)[0]] = e[Object.keys(e)[0]];\n  //     this.setState({config});\n  //   }\n  // };\n\n  handleChangeCycle = (e) => {\n    const str = e.target.value\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          cycle: str,\n        },\n        isEnabled:\n          prevState.config.cycle.length <= 4 && /^\\d+$/.test(prevState.config.cycle),\n      }))\n    }\n  }\n\n  handleChangeSendToApp = (e, { checked }) => {\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          sendToApp: checked,\n        },\n      }))\n    }\n    this.getConnections()\n  }\n\n  handleChangeSendToDB = (e, { checked }) => {\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          sendToDB: checked,\n        },\n      }))\n    }\n  }\n\n  handleChangeDeviceType = (e, { value }) => {\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          deviceType: value,\n        },\n      }))\n    }\n  }\n\n  handleChangeApp = (e, { value }) => {\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          app: value,\n        },\n      }))\n    }\n  }\n\n  handleChangeNewDevice = (e) => {\n    const { newDevice } = this.state\n    if (this._isMounted) {\n      const createdDevice = { ...newDevice }\n      createdDevice[Object.keys(e)[0]] = e[Object.keys(e)[0]]\n      this.setState({ newDevice: createdDevice })\n    }\n  }\n\n  render() {\n    const { showModalCreateDevice } = this.props\n    const {\n      isThingMacDisabled,\n      isConnectionNameDisabled,\n      isEnabled,\n      deviceTypes,\n      apps,\n      config,\n      newDevice,\n    } = this.state\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalCreateDevice}\n        onClose={this.close}\n      >\n        <Modal.Header> CREATE DEVICE </Modal.Header>\n\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Name</label>\n              <input\n                placeholder=\"name\"\n                onChange={(e) => this.handleChangeConnectionName(e)}\n                className={isConnectionNameDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Mac</label>\n              <input\n                placeholder=\"mac\"\n                onChange={(e) => this.handleChangeThingMac(e)}\n                className={isThingMacDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Device type</label>\n              <Dropdown\n                placeholder=\"type\"\n                fluid\n                selection\n                options={deviceTypes}\n                onChange={this.handleChangeDeviceType}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Cycle</label>\n              <input\n                placeholder=\"cycle\"\n                className={!isEnabled ? 'showError' : 'showSuccess'}\n                onChange={(e) => this.handleChangeCycle(e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Checkbox\n                label={\n                  config.sendToApp\n                    ? 'This device will be sent to App'\n                    : 'Click checkbox for send this config to App'\n                }\n                onChange={this.handleChangeSendToApp}\n              />\n              <Checkbox\n                label={\n                  config.sendToDB\n                    ? 'This device have additional info'\n                    : 'Click checkbox for additional info'\n                }\n                onChange={this.handleChangeSendToDB}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToApp ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Apps</label>\n              <Dropdown\n                placeholder=\"apps\"\n                fluid\n                selection\n                options={apps}\n                onChange={this.handleChangeApp}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Title</label>\n              <input\n                placeholder=\"Device title\"\n                onChange={(e) => this.handleChangeNewDevice({ title: e.target.value })}\n                value={newDevice.title}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Subtitle</label>\n              <input\n                placeholder=\"Device subtitle\"\n                onChange={(e) => this.handleChangeNewDevice({ subtitle: e.target.value })}\n                value={newDevice.subtitle}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Latitude</label>\n              <input\n                placeholder=\"Device latitude\"\n                onChange={(e) => this.handleChangeNewDevice({ latitude: e.target.value })}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Longitude</label>\n              <input\n                placeholder=\"Device longitude\"\n                onChange={(e) => this.handleChangeNewDevice({ longitude: e.target.value })}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Asset text</label>\n              <input\n                placeholder=\"Asset text\"\n                onChange={(e) => this.handleChangeNewDevice({ assettext: e.target.value })}\n                value={newDevice.assettext}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToDB ? '' : 'hide'}>\n              <label htmlFor=\"mainflux_key\">Asset value</label>\n              <input\n                placeholder=\"Asset value\"\n                onChange={(e) => this.handleChangeNewDevice({ assetvalue: e.target.value })}\n                value={newDevice.assetvalue}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n\n        <Modal.Actions>\n          <Button color=\"black\" onClick={this.close}>\n            Cancel\n          </Button>\n          <Button\n            positive\n            icon=\"plus\"\n            labelPosition=\"right\"\n            content=\"Create\"\n            disabled={isThingMacDisabled || isConnectionNameDisabled || !isEnabled}\n            onClick={this.createDeviceConnection}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default DeviceModalCreate\n\nDeviceModalCreate.propTypes = {\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalCreateDevice: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport '../connections/Connections.scss'\nimport {\n  Button,\n  Modal,\n  Form,\n  Dropdown,\n  Checkbox,\n} from 'semantic-ui-react'\n\nconst alertMessagesText = {\n  title: 'Turbine',\n  subtitle: 'LM2500',\n  assettext: 'MTU',\n  assetvalue: 'operation',\n}\n\nconst Console = {\n  log: (text) => console.log(text),\n}\n\nclass DeviceModalEdit extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalEditDevice: false,\n      isEnabled: true,\n      deviceTypes: [],\n      apps: [],\n      config: {},\n      selectedDeviceType: '',\n      selectedApp: '',\n      oldConnections: [],\n      isConnectionNameDisabled: false,\n      handleSendToApp: undefined,\n      handleSendToDB: undefined,\n      editDevice: {\n        id: '',\n        title: alertMessagesText.title,\n        subtitle: alertMessagesText.subtitle,\n        latitude: '',\n        longitude: '',\n        assettext: alertMessagesText.assettext,\n        assetvalue: alertMessagesText.assetvalue,\n        severity: '',\n        alerttext: '',\n        alertvalue: '',\n        messagetext: '',\n      },\n    }\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n    const { connection } = this.props\n    const { externalId, name, content } = connection\n    this.getConfigById(externalId)\n    this.getThings().then(() => {\n      if (this._isMounted) this.forceUpdate()\n    })\n    this.getDeviceTypes()\n    this.getConnections()\n    if (content.sendToDB) {\n      this.getDeviceInfoFromDB(name.split('/')[1])\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return !(nextProps === this.props && nextState === this.state)\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getConfigById = async (id) => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((config) => {\n        config.content = JSON.parse(config.content)\n        const selectedApp = config.content.app\n        const selectedDeviceType = config.content.device_type\n        const handleSendToApp = config.content.sendToApp\n        const handleSendToDB = config.content.sendToDB\n        if (this._isMounted) {\n          this.setState({\n            selectedApp,\n            selectedDeviceType,\n            config,\n            handleSendToApp,\n            handleSendToDB,\n          })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  // getThings = async () => {\n  //   const { connection } = this.props\n  //   await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n  //     mode: 'cors',\n  //     credentials: 'include',\n  //   })\n  //     .then((res) => res.json())\n  //     .then((oldThings) => {\n  //       const currentThing = oldThings.filter((item) => item.id === connection.mainflux_id)\n  //       if (this._isMounted) {\n  //         this.setState({ currentThing: currentThing[0] })\n  //       }\n  //     })\n  //     .catch((err) => Console.log(err))\n  // }\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldConnections) => {\n        const connections = oldConnections.filter((item) => {\n          item.content = JSON.parse(item.content)\n          return item.content.type === 'app'\n        })\n        const apps = connections.map((item) => ({ value: item.external_id, text: item.name.split('.')[0] }))\n        if (this._isMounted) this.setState({ apps, oldConnections })\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getDeviceTypes = async () => {\n    fetch('http://134.209.240.215:8300/devices')\n      .then((res) => res.json())\n      .then((types) => {\n        const formattedTypes = types.map((type) => ({ text: type, value: type }))\n        if (this._isMounted) this.setState({ deviceTypes: formattedTypes })\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  getChannel = async (appMac) => {\n    const { oldConnections } = this.state\n    const app = oldConnections.filter((item) => item.external_id === appMac)\n    const arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldChannels) => oldChannels)\n      .catch((err) => Console.log(err))\n\n    const channel = arr.filter((item) => item.name === app[0].name)\n    return channel[0]\n  }\n\n  getGlobalChannel = async (channelName) => {\n    const arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldChannels) => oldChannels)\n      .catch((err) => Console.log(err))\n    const globalChannel = arr.filter((item) => item.name === `zsse/${channelName}`)\n    return globalChannel[0]\n  }\n\n  getDeviceInfoFromDB = async (deviceId) => {\n    const device = await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/device/${deviceId}`,\n      {\n        mode: 'cors',\n        credentials: 'include',\n      },\n    )\n      .then((res) => res.json())\n      .catch((e) => Console.log(e))\n    const {\n      id,\n      title,\n      subtitle,\n      severity,\n      alerttext,\n      alertvalue,\n      assettext,\n      assetvalue,\n      messagetext,\n      longitude,\n      latitude,\n    } = device\n    this.setState((prevState) => ({\n      editDevice: {\n        ...prevState.editDevice,\n        id,\n        title,\n        subtitle,\n        severity,\n        alerttext,\n        alertvalue,\n        assettext,\n        assetvalue,\n        messagetext,\n        longitude,\n        latitude,\n      },\n    }))\n  }\n\n  close = () => {\n    const { callbackFromParent } = this.props\n    const { showModalEditDevice } = this.state\n    if (this._isMounted) this.setState({ showModalEditDevice: false })\n    callbackFromParent(showModalEditDevice)\n  }\n\n  editDevice = async () => {\n    const {\n      config,\n      oldConnections,\n      handleSendToApp,\n      handleSendToDB,\n      editDevice,\n    } = this.state\n    const {\n      name,\n      cycle,\n      deviceType,\n      app,\n      sendToApp,\n      sendToDB,\n      mac,\n    } = config.content\n    let obj = {}\n\n    await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/things/${config.mainflux_id}`,\n      {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n      },\n    )\n      .then((response) => response.json())\n      .then(async (thing) => {\n        await fetch(\n          `${process.env.REACT_APP_EXPRESS_HOST}/api/things/edit/${config.mainflux_id}`,\n          {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            body: JSON.stringify({ name, metadata: thing.metadata }),\n          },\n        )\n      })\n\n    let channel = {}\n    if (handleSendToApp) {\n      channel = await this.getChannel(app)\n      obj = {\n        type: 'device',\n        id: config.mainflux_id,\n        mac,\n        channel: channel.id,\n        sendToApp: handleSendToApp,\n        sendToDB: handleSendToDB,\n        name,\n        cycle,\n        deviceType,\n        app,\n      }\n    } else {\n      channel = await this.getGlobalChannel(process.env.REACT_APP_CHANNEL_NAME)\n      obj = {\n        type: 'device',\n        id: config.mainflux_id,\n        mac,\n        channel: channel.id,\n        sendToApp: handleSendToApp,\n        sendToDB: handleSendToDB,\n        name,\n        deviceType,\n        cycle,\n      }\n    }\n\n    // -- Update Device\n    await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${config.mainflux_id}`,\n      {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify({ obj }),\n      },\n    )\n    await fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/channels/${config.mainflux_id}`,\n      {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify({ obj }),\n      },\n    )\n\n    if (sendToDB === true && handleSendToDB === false) {\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/device/remove/${\n          editDevice.id.split('/')[1]\n        }`,\n        {\n          method: 'DELETE',\n          mode: 'cors',\n          credentials: 'include',\n        },\n      ).catch((err) => Console.log(err))\n    } else if (sendToDB === false && handleSendToDB === true) {\n      const {\n        title,\n        subtitle,\n        severity,\n        alerttext,\n        alertvalue,\n        assettext,\n        assetvalue,\n        messagetext,\n        longitude,\n        latitude,\n      } = editDevice\n      const newDevice = {\n        id: config.content.name.split('/')[1],\n        title,\n        subtitle,\n        severity,\n        alerttext,\n        alertvalue,\n        assettext,\n        assetvalue,\n        messagetext,\n        longitude,\n        latitude,\n      }\n\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/device/create`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify(newDevice),\n      })\n    } else if (sendToDB === true && handleSendToDB === true) {\n      const {\n        id,\n        title,\n        subtitle,\n        severity,\n        alerttext,\n        alertvalue,\n        assettext,\n        assetvalue,\n        messagetext,\n        longitude,\n        latitude,\n      } = editDevice\n      const editedDevice = {\n        id: config.content.name.split('/')[1],\n        title,\n        subtitle,\n        severity,\n        alerttext,\n        alertvalue,\n        assettext,\n        assetvalue,\n        messagetext,\n        longitude,\n        latitude,\n      }\n\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/device/update/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify(editedDevice),\n      })\n    }\n\n    // -- IF DEVICE CONNECTED TO APP BUT IT SHOULD BE DISCONNECTED -- //\n    if (sendToApp === true && handleSendToApp === false) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          response.content = JSON.parse(response.content)\n          const { content } = response\n\n          content.devices = content.devices.filter((item) => item.device_id !== config.mainflux_id)\n\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n            {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              mode: 'cors',\n              credentials: 'include',\n              body: JSON.stringify({ response }),\n            },\n          )\n        })\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`,\n        {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n        },\n      )\n      this.close()\n      return\n    }\n    // -- IF DEVICE DOESN'T CONNECTED TO APP BUT IT SHOULD BE CONNECTED -- //\n    if (sendToApp === false && handleSendToApp === true) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          response.content = JSON.parse(response.content)\n          const { content } = response\n          content.devices.push({\n            device_name: `zsse/${obj.name}`,\n            device_id: config.mainflux_id,\n            device_key: config.mainflux_key,\n            device_type: obj.device_type,\n          })\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n            {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              mode: 'cors',\n              credentials: 'include',\n              body: JSON.stringify({ response }),\n            },\n          )\n        })\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`,\n        {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n        },\n      )\n      await this.getConnections()\n    }\n\n    if (sendToApp) {\n      // -- Get current Device config\n      const currentDevice = oldConnections.filter((item) => item.mainflux_id === config.mainflux_id)\n\n      if (currentDevice[0].content.app !== obj.app) {\n        await fetch(\n          `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${currentDevice[0].content.app}`,\n          {\n            mode: 'cors',\n            credentials: 'include',\n          },\n        )\n          .then((response) => response.json())\n          .then((response) => {\n            response.content = JSON.parse(response.content)\n            const { content } = response\n            content.devices = content.devices\n              .filter((item) => item.device_id !== currentDevice[0].mainflux_id)\n\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n              {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n                body: JSON.stringify({ response }),\n              },\n            )\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`,\n              {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n              },\n            )\n          })\n      }\n\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          response.content = JSON.parse(response.content)\n          const { content } = response\n          const editThing = content.devices.filter((item) => item.device_id === config.mainflux_id)\n          if (editThing.length === 0) {\n            content.devices.push({\n              device_name: name,\n              device_id: config.mainflux_id,\n              device_key: config.mainflux_key,\n              deviceType,\n            })\n          } else {\n            const editThingIndex = content.devices.indexOf(editThing[0])\n            content.devices[editThingIndex] = {\n              device_name: name,\n              device_id: config.mainflux_id,\n              device_key: config.mainflux_key,\n              deviceType,\n            }\n          }\n\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n            {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              mode: 'cors',\n              credentials: 'include',\n              body: JSON.stringify({ response }),\n            },\n          )\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`,\n            {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              mode: 'cors',\n              credentials: 'include',\n            },\n          )\n        })\n    }\n\n    this.close()\n  }\n\n  handleChangeConnectionName = (e) => {\n    const { oldConnections } = this.state\n    const currentValue = e.target.value\n    const arr = oldConnections.filter((item) => item.name === `zsse/${currentValue}`)\n    if (arr.length !== 0 && this._isMounted) {\n      this.setState({ isConnectionNameDisabled: true })\n    } else if (arr.length === 0 && this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          content: {\n            ...prevState.config.content,\n            name: currentValue,\n          },\n        },\n        isConnectionNameDisabled: false,\n      }))\n    }\n  }\n\n  handleChangeCycle = (e) => {\n    const currentValue = e.target.value\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          content: {\n            ...prevState.config.content,\n            cycle: currentValue,\n          },\n        },\n        isEnabled:\n          prevState.config.content.cycle.length <= 4\n          && /^\\d+$/.test(prevState.config.content.cycle),\n      }))\n    }\n  }\n\n  handleChangeDeviceType = (e, { value }) => {\n    const currentValue = value\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          content: {\n            ...prevState.config.content,\n            device_type: currentValue,\n          },\n        },\n        selectedDeviceType: value,\n      }))\n    }\n  }\n\n  handleChangeSendToApp = (e, { checked }) => {\n    if (this._isMounted) this.setState({ handleSendToApp: checked })\n    this.getConnections()\n  }\n\n  handleChangeSendToDB = (e, { checked }) => {\n    if (this._isMounted) this.setState({ handleSendToDB: checked })\n  }\n\n  handleChangeApp = (e, { value }) => {\n    const currentValue = value\n    if (this._isMounted) {\n      this.setState((prevState) => ({\n        config: {\n          ...prevState.config,\n          content: {\n            ...prevState.config.content,\n            app: currentValue,\n          },\n        },\n        selectedApp: value,\n      }))\n    }\n  }\n\n  handleChangeEditDevice = (e) => {\n    const { editDevice } = this.state\n    if (this._isMounted) {\n      const editingDevice = { ...editDevice }\n      editingDevice[Object.keys(e)[0]] = e[Object.keys(e)[0]]\n      this.setState({ editDevice: editingDevice })\n    }\n  }\n\n  render() {\n    const { showModalEditDevice } = this.props\n    const {\n      config,\n      isEnabled,\n      deviceTypes,\n      apps,\n      selectedDeviceType,\n      selectedApp,\n      isConnectionNameDisabled,\n      handleSendToApp,\n      handleSendToDB,\n      editDevice,\n    } = this.state\n    const {\n      title,\n      subtitle,\n      // severity,\n      // alerttext,\n      // alertvalue,\n      assettext,\n      assetvalue,\n      // messagetext,\n      longitude,\n      latitude,\n    } = editDevice\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalEditDevice}\n        onClose={this.close}\n      >\n        <Modal.Header>EDIT DEVICE</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"mainflux_id\">Thing ID</label>\n              <input\n                placeholder=\"mainflux_id\"\n                value={config.content !== undefined ? config.mainflux_id : ''}\n                readOnly\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label htmlFor=\"mainflux_key\">Thing Key</label>\n              <input\n                placeholder=\"mainflux_key\"\n                value={config.content !== undefined ? config.mainflux_key : ''}\n                readOnly\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"name\"> Name </label>\n              <input\n                placeholder=\"name\"\n                onChange={(e) => this.handleChangeConnectionName(e)}\n                value={config.content !== undefined ? config.content.name : ''}\n                className={isConnectionNameDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"cycle\"> Cycle </label>\n              <input\n                placeholder=\"cycle\"\n                value={config.content !== undefined ? config.content.cycle : ''}\n                className={!isEnabled ? 'showError' : 'showSuccess'}\n                onChange={(e) => this.handleChangeCycle(e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"device_type\"> Device Type </label>\n              <Dropdown\n                placeholder=\"device type\"\n                fluid\n                selection\n                options={deviceTypes}\n                value={selectedDeviceType}\n                onChange={this.handleChangeDeviceType}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Checkbox\n                label={\n                  handleSendToApp\n                    ? \"This device's config sent to App\"\n                    : \"Click checkbox for send this device's config to App\"\n                }\n                onChange={this.handleChangeSendToApp}\n                checked={handleSendToApp}\n              />\n              <Checkbox\n                label={\n                  handleSendToDB\n                    ? 'This device have additional info'\n                    : 'Click checkbox for additional info'\n                }\n                onChange={this.handleChangeSendToDB}\n                checked={handleSendToDB}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToApp ? '' : 'hide'}>\n              <label htmlFor=\"apps\">Apps</label>\n              <Dropdown\n                placeholder=\"apps\"\n                fluid\n                selection\n                options={apps}\n                onChange={this.handleChangeApp}\n                value={selectedApp}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"title\">Title</label>\n              <input\n                placeholder=\"Device title\"\n                onChange={(e) => this.handleChangeEditDevice({ title: e.target.value })}\n                value={title !== undefined ? title : ''}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"subtitle\">Subtitle</label>\n              <input\n                placeholder=\"Device subtitle\"\n                onChange={(e) => this.handleChangeEditDevice({ subtitle: e.target.value })}\n                value={subtitle !== undefined ? subtitle : ''}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"latitude\">Latitude</label>\n              <input\n                placeholder=\"Device latitude\"\n                onChange={(e) => this.handleChangeEditDevice({ latitude: e.target.value })}\n                value={latitude !== undefined ? latitude : ''}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"longitude\">Longitude</label>\n              <input\n                placeholder=\"Device longitude\"\n                onChange={(e) => this.handleChangeEditDevice({ longitude: e.target.value })}\n                value={longitude !== undefined ? longitude : ''}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"asset_text\">Asset text</label>\n              <input\n                placeholder=\"Asset text\"\n                onChange={(e) => this.handleChangeEditDevice({ assettext: e.target.value })}\n                value={assettext !== undefined ? assettext : ''}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToDB ? '' : 'hide'}>\n              <label htmlFor=\"asset_value\">Asset value</label>\n              <input\n                placeholder=\"Asset value\"\n                onChange={(e) => this.handleChangeEditDevice({ assetvalue: e.target.value })}\n                value={assetvalue !== undefined ? assetvalue : ''}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color=\"black\" onClick={this.close}>\n            No\n          </Button>\n          <Button\n            positive\n            icon=\"edit outline\"\n            labelPosition=\"right\"\n            content=\"Yes\"\n            onClick={this.editDevice}\n            disabled={isConnectionNameDisabled || !isEnabled}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default DeviceModalEdit\n\nDeviceModalEdit.propTypes = {\n  connection: PropTypes.instanceOf(Object).isRequired,\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalEditDevice: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './Connections.scss'\nimport {\n  Button,\n  Header,\n  Modal,\n  Icon,\n} from 'semantic-ui-react'\n\nconst Console = {\n  log: (text) => console.log(text),\n}\n\nclass ConnectionModalRemove extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalRemove: false,\n      isRemoveable: true,\n    }\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n  }\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const { content } = nextProps.connection\n    if (\n      (content !== undefined\n      && content.type === 'app'\n      && content.devices.length !== 0)\n      && this._isMounted\n    ) {\n      this.setState({ isRemoveable: false })\n    } else if (\n      (content !== undefined\n      && content.type !== 'app'\n      && content.devices.length === 0)\n      && this._isMounted) {\n      this.setState({ isRemoveable: true })\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getChannel = async (app) => {\n    const arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((oldChannels) => oldChannels)\n      .catch((err) => Console.log(err))\n\n    const channel = arr.filter((item) => item.name === app)\n    return channel[0]\n  }\n\n  removeConnection = async (connection) => {\n    const { callbackFromParent } = this.props\n    const { showModalRemove } = this.state\n    const { sendToApp, app, type } = connection.content\n    fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/things/remove/${connection.mainflux_id}`,\n      {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n      },\n    )\n    fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/remove/${connection.mainflux_id}`,\n      {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n      },\n    )\n    fetch(\n      `${process.env.REACT_APP_EXPRESS_HOST}/api/device/remove/${connection.mainflux_id}`,\n      {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n      },\n    )\n    if (sendToApp) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials: 'include',\n      })\n        .then((response) => response.json())\n        .then((response) => {\n          response.content = JSON.parse(response.content)\n          const { content } = response\n\n          content.devices = content.devices.filter((item) => (\n            item.device_id !== connection.mainflux_id))\n\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`,\n            {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              mode: 'cors',\n              credentials: 'include',\n              body: JSON.stringify({ response }),\n            },\n          )\n        })\n    }\n    if (type === 'app') {\n      const arr = await this.getChannel(connection.name)\n      fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/remove/${arr.id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials: 'include',\n      })\n    }\n\n    if (this._isMounted) {\n      this.setState({ showModalRemove: false })\n    }\n    callbackFromParent(showModalRemove, connection.mainflux_id)\n  }\n\n  close = () => {\n    const { callbackFromParent } = this.props\n    const { showModalRemove } = this.state\n    if (this._isMounted) {\n      this.setState({ showModalRemove: false, isRemoveable: true }, () => {\n        callbackFromParent(showModalRemove)\n      })\n    }\n  }\n\n  render() {\n    const { showModalRemove, connection } = this.props\n    const { isRemoveable } = this.state\n    return (\n      <Modal basic size=\"small\" open={showModalRemove}>\n        <Header\n          icon=\"archive\"\n          content={isRemoveable ? 'REMOVE CONNECTION?' : 'CAN NOT REMOVE CONNECTION'}\n        />\n        <Modal.Content>\n          <p>\n            {isRemoveable\n              ? `Do you want to remove connection: ${connection.name}`\n              : `CONNECTION '${connection.name}' HAVE CONNECTED DEVICES. FIRST REMOVE CONNECTED DEVICES.`}\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color=\"green\" inverted onClick={this.close}>\n            <Icon name=\"remove\" />\n            {' '}\n            No\n          </Button>\n          <Button\n            color=\"red\"\n            inverted\n            onClick={() => (isRemoveable ? this.removeConnection(connection) : this.close())}\n          >\n            <Icon name=\"checkmark\" />\n            {' '}\n            Yes\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default ConnectionModalRemove\n\nConnectionModalRemove.propTypes = {\n  connection: PropTypes.instanceOf(Object).isRequired,\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalRemove: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport { Button, Header, Modal, Icon } from 'semantic-ui-react'\n\nclass ErrorModal extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalError: false,\n    }\n  }\n\n  close = () => {\n    this.setState({ showModalRemove: false })\n    this.props.callbackFromParent(this.state.showModalError)\n  }\n\n  render() {\n    const { showModalError, errorText } = this.props\n\n    return (\n      <Modal basic size=\"small\" open={showModalError}>\n        <Header icon=\"archive\" content=\"ERROR\" />\n        <Modal.Content>\n          <p>{errorText}</p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color=\"green\" inverted onClick={this.close}>\n            <Icon name=\"remove\" /> Close\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default ErrorModal\n","import React, { Component } from 'react'\nimport './Connections.scss'\nimport {\n  Item,\n  Button,\n  Icon,\n  Popup,\n  Loader,\n} from 'semantic-ui-react'\nimport AppModalCreate from '../applications/AppModalCreate'\nimport AppModalEdit from '../applications/AppModalEdit'\nimport DeviceModalCreate from '../devices/DeviceModalCreate'\nimport DeviceModalEdit from '../devices/DeviceModalEdit'\nimport ConnectionModalRemove from './ConnectionModalRemove'\nimport ErrorModal from '../errorModal'\n\nconst Console = {\n  log: (text) => console.log(text),\n}\n\nclass Connections extends Component {\n  _isMounted = false\n\n  constructor() {\n    super()\n\n    this.state = {\n      connections: [],\n      showModalCreateApp: false,\n      showModalEditApp: false,\n      showModalCreateDevice: false,\n      showModalEditDevice: false,\n      showModalError: false,\n      edittingApp: {},\n      edittingDevice: {},\n      removingConnection: {},\n      errorText: '',\n      loader: true,\n    }\n  }\n\n  componentDidMount() {\n    this._isMounted = true\n    this.getToken()\n    this.getConnections()\n  }\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps !== this.props) {\n      this.getConnections()\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  getToken = async () => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/users/login`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({ email: `${process.env.REACT_APP_MAINFLUX_USER}` }),\n    })\n  }\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((connections) => {\n        const parsedConnections = connections.map((item) => {\n          item.content = JSON.parse(item.content)\n          return item\n        })\n        if (this._isMounted) {\n          this.setState({ connections: parsedConnections, loader: false })\n        }\n      })\n      .catch((err) => Console.log(err))\n  }\n\n  createAppModalCallback = (showModalCreateApp, oldConnections) => {\n    if (this._isMounted) {\n      this.setState({ showModalCreateApp, connections: oldConnections })\n    }\n    this.getConnections()\n  }\n\n  createDeviceModalCallback = (showModalCreateDevice, oldConnections) => {\n    if (this._isMounted) {\n      this.setState({ showModalCreateDevice, connections: oldConnections })\n    }\n    this.getConnections()\n  }\n\n  removeModalCallback = (showModalRemove, id) => {\n    const { connections } = this.state\n    if (this._isMounted) this.setState({ showModalRemove })\n    if (id) {\n      // FIXME:\n      const bunchOfConnections = connections\n      const connection = bunchOfConnections.filter((i) => i.mainflux_id === id)\n      const { type, app } = connection[0].content\n      if (type === 'device' && app !== undefined) {\n        const connectedApp = connections.filter((i) => i.external_id === app)\n        const edittedApp = connectedApp[0].content.devices.filter(\n          (i) => i.device_id !== id,\n        )\n        connections[\n          connections.indexOf(connectedApp[0])\n        ].content.devices = edittedApp\n        if (this._isMounted) this.setState({ connections })\n      }\n      if (this._isMounted) {\n        this.setState({\n          connections: connections.filter((i) => i.mainflux_id !== id),\n        })\n      }\n    }\n  }\n\n  editAppModalCallback = (showModalEditApp) => {\n    if (this._isMounted) this.setState({ showModalEditApp })\n    this.getConnections()\n  }\n\n  editDeviceModalCallback = (showModalEditDevice) => {\n    if (this._isMounted) this.setState({ showModalEditDevice })\n    this.getConnections()\n  }\n\n  errorModalCallback = (showModalError) => {\n    if (this._isMounted) this.setState({ showModalError })\n  }\n\n  render() {\n    const {\n      connections,\n      showModalCreateApp,\n      showModalCreateDevice,\n      showModalRemove,\n      showModalEditApp,\n      showModalEditDevice,\n      showModalError,\n      edittingApp,\n      edittingDevice,\n      removingConnection,\n      errorText,\n      loader,\n    } = this.state\n\n    return (\n      <div id=\"connections\" className=\"main_wrapper\">\n        <div className=\"connection_top\">\n          <h1> Connections </h1>\n          <div className=\"connection_btn__wrapper\">\n            <Button\n              icon\n              labelPosition=\"left\"\n              onClick={() => this.setState({ showModalCreateApp: true })}\n            >\n              <Icon name=\"chain\" />\n              Create App\n            </Button>\n            <Button\n              icon\n              labelPosition=\"left\"\n              onClick={() => this.setState({ showModalCreateDevice: true })}\n            >\n              <Icon name=\"chain\" />\n              Create Device\n            </Button>\n          </div>\n        </div>\n        <hr />\n        <Item.Group relaxed>\n          {<Loader active={loader} content=\"Loading\" />}\n          {connections.length === 0 ? (\n            <p>\n              Unfortunately we did not find your connections. It will be great to\n              create some.\n              <span role=\"img\" aria-label=\"Sad\">\n                🙁\n              </span>\n            </p>\n          ) : (\n            connections.map((item) => (\n              <Item key={item.mainflux_id}>\n                <Item.Content verticalAlign=\"middle\">\n                  <Popup\n                    content={(\n                      <div>\n                        <p>\n                          id:\n                          {' '}\n                          {item.mainflux_id}\n                        </p>\n                        <p>\n                          key:\n                          {' '}\n                          {item.mainflux_key}\n                        </p>\n                      </div>\n                    )}\n                    trigger={<Item.Header>{item.name}</Item.Header>}\n                  />\n                  <Item.Description>{item.content.type}</Item.Description>\n                  <Item.Description>{item.external_id}</Item.Description>\n                  <Item.Extra>\n                    <Button\n                      color=\"red\"\n                      floated=\"right\"\n                      icon=\"trash alternate outline\"\n                      labelPosition=\"right\"\n                      content=\"Remove\"\n                      onClick={() => this.setState({\n                        showModalRemove: true,\n                        removingConnection: item,\n                      })}\n                    />\n                    <Button\n                      color=\"yellow\"\n                      floated=\"right\"\n                      icon=\"edit outline\"\n                      labelPosition=\"right\"\n                      content=\"Edit\"\n                      onClick={() => (item.content.type === 'app'\n                        ? this.setState({\n                          showModalEditApp: true,\n                          edittingApp: item,\n                        })\n                        : this.setState({\n                          showModalEditDevice: true,\n                          edittingDevice: item,\n                        }))}\n                    />\n                  </Item.Extra>\n                </Item.Content>\n              </Item>\n            ))\n          )}\n        </Item.Group>\n\n        {showModalCreateApp ? (\n          <AppModalCreate\n            showModalCreateApp={showModalCreateApp}\n            callbackFromParent={this.createAppModalCallback}\n          />\n        ) : null}\n\n        {showModalCreateDevice ? (\n          <DeviceModalCreate\n            showModalCreateDevice={showModalCreateDevice}\n            callbackFromParent={this.createDeviceModalCallback}\n          />\n        ) : null}\n\n        {showModalRemove ? (\n          <ConnectionModalRemove\n            showModalRemove={showModalRemove}\n            connection={removingConnection}\n            callbackFromParent={this.removeModalCallback}\n          />\n        ) : null}\n\n        {showModalError ? (\n          <ErrorModal\n            showModalError={showModalError}\n            errorText={errorText}\n            callbackFromParent={this.errorModalCallback}\n          />\n        ) : null}\n\n        {showModalEditApp ? (\n          <AppModalEdit\n            showModalEditApp={showModalEditApp}\n            connection={edittingApp}\n            callbackFromParent={this.editAppModalCallback}\n          />\n        ) : null}\n\n        {showModalEditDevice ? (\n          <DeviceModalEdit\n            showModalEditDevice={showModalEditDevice}\n            connection={edittingDevice}\n            callbackFromParent={this.editDeviceModalCallback}\n          />\n        ) : null}\n      </div>\n    )\n  }\n}\n\nexport default Connections\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './Channels.scss'\nimport { Button, Form, Modal } from 'semantic-ui-react'\n\nclass ChannelModalCreate extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalCreate: false,\n      channel: {\n        name: '',\n        metadata: {},\n      },\n    }\n  }\n\n  createChannel = async () => {\n    const { channel } = this.state\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({ channel }),\n    })\n    this.close()\n  }\n\n  close = () => {\n    const { callbackFromParent } = this.props\n    const { showModalCreate } = this.state\n    this.setState({ showModalCreate: false })\n    callbackFromParent(showModalCreate)\n  }\n\n  handleChangeName = (e) => {\n    const str = e.target.value\n    this.setState((prevState) => ({\n      channel: {\n        ...prevState.channel,\n        name: str,\n      },\n    }))\n  }\n\n  render() {\n    const { showModalCreate } = this.props\n    const { name } = this.state\n\n    return (\n      <Modal closeIcon dimmer=\"blurring\" open={showModalCreate} onClose={this.close}>\n        <Modal.Header>CREATE THING</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"name\">Name</label>\n              <input\n                placeholder=\"name\"\n                value={name}\n                onChange={(e) => this.handleChangeName(e)}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color=\"black\" onClick={this.close}>\n            No\n          </Button>\n          <Button\n            positive\n            icon=\"edit outline\"\n            labelPosition=\"right\"\n            content=\"Yes\"\n            onClick={() => this.createChannel(name)}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default ChannelModalCreate\n\nChannelModalCreate.propTypes = {\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalCreate: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport './Channels.scss'\nimport {\n  Button,\n  Header,\n  Modal,\n  Icon,\n} from 'semantic-ui-react'\n\nclass ChannelModalRemove extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      showModalRemove: false,\n    }\n  }\n\n  removeChannel = async (id) => {\n    const { callbackFromParent } = this.props\n    const { showModalRemove } = this.state\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/remove/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n    this.setState({ showModalRemove: false })\n    callbackFromParent(showModalRemove, id)\n  }\n\n  close = () => {\n    const { callbackFromParent } = this.props\n    const { showModalRemove } = this.state\n    this.setState({ showModalRemove: false })\n    callbackFromParent(showModalRemove)\n  }\n\n  render() {\n    const { showModalRemove, channel } = this.props\n\n    return (\n      <Modal basic size=\"small\" open={showModalRemove}>\n        <Header icon=\"archive\" content=\"REMOVE CHANNEL?\" />\n        <Modal.Content>\n          <p>\n            Do you want to remove channel:\n            {' '}\n            {channel.name}\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color=\"green\" inverted onClick={this.close}>\n            <Icon name=\"remove\" />\n            {' '}\n            No\n          </Button>\n          <Button\n            color=\"red\"\n            inverted\n            onClick={(event) => {\n              this.removeChannel(channel.id, event)\n            }}\n          >\n            <Icon name=\"checkmark\" />\n            {' '}\n            Yes\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nexport default ChannelModalRemove\n\nChannelModalRemove.propTypes = {\n  channel: PropTypes.instanceOf(Object).isRequired,\n  callbackFromParent: PropTypes.func.isRequired,\n  showModalRemove: PropTypes.bool.isRequired,\n}\n","import React, { Component } from 'react'\nimport './Channels.scss'\nimport {\n  Item, Button, Icon, Loader,\n} from 'semantic-ui-react'\nimport ChannelModalCreate from './ChannelModalCreate'\nimport ChannelModalRemove from './ChannelModalRemove'\n// import ChannelModalEdit from './ChannelModalEdit';\n\nclass Channels extends Component {\n  constructor() {\n    super()\n    this.state = {\n      channels: [],\n      // edittingChannel: {},\n      removingChannel: {},\n      showModalRemove: false,\n      // showModalEdit: false,\n      showModalCreate: false,\n      loader: true,\n    }\n  }\n\n  async componentDidMount() {\n    await this.getToken()\n    this.getChannels()\n  }\n\n  getToken = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/users/login`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({ email: `${process.env.REACT_APP_MAINFLUX_USER}` }),\n    })\n  }\n\n  getChannels = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((channels) => this.setState({ channels, loader: false }))\n      .catch((err) => err)\n  }\n\n  removeModalCallback = (showModalRemove, removeItemId) => {\n    this.setState({ showModalRemove })\n    if (removeItemId) {\n      this.setState((prevState) => ({\n        channels: prevState.channels.filter((item) => item.id !== removeItemId),\n      }))\n    }\n  }\n\n  // editModalCallback = showModalEdit => {\n  //   this.setState({ showModalEdit });\n  // };\n\n  createChannelModalCallback = async (showModalCreate) => {\n    this.setState({ showModalCreate })\n    await this.getChannels()\n  }\n\n  render() {\n    const {\n      channels,\n      // showModalEdit,\n      showModalCreate,\n      showModalRemove,\n      removingChannel,\n      // edittingChannel,\n      loader,\n    } = this.state\n\n    return (\n      <div id=\"channels\" className=\"main_wrapper\">\n        <div className=\"channel_top\">\n          <h1>Channels</h1>\n          <Button\n            icon\n            labelPosition=\"left\"\n            onClick={() => this.setState({ showModalCreate: true })}\n          >\n            <Icon name=\"podcast\" />\n            Create Channel\n          </Button>\n        </div>\n        <hr />\n        <Item.Group relaxed>\n          {<Loader active={loader} content=\"Loading\" />}\n          {channels.length === 0 ? (\n            <p>\n              Unfortunately we did not find your channels.\n              <span role=\"img\" aria-label=\"Sad\">\n                🙁\n              </span>\n            </p>\n          ) : (\n            channels.map((item) => (\n              <Item key={item.id}>\n                <Item.Content verticalAlign=\"middle\">\n                  <Item.Header>{item.name}</Item.Header>\n                  <Item.Description>{item.id}</Item.Description>\n                  <Item.Extra>\n                    <Button\n                      color=\"red\"\n                      floated=\"right\"\n                      icon=\"trash alternate outline\"\n                      labelPosition=\"right\"\n                      content=\"Remove\"\n                      onClick={() => this.setState({\n                        showModalRemove: true,\n                        removingChannel: item,\n                      })}\n                    />\n                    {/* <Button\n                      color=\"yellow\"\n                      floated='right'\n                      icon='edit outline'\n                      labelPosition='right'\n                      content=\"Edit\"\n                      onClick={() => this.setState({ showModalEdit: true, edittingChannel: item })}\n                    /> */}\n                  </Item.Extra>\n                </Item.Content>\n              </Item>\n            ))\n          )}\n        </Item.Group>\n\n        {showModalRemove ? (\n          <ChannelModalRemove\n            showModalRemove={showModalRemove}\n            channel={removingChannel}\n            callbackFromParent={this.removeModalCallback}\n          />\n        ) : null}\n\n        {/* {\n          showModalEdit\n          ? <ChannelModalEdit\n              showModalEdit={showModalEdit}\n              channel={edittingChannel}\n              callbackFromParent={this.editModalCallback}\n            />\n          : null\n        } */}\n\n        {showModalCreate ? (\n          <ChannelModalCreate\n            showModalCreate={showModalCreate}\n            callbackFromParent={this.createChannelModalCallback}\n          />\n        ) : null}\n      </div>\n    )\n  }\n}\n\nexport default Channels\n","import * as actionTypes from '../../types/graphs'\n\n// eslint-disable-next-line import/prefer-default-export\nexport const graphActionWindow = (data) => (dispatch) => {\n  dispatch({\n    type: actionTypes.SHOW_GRAPH_ACTION_WINDOW,\n    payload: data,\n  })\n}\n\nexport const addGraphAction = (data) => (dispatch) => {\n  dispatch({\n    type: actionTypes.ADD_GRAPH,\n    payload: data,\n  })\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { Button, Form, Modal } from 'semantic-ui-react'\n\nimport { addGraphAction } from '../actions/graphs'\nimport './GraphWrapper/GraphWrapper.scss'\n\nclass GraphActionWindow extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isVisible: false,\n      config: {\n        title: '',\n        type: '',\n        device: '',\n        date: 0,\n      },\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.showEditWindow !== state.isVisible) {\n      return {\n        isVisible: true,\n        config: {\n          title: props.graphTitle,\n          type: props.graphType,\n          device: props.deviceName,\n          date: props.requestDate,\n        },\n      }\n    }\n\n    return null\n  }\n\n  componentDidMount() {}\n\n  handleChangeData = (key, e) => {\n    const { value } = e.target\n    this.setState((prevState) => ({\n      config: {\n        ...prevState.config,\n        [key]: value,\n      },\n    }))\n  }\n\n  handleSubmit = () => {\n    const { callbackFromParent } = this.props\n    const { config } = this.state\n    callbackFromParent(config)\n    // eslint-disable-next-line react/destructuring-assignment\n    this.props.addGraphAction(config)\n  }\n\n  onClose = () => {\n    const { callbackFromParent } = this.props\n    const { isVisible } = this.state\n    this.setState({ isVisible: false })\n    callbackFromParent(isVisible)\n  }\n\n  render() {\n    const { showEditWindow } = this.props\n    const { config } = this.state\n\n    return (\n      <Modal closeIcon dimmer=\"blurring\" open={showEditWindow} onClose={() => this.onClose()}>\n        <Modal.Header>\n          {config.title}\n          {' '}\n          Graph\n        </Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label htmlFor=\"name\">Type</label>\n              <input\n                placeholder=\"type\"\n                value={config.type}\n                onChange={(e) => this.handleChangeData('type', e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"name\">Device name</label>\n              <input\n                placeholder=\"device\"\n                value={config.device}\n                onChange={(e) => this.handleChangeData('device', e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label htmlFor=\"name\">Date</label>\n              <input\n                placeholder=\"date\"\n                value={config.date}\n                onChange={(e) => this.handleChangeData('date', e)}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color=\"black\" onClick={() => this.onClose()}>\n            No\n          </Button>\n          <Button\n            positive\n            icon=\"edit outline\"\n            labelPosition=\"right\"\n            content=\"Yes\"\n            onClick={() => this.handleSubmit()}\n          />\n        </Modal.Actions>\n      </Modal>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  graph: state.config,\n})\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addGraphAction: (config) => dispatch(addGraphAction(config)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GraphActionWindow)\n\nGraphActionWindow.propTypes = {\n  callbackFromParent: PropTypes.func.isRequired,\n  addGraphAction: PropTypes.func.isRequired,\n  showEditWindow: PropTypes.bool.isRequired,\n  graphTitle: PropTypes.string.isRequired,\n  graphType: PropTypes.string.isRequired,\n  deviceName: PropTypes.string.isRequired,\n  requestDate: PropTypes.number.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport Store from '../../store/configureStore'\n\nclass ToggleComponent extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      opened: false,\n    }\n    Store.subscribe(() => {\n      this.setState({ opened: Store.getState().graph.showGraphActionWindow })\n    })\n  }\n\n  toggleComponent = () => {\n    const { opened } = this.state\n    this.setState({ opened: !opened })\n  }\n\n  render() {\n    // let { title } = this.props\n    const { children } = this.props\n    const { opened } = this.state\n\n    // if (opened) {\n    //   title = 'Hide Component'\n    // } else {\n    //   title = 'Show Component'\n    // }\n\n    return (\n      <div className=\"component\">\n        {/* <button\n          type=\"button\"\n          className=\"componentTitle\"\n          onClick={this.toggleComponent}\n        >\n          { title }\n        </button> */}\n        {opened && (\n          <div className=\"componentContent\">\n            { children }\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default ToggleComponent\n\nToggleComponent.propTypes = {\n  // title: PropTypes.string.isRequired,\n  children: PropTypes.instanceOf(Object).isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n} from 'recharts'\n\nexport default class Timeseries extends Component {\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillReceiveProps(props, nextProps) {\n    if (props === nextProps) {\n      return false\n    }\n    return true\n  }\n\n  render() {\n    const { width, height, data } = this.props\n    return (\n      <div id=\"timeseries\" className=\"\">\n        <LineChart\n          width={width - 20}\n          height={height - 20}\n          data={data}\n          margin={{\n            top: 5, right: 30, left: 20, bottom: 5,\n          }}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey=\"name\" />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          <Line type=\"monotone\" dataKey=\"pv\" stroke=\"#8884d8\" activeDot={{ r: 8 }} />\n          <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" />\n        </LineChart>\n      </div>\n    )\n  }\n}\n\nTimeseries.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  data: PropTypes.instanceOf(Array).isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport GraphActionWindow from '../GraphActionWindow'\n\nimport './GraphWrapper.scss'\nimport EditIcon from '../../../static/icons/edit.svg'\nimport RemoveIcon from '../../../static/icons/delete.svg'\n\nexport default class GraphWrapperHeader extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      showEditWindow: false,\n    }\n    this.editBtnRef = React.createRef()\n    this.removeBtnRef = React.createRef()\n  }\n\n  handleClick = (node) => {\n    const { showEditWindow } = this.state\n    if (node.className === 'graph_edit__btn') {\n      this.editWindow(!showEditWindow)\n    } else if (node.className === 'graph_remove__btn') {\n      console.info('Remove button clicked...')\n    }\n  }\n\n  editWindow = (showEditWindow) => {\n    this.setState({ showEditWindow })\n  }\n\n  render() {\n    const { graphTitle, width } = this.props\n    const { showEditWindow } = this.state\n    return (\n      <div\n        id=\"graph_wrapper__header\"\n        style={{\n          borderTopLeftRadius: 5,\n          borderTopRightRadius: 5,\n          width,\n        }}\n      >\n        <div className=\"graph_name\">\n          <h5>{graphTitle}</h5>\n        </div>\n        <div className=\"graph_actions\">\n          <button\n            type=\"button\"\n            className=\"graph_edit__btn\"\n            onClick={() => this.handleClick(this.editBtnRef.current)}\n            ref={this.editBtnRef}\n          >\n            <img\n              src={EditIcon}\n              alt=\"Edit graph\"\n            />\n          </button>\n          <button\n            type=\"button\"\n            className=\"graph_remove__btn\"\n            onClick={() => this.handleClick(this.removeBtnRef.current)}\n            ref={this.removeBtnRef}\n          >\n            <img\n              src={RemoveIcon}\n              alt=\"Remove graph\"\n            />\n          </button>\n        </div>\n        {showEditWindow ? (\n          <GraphActionWindow\n            showEditWindow={showEditWindow}\n            callbackFromParent={this.editWindow}\n            graphTitle={graphTitle}\n          />\n        ) : null}\n      </div>\n    )\n  }\n}\n\nGraphWrapperHeader.propTypes = {\n  graphTitle: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Rnd } from 'react-rnd'\nimport Timeseries from '../Timeseries'\nimport GraphWrapperHeader from './GraphWrapperHeader'\n\nclass GraphWrapper extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      width: 620,\n      height: 350,\n      graphTitle: 'Timeseries',\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.width !== state.width) {\n      return {\n        width: props.width,\n        height: props.height,\n      }\n    }\n\n    return null\n  }\n\n  render() {\n    console.info(this.props)\n    const { width, height, graphTitle } = this.state\n    const {\n      type,\n      title,\n      data,\n    } = this.props\n\n    return (\n      <div\n        style={{ margin: 0, paddingBottom: '40px' }}\n      >\n        <Rnd\n          default={{\n            x: 0,\n            y: 0,\n            width,\n            height,\n          }}\n          style={{\n            background: '#EBEFF2',\n            position: 'relative',\n            padding: '10px',\n            borderRadius: '5px',\n          }}\n          onResize={(e, direction, ref, delta, position) => {\n            this.setState({\n              width: parseInt(ref.style.width, 10),\n              height: parseInt(ref.style.height, 10),\n              ...position,\n            })\n          }}\n        >\n          <GraphWrapperHeader width={width - 20} graphTitle={graphTitle} />\n          <Timeseries\n            width={width}\n            height={height - 30}\n            type={type}\n            title={title}\n            data={data}\n          />\n        </Rnd>\n      </div>\n    )\n  }\n}\n\nexport default GraphWrapper\n\nGraphWrapper.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  type: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  data: PropTypes.instanceOf(Object).isRequired,\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { graphActionWindow } from '../../shared/actions/graphs'\nimport Store from '../../store/configureStore'\n\nimport './Graphs.scss'\n\nimport GraphActionWindow from '../../shared/components/GraphActionWindow'\nimport ToggleComponent from '../../shared/components/ToggleComponent'\nimport GraphWrapper from '../../shared/components/GraphWrapper/GraphWrapper'\n\nconst data = [\n  {\n    name: 'Page A', uv: 4000, pv: 2400, amt: 2400,\n  },\n  {\n    name: 'Page B', uv: 3000, pv: 1398, amt: 2210,\n  },\n  {\n    name: 'Page C', uv: 2000, pv: 9800, amt: 2290,\n  },\n  {\n    name: 'Page D', uv: 2780, pv: 3908, amt: 2000,\n  },\n  {\n    name: 'Page E', uv: 1890, pv: 4800, amt: 2181,\n  },\n  {\n    name: 'Page F', uv: 2390, pv: 3800, amt: 2500,\n  },\n  {\n    name: 'Page G', uv: 3490, pv: 4300, amt: 2100,\n  },\n]\n\nclass Graphs extends Component {\n  _isMounted = false\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      width: 620,\n      height: 650,\n      graphsList: [],\n    }\n    Store.subscribe(() => {\n      this.setState({ graphsList: Store.getState().graph.graphsList })\n    })\n  }\n\n  async componentDidMount() {\n    this._isMounted = true\n    // fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/edit/${channel.id}`, {\n    //   method: 'PUT',\n    //   headers: {\n    //     'Content-Type': 'application/json',\n    //   },\n    //   mode: 'cors',\n    //   credentials: 'include',\n    //   body: JSON.stringify({ name: channel.name, metadata: channel.metadata }),\n    // })\n  }\n\n  shouldComponentUpdate(prevProps, prevState) {\n    if (this.state === prevState) {\n      return false\n    }\n    return true\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false\n  }\n\n  createGraph = () => {\n    const { showGraphActionWindow } = this.props\n    showGraphActionWindow(!Store.getState().graph.showGraphActionWindow)\n  }\n\n  render() {\n    const { width, height, graphsList } = this.state\n    return (\n      <div id=\"graphs\" className=\"main_wrapper\">\n        <div className=\"graphs_header\">\n          <button type=\"button\" onClick={this.createGraph}>Create</button>\n        </div>\n        {\n          graphsList.length > 0\n            ? graphsList.map((item, i) => (\n              <GraphWrapper\n                // eslint-disable-next-line react/no-array-index-key\n                key={i}\n                width={width}\n                height={height}\n                title=\"\"\n                type={item.type}\n                data={data}\n              />\n            ))\n            : ''\n        }\n\n        <ToggleComponent title=\"Show Component\">\n          <GraphActionWindow\n            showEditWindow\n            callbackFromParent={this.createGraph}\n            graphTitle=\"\"\n            graphType=\"\"\n            deviceName=\"\"\n            requestDate={0}\n          />\n        </ToggleComponent>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  showGraphActionWindow: state.isShowGraphActionWindow,\n})\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    showGraphActionWindow: (isVisible) => dispatch(graphActionWindow(isVisible)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Graphs)\n\nGraphs.propTypes = {\n  showGraphActionWindow: PropTypes.func.isRequired,\n}\n","import React from 'react'\n\nconst Notfound = () => (\n  <div className=\"main_wrapper\">\n    <h1>Nothing was found</h1>\n    <p>\n      Unfortunately we did not find anything for your request.\n      <span role=\"img\" aria-label=\"Sad\">\n        🙁\n      </span>\n    </p>\n  </div>\n)\n\nexport default Notfound\n","import React, { Component } from 'react'\nimport {\n  Route, NavLink, BrowserRouter as Router, Switch,\n} from 'react-router-dom'\nimport { Menu } from 'semantic-ui-react'\nimport './App.scss'\nimport 'semantic-ui-css/semantic.min.css'\nimport Home from './components/Home'\nimport TopBar from './components/TopBar'\nimport Connections from './components/connections/Connections'\nimport Channels from './components/channels/Channels'\nimport Graphs from './components/graphs/Graphs'\nimport Notfound from './components/NotFound'\n\nexport default class App extends Component {\n  checkActive = (location) => {\n    const { url } = location\n    if (url === '/') return true\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <TopBar />\n        <Router>\n          <div id=\"sidebar_wrapper\">\n            <Menu id=\"sidebar_menu\" secondary vertical>\n              <ul>\n                <li>\n                  <NavLink\n                    to=\"/\"\n                    activeClassName=\"active_item\"\n                    isActive={this.checkActive}\n                  >\n                    Home\n                  </NavLink>\n                </li>\n                <li>\n                  <NavLink to=\"/channels\" activeClassName=\"active_item\">\n                    Channels\n                  </NavLink>\n                </li>\n                <li>\n                  <NavLink to=\"/connections\" activeClassName=\"active_item\">\n                    Connections\n                  </NavLink>\n                </li>\n                <li>\n                  <NavLink to=\"/graphs\" activeClassName=\"active_item\">\n                    Graphs\n                  </NavLink>\n                </li>\n              </ul>\n            </Menu>\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route path=\"/channels\" component={Channels} />\n              <Route path=\"/connections\" component={Connections} />\n              <Route path=\"/graphs\" component={Graphs} />\n              <Route component={Notfound} />\n            </Switch>\n          </div>\n        </Router>\n      </div>\n    )\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n            + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Keycloak from 'keycloak-js'\nimport { Provider } from 'react-redux'\nimport store from './store/configureStore'\n\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n)\nserviceWorker.register()\n\n// keycloak init options\nconst initOptions = {\n  url: 'http://key.zeinetsse.com/auth',\n  realm: 'zeinetsse',\n  clientId: 'mainflux_admin',\n  onLoad: 'login-required',\n}\n\nconst keycloak = Keycloak(initOptions)\n\nkeycloak.init({ onLoad: initOptions.onLoad }).success((auth) => {\n  if (!auth) {\n    window.location.reload()\n  } else {\n    console.info('Authenticated')\n  }\n\n  // React Render\n  ReactDOM.render(<App />, document.getElementById('root'))\n\n  localStorage.setItem('react-token', keycloak.token)\n  localStorage.setItem('react-refresh-token', keycloak.refreshToken)\n\n  setTimeout(() => {\n    keycloak.updateToken(70).success((refreshed) => {\n      if (refreshed) {\n        console.debug(`Token refreshed${refreshed}`)\n      } else {\n        console.warn(`Token not refreshed, valid for ${\n          Math.round(keycloak.tokenParsed.exp + keycloak.timeSkew - new Date().getTime() / 1000)} seconds`)\n      }\n    }).error(() => {\n      console.error('Failed to refresh token')\n    })\n  }, 60000)\n}).error(() => {\n  console.error('Authenticated Failed')\n})\n"],"sourceRoot":""}