{"version":3,"sources":["components/Main.js","components/TopBar.js","components/connections/AppModalCreate.jsx","components/connections/AppModalEdit.jsx","components/connections/DeviceModalCreate.jsx","components/connections/DeviceModalEdit.jsx","components/connections/ConnectionModalRemove.jsx","components/errorModal.jsx","components/connections/Connections.jsx","components/channels/ChannelModalCreate.jsx","components/channels/ChannelModalRemove.jsx","components/channels/ChannelModalEdit.jsx","components/channels/Channels.js","components/NotFound.js","App.js","serviceWorker.js","index.js"],"names":["Main","react_default","a","createElement","className","role","aria-label","Component","trigger","Image","avatar","src","faker","internet","name","findName","options","key","text","icon","TopBar","id","Segment","clearing","Header","floated","alt","Dropdown","pointing","AppModalCreate","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getThings","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","fetch","concat","process","mode","credentials","then","res","json","oldThings","setState","catch","err","console","log","stop","getConnections","_callee2","_context2","oldConnections","createThing","_callee3","_context3","method","headers","Content-Type","body","JSON","stringify","state","newThing","createChannel","_callee4","channel","_context4","createAppConnection","_callee5","_this$state","connectionName","arr","thing","obj","_this$state2","showModalCreateApp","_context5","oldChannels","sent","filter","item","t0","mac","metadata","channels","callbackFromParent","t1","close","_callee6","_this$state3","_context6","handleChangeConnectionName","e","str","target","value","length","regexpName","test","prevState","objectSpread","isConnectionNameEnabled","handleChangeThingMac","regexpMac","isThingMacEnabled","type","_this2","_this$state4","Modal","closeIcon","dimmer","open","onClose","Content","Form","Field","placeholder","onChange","Actions","Button","color","onClick","positive","labelPosition","content","disabled","AppModalEdit","getConfigById","_ref","config","selectedChannels","parse","i","mainflux_channels","push","_x","apply","arguments","getChannels","chan","map","editApp","_this$state$config$co","mainflux_id","showModalEditApp","handleChangeName","handleChangeChannel","_ref4","nextProps","connection","external_id","nextState","undefined","multiple","fluid","selection","DeviceModalCreate","apps","getDeviceTypes","types","formattedTypes","deviceTypes","getChannel","_ref5","appMac","app","abrupt","createDeviceConnection","cycle","sendToApp","device_type","createdThing","showModalCreateDevice","response","devices","device_name","device_id","device_key","_callee7","_context7","closeError","showModalError","errorText","isConnectionNameDisabled","isThingMacDisabled","handleChangeCycle","isEnabled","handleChangeSendToApp","_ref8","checked","handleChangeDeviceType","_ref9","handleChangeApp","_ref10","Checkbox","label","DeviceModalEdit","selectedApp","selectedDeviceType","handleSendToApp","currentThing","split","_x2","showModalEditDevice","editDevice","currentDevice","_ref7","_x3","mainflux_key","editThing","editThingIndex","indexOf","currentValue","forceUpdate","_this3","ConnectionModalRemove","removeConnection","_ref2","_connection$content","showModalRemove","isRemoveable","_this$props","basic","size","inverted","Icon","ErrorModal","Connections","getToken","Accept","email","connections","parsedConnections","createAppModalCallback","createDeviceModalCallback","removeModalCallback","_connection$0$content","connectedApp","edittedApp","editAppModalCallback","editDeviceModalCallback","errorModalCallback","edittingApp","edittingDevice","removingConnection","Item","Group","relaxed","verticalAlign","Popup","Description","Extra","connections_AppModalCreate","connections_DeviceModalCreate","connections_ConnectionModalRemove","errorModal","connections_AppModalEdit","connections_DeviceModalEdit","ChannelModalCreate","showModalCreate","ChannelModalRemove","removeChannel","event","ChannelModalEdit","editChannel","show","showModalEdit","Channels","editModalCallback","createChannelModalCallback","_ref3","edittingChannel","removingChannel","channels_ChannelModalRemove","channels_ChannelModalEdit","channels_ChannelModalCreate","Notfound","App","handleHome","home","handleChannels","handleConnections","components_TopBar","react_router_dom","Menu","secondary","vertical","to","react_router","exact","path","component","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.eed7f00c.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport 'semantic-ui-css/semantic.min.css'\n\nclass Main extends Component {\n\n  render() {\n    return (\n      <div className=\"main_wrapper\">\n        <h1>Home</h1>\n        <hr />\n        <p>\n          Here you can put everything your heart desires.\n          <span role=\"img\" aria-label=\"Hooray\"></span>\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","import faker from 'faker';\nimport React, { Component } from 'react';\nimport {\n  Header,\n  Segment,\n  Dropdown,\n  Image,\n} from 'semantic-ui-react';\n\n\nconst trigger = (\n  <span>\n    <Image avatar src={faker.internet.avatar()} /> {faker.name.findName()}\n  </span>\n);\n\nconst options = [\n  { key: 'user', text: 'Account', icon: 'user' },\n  { key: 'settings', text: 'Settings', icon: 'settings' },\n  { key: 'sign-out', text: 'Sign Out', icon: 'sign out' },\n];\n\nclass TopBar extends Component {\n\n  render() {\n\n    return (\n      <div id='TopBar'>\n        <Segment clearing id='top_menu'>\n          <Header className='topbar_left' floated='left'>\n            <img className=\"top_logo\" alt=\"Zeinetsse\" src=\"/ZeinetSSE.png\" />\n          </Header>\n          <Header className='topbar_right' floated='right'>\n            <Dropdown\n              className='top_dropdown'\n              trigger={trigger}\n              options={options}\n              pointing='top left'\n              icon={null}\n            />\n          </Header>\n        </Segment>\n      </div>\n    );\n  }\n}\n\nexport default TopBar;\n","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Button,\n  Modal,\n  Form,\n} from 'semantic-ui-react';\n\nclass AppModalCreate extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalCreateApp: false,\n      isThingMacEnabled: false,\n      isConnectionNameEnabled: false,\n      oldThings: [],\n      oldConnections: [],\n      newThing: {\n        name: '',\n        metadata: {\n          type: 'app',\n          mac: '',\n        },\n      },\n      channel:  {\n        name: '',\n        metadata: {},\n      },\n      connectionName: '',\n    };\n    this.regexpName = /^\\w+$/;\n    this.regexpMac = /^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\\1){4}[0-9a-z]{2}$/gmi;\n  };\n\n  getThings = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json() )\n      .then( oldThings => {\n        this.setState({oldThings});\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n    .then( res =>  res.json() )\n    .then( oldConnections => {\n      this.setState({oldConnections});\n      })\n      .catch( err => console.log(err) );\n  };\n\n  createThing = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify(this.state.newThing),\n    });\n  };\n\n  createChannel = async () => {\n    const { channel } = this.state;\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({channel})\n    });\n  };\n\n  createAppConnection = async () => {\n    const { newThing, connectionName } = this.state;\n    try {\n      let arr = [];\n      await this.createChannel();\n      arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n        mode: 'cors',\n        credentials: 'include'\n      })\n      .then( res => res.json())\n      .then( oldChannels => {\n        return oldChannels;\n      })\n      .catch( err => console.log(err));\n      var channel = arr.filter( item => {\n        return item.name === `zsse/${newThing.name}`;\n      });\n      await this.createThing();\n      arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n        mode: 'cors',\n        credentials : 'include',\n        })\n        .then( res =>  res.json() )\n        .then( oldThings => {\n          return oldThings;\n        })\n        .catch( err => console.log(err) );\n\n      var thing = arr.filter( item => {\n        return item.name === `zsse/${newThing.name}`;\n      });\n    } catch(err) {\n      console.log(err);\n    }\n\n    const obj = {\n      mac: newThing.metadata.mac,\n      id: thing[0].id,\n      channels: `${channel[0].id}`,\n      name: connectionName,\n    };\n\n    try {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/create/app`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials : 'include',\n        body: JSON.stringify(obj),\n      });\n\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel[0].id}/things/${thing[0].id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          mode: 'cors',\n          credentials : 'include',\n        });\n      await this.getConnections();\n\n      // Close and send data to parent\n      const { showModalCreateApp, oldConnections } = this.state;\n      this.setState({ showModalCreateApp: false });\n      this.props.callbackFromParent(showModalCreateApp, oldConnections)\n    } catch(err) {\n      console.log(err);\n    }\n  };\n\n  close = async () => {\n    const { showModalCreateApp, oldConnections } = this.state;\n    this.setState({ showModalCreateApp: false });\n    this.props.callbackFromParent(showModalCreateApp, oldConnections)\n  };\n\n  componentDidMount() {\n    this.getThings();\n    this.getConnections();\n  };\n\n  handleChangeConnectionName = e => {\n    let str = e.target.value;\n    let arr = this.state.oldConnections.filter( item => {\n      return item.name === str;\n    });\n    if(arr.length !== 0 || !this.regexpName.test(str)) {\n      this.setState({ isConnectionNameEnabled: true });\n    } else {\n      this.setState( prevState => ({\n        newThing: {\n          ...prevState.newThing,\n          name: str,\n        },\n        channel: {\n          ...prevState.channel,\n          name: str,\n        },\n        connectionName: str,\n        isConnectionNameEnabled: false,\n      }));\n    };\n  };\n\n  handleChangeThingMac = e => {\n    let str = e.target.value;\n    let arr = this.state.oldThings.filter( item => {\n      return item.metadata.mac === str;\n    });\n    if(arr.length !== 0 || !this.regexpMac.test(str)) {\n      this.setState({ isThingMacEnabled: true });\n    } else {\n      this.setState( prevState => ({\n        newThing: {\n          ...prevState.newThing,\n          metadata: {\n            ...prevState.newThing.metadata,\n            mac: str,\n          },\n        },\n        isThingMacEnabled: false,\n      }));\n    }\n  };\n\n  render() {\n    const { showModalCreateApp } = this.props;\n    const { isThingMacEnabled, isConnectionNameEnabled } = this.state;\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalCreateApp}\n        onClose={this.close}\n      >\n        <Modal.Header> CREATE APP </Modal.Header>\n\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label> Name </label>\n              <input\n                placeholder='name'\n                onChange={e => this.handleChangeConnectionName(e)}\n                className={isConnectionNameEnabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Mac </label>\n              <input\n                placeholder='mac'\n                onChange={e => this.handleChangeThingMac(e)}\n                className={isThingMacEnabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n\n        <Modal.Actions>\n          <Button color='black' onClick={this.close}>\n            Cancel\n          </Button>\n          <Button\n            positive\n            icon='plus'\n            labelPosition='right'\n            content=\"Create\"\n            disabled={isThingMacEnabled || isConnectionNameEnabled}\n            onClick={this.createAppConnection}\n          />\n        </Modal.Actions>\n\n      </Modal>\n    )\n  }\n\n}\n\nexport default AppModalCreate;","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Button,\n  Form,\n  Modal,\n  Dropdown\n} from 'semantic-ui-react';\n\nclass AppModalEdit extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      config: {},\n      channels: [],\n      selectedChannels: [],\n      showModalEditApp: false,\n    };\n  };\n\n  getConfigById = async id => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json())\n      .then( config => {\n        const selectedChannels = [];\n\n        config.content = JSON.parse(config.content);\n\n        for (let i = 0; i < config.mainflux_channels.length; i++) {\n          selectedChannels.push(config.mainflux_channels[i].id);\n        };\n\n        this.setState({\n          selectedChannels,\n          config\n        });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getChannels = async () => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json())\n      .then( channels => {\n        const chan = channels.map( (item, i) => {\n          return {value: item.id, text: item.name}\n        });\n        this.setState({ channels: chan });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  editApp = async () => {\n    const { config } = this.state;\n    const { mac, name } = this.state.config.content;\n    const obj = {\n      mac,\n      id: config.mainflux_id,\n      channels: config.mainflux_channels,\n      name,\n      type: \"app\",\n      content: config.content,\n    };\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${config.mainflux_id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({ obj })\n    });\n\n    this.close();\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if(nextProps.connection !== this.props.connection){\n      this.getConfigById(nextProps.connection.external_id);\n    };\n  };\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps !== this.props ||\n    nextState !== this.state;\n  };\n\n  componentDidMount() {\n    this.getChannels();\n  }\n\n  close = () => {\n    this.setState({ showModalEditApp: false });\n    this.props.callbackFromParent(this.state.showModalEditApp);\n  };\n\n  handleChangeName = e => {\n    const obj = this.state.config;\n    obj.content.name = e.target.value;\n    this.setState({ config: obj });\n  };\n\n  handleChangeChannel = (e, { value }) => {\n    let obj = this.state.config;\n    obj.mainflux_channels = value;\n    this.setState({ config: obj });\n  };\n\n  render() {\n    const { showModalEditApp } = this.props;\n    const { config, channels, selectedChannels } = this.state;\n    return (\n      <Modal closeIcon dimmer=\"blurring\" open={showModalEditApp} onClose={this.close}>\n        <Modal.Header>EDIT CONNECTION</Modal.Header>\n        <Modal.Content>\n          <Form>\n\n            <Form.Field>\n              <label>Name</label>\n              <input\n                placeholder='name'\n                value={config.content !== undefined ? config.content.name : ''}\n                onChange={e => this.handleChangeName(e)}\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label>Channels</label>\n              <Dropdown\n                placeholder='channels'\n                multiple\n                fluid\n                selection\n                options={channels}\n                onChange={this.handleChangeChannel}\n                value={selectedChannels}\n              />\n            </Form.Field>\n\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color='black' onClick={this.close}>\n            No\n          </Button>\n          <Button\n            positive\n            icon='edit outline'\n            labelPosition='right'\n            content=\"Yes\"\n            onClick={this.editApp}\n          />\n        </Modal.Actions>\n      </Modal>\n    );\n  };\n};\n\nexport default AppModalEdit;","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Button,\n  Form,\n  Modal,\n  Dropdown,\n  Checkbox,\n} from 'semantic-ui-react';\n\nclass DeviceModalCreate extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      deviceTypes: [],\n      apps: [],\n      oldThings: [],\n      oldConnections: [],\n      isEnabled: true,\n      showModalCreateDevice: false,\n      isThingMacDisabled: false,\n      isConnectionNameDisabled: false,\n      newThing: {\n        name: '',\n        metadata: {\n          type: 'device',\n          mac: '',\n        },\n      },\n      config: {\n        id: '',\n        channel: [],\n        name: '',\n        cycle: '',\n        sendToApp: false,\n        device_type: undefined,\n        app: undefined,\n      },\n    };\n\n    this.oldThings = [];\n    this.regexpName = /^\\w+$/;\n    this.regexpMac = /^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\\1){4}[0-9a-z]{2}$/gmi;\n  };\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n    .then( res =>  res.json() )\n    .then( oldConnections => {\n      this.setState({oldConnections});\n      const connections = oldConnections.filter( item => {\n        item.content = JSON.parse(item.content);\n        return item.content.type === 'app';\n      });\n      const apps = connections.map( item => {\n        return { key: item.external_id, text: item.name, value: item.external_id}\n      })\n      this.setState({ apps });\n    })\n    .catch( err => console.log(err) );\n  };\n\n  getDeviceTypes = async () => {\n    fetch('http://134.209.240.215:8300/devices')\n      .then(res => res.json())\n      .then(types => {\n        const formattedTypes = types.map( (type, i) => {\n          return { text: type, value: type}\n        });\n        this.setState({ deviceTypes: formattedTypes });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getThings = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json() )\n      .then( oldThings => {\n        this.oldThings = oldThings;\n        this.setState({ oldThings });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  createThing = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify(this.state.newThing),\n    });\n  };\n\n  getChannel = async appMac => {\n    const { oldConnections } = this.state;\n    let app = oldConnections.filter( item => {\n      return item.external_id === appMac;\n    });\n    let arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include'\n    })\n    .then( res => res.json())\n    .then( oldChannels => {\n      return oldChannels;\n    })\n    .catch( err => console.log(err));\n\n    var channel = arr.filter( item => {\n      return item.name === app[0].name;\n    });\n    return channel[0];\n  }\n\n  // -- Start of creating device --\n  createDeviceConnection = async () => {\n    const {\n      newThing,\n      connectionName,\n      config,\n    } = this.state;\n    const {\n      cycle,\n      sendToApp,\n      device_type,\n      app\n    } = config;\n\n    try {\n      await this.createThing();\n      await this.getThings();\n\n      var createdThing = this.oldThings.filter( item => {\n        return item.name === `zsse/${newThing.name}`;\n      });\n\n    } catch(err) {\n      console.log(err);\n    }\n\n    let obj = {};\n    if(sendToApp) {\n      let channel = await this.getChannel(app);\n      obj = {\n        mac: newThing.metadata.mac,\n        id: createdThing[0].id,\n        channel: channel.id,\n        name: connectionName,\n        cycle,\n        sendToApp,\n        device_type,\n        app\n      };\n    } else {\n      obj = {\n        mac: newThing.metadata.mac,\n        id: createdThing[0].id,\n        channel: `${process.env.REACT_APP_CHANNEL_ID}`,\n        name: connectionName,\n        cycle,\n        device_type,\n        sendToApp,\n      };\n    };\n\n    try {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/create/device`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials : 'include',\n        body: JSON.stringify(obj),\n      });\n\n      if(sendToApp) {\n        await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n          mode: 'cors',\n          credentials : 'include',\n        })\n          .then( response => response.json())\n          .then( response => {\n            response.content = JSON.parse(response.content);\n            let { content } = response;\n            content.devices.push({\n              device_name: `zsse/${connectionName}`,\n              device_id: createdThing[0].id,\n              device_key: createdThing[0].key,\n              device_type: obj.device_type\n            })\n            fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              mode: 'cors',\n              credentials : 'include',\n              body: JSON.stringify({ response })\n            });\n            // - Connecting to App's channel - //\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${response.mainflux_channels[0].id}/things/${createdThing[0].id}`, {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                mode: 'cors',\n                credentials : 'include',\n              });\n          });\n      } else {\n        await fetch(\n          `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${process.env.REACT_APP_CHANNEL_ID}/things/${createdThing[0].id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            credentials : 'include',\n          });\n      };\n      await this.getConnections();\n\n      // Close and send data to parent\n      const { showModalCreateDevice, oldConnections } = this.state;\n      this.setState({ showModalCreateDevice: false });\n      this.props.callbackFromParent(showModalCreateDevice, oldConnections);\n      this.setState( prevState => ({\n        config: {\n          ...prevState.config,\n          sendToApp: false,\n        },\n      }));\n    } catch(err) {\n      console.log(err);\n    }\n  };\n  // -- End of creating device --\n\n  componentWillReceiveProps(nextProps) {\n    if( nextProps !== this.props ) {\n      this.getConnections();\n      this.getThings();\n    };\n  };\n\n  close = async () => {\n    const { showModalCreateDevice, oldConnections } = this.state;\n    this.setState({ showModalCreateDevice: false });\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        sendToApp: false,\n      },\n    }));\n    this.props.callbackFromParent(showModalCreateDevice, oldConnections)\n  };\n\n  closeError = () => {\n    this.setState({ showModalError: false, errorText: '' });\n  };\n\n  handleChangeConnectionName = e => {\n    let str = e.target.value;\n    let arr = this.state.oldConnections.filter( item => {\n      return item.name === `zsse/${str}`;\n    });\n    if(arr.length !== 0 || !this.regexpName.test(str)) {\n      this.setState({ isConnectionNameDisabled: true });\n    } else {\n      this.setState( prevState => ({\n        newThing: {\n          ...prevState.newThing,\n          name: str,\n        },\n        connectionName: str,\n        isConnectionNameDisabled: false,\n      }));\n    };\n  };\n\n  handleChangeThingMac = e => {\n    let str = e.target.value;\n    let arr = this.state.oldThings.filter( item => {\n      return item.metadata.mac === str;\n    });\n    if(arr.length !== 0 || !this.regexpMac.test(str)) {\n      this.setState({ isThingMacDisabled: true });\n    } else {\n      this.setState( prevState => ({\n        newThing: {\n          ...prevState.newThing,\n          metadata: {\n            ...prevState.newThing.metadata,\n            mac: str,\n          },\n        },\n        isThingMacDisabled: false,\n      }));\n    }\n  };\n\n  handleChangeCycle = e => {\n    let str = e.target.value;\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        cycle: str,\n      },\n      isEnabled: prevState.config.cycle.length <= 4 && /^\\d+$/.test(prevState.config.cycle)\n    }));\n  };\n\n\n  handleChangeSendToApp = (e, { checked }) => {\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        sendToApp: checked,\n      },\n    }));\n    this.getConnections();\n  };\n\n  handleChangeDeviceType = (e, { value }) => {\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        device_type: value,\n      },\n    }));\n  };\n\n  handleChangeApp = (e, { value }) => {\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        app: value,\n      },\n    }));\n  };\n\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   return nextProps === this.props || nextState !== this.state;\n  // };\n\n  componentDidMount() {\n    this.getThings();\n    this.getConnections();\n    this.getDeviceTypes();\n  };\n\n  render() {\n    const { showModalCreateDevice } = this.props;\n    const {\n      isThingMacDisabled,\n      isConnectionNameDisabled,\n      isEnabled,\n      deviceTypes,\n      apps,\n      config,\n    } = this.state;\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalCreateDevice}\n        onClose={this.close}\n      >\n        <Modal.Header> CREATE DEVICE </Modal.Header>\n\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label> Name </label>\n              <input\n                placeholder='name'\n                onChange={e => this.handleChangeConnectionName(e)}\n                className={isConnectionNameDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Mac </label>\n              <input\n                placeholder='mac'\n                onChange={e => this.handleChangeThingMac(e)}\n                className={isThingMacDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Device type </label>\n              <Dropdown\n                placeholder='type'\n                fluid\n                selection\n                options={deviceTypes}\n                onChange={this.handleChangeDeviceType}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Cycle </label>\n              <input\n                placeholder='cycle'\n                className={\n                  !isEnabled ? 'showError' : 'showSuccess'\n                  }\n                onChange={e => this.handleChangeCycle(e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Checkbox\n                label={config.sendToApp ? 'This device will be sent to App' : 'Click checkbox for send this config to App'}\n                onChange={this.handleChangeSendToApp}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToApp ? '' : 'hide'}>\n              <label>Apps</label>\n              <Dropdown\n                placeholder='apps'\n                fluid\n                selection\n                options={apps}\n                onChange={this.handleChangeApp}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n\n        <Modal.Actions>\n          <Button color='black' onClick={this.close}>\n            Cancel\n          </Button>\n          <Button\n            positive\n            icon='plus'\n            labelPosition='right'\n            content=\"Create\"\n            disabled={isThingMacDisabled || isConnectionNameDisabled || !isEnabled}\n            onClick={this.createDeviceConnection}\n          />\n        </Modal.Actions>\n\n      </Modal>\n    );\n  }\n\n}\n\nexport default DeviceModalCreate;\n","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Button,\n  Modal,\n  Form,\n  Dropdown,\n  Checkbox,\n} from 'semantic-ui-react';\n\nclass DeviceModalEdit extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalEditDevice: false,\n      isEnabled: true,\n      deviceTypes: [],\n      apps: [],\n      config: {},\n      selectedDeviceType: [],\n      selectedApp: [],\n      oldConnections: [],\n      isConnectionNameDisabled: false,\n      handleSendToApp: undefined,\n    };\n  };\n\n  getConfigById = async id => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json())\n      .then( config => {\n        config.content = JSON.parse(config.content);\n        let selectedApp = config.content.app;\n        let selectedDeviceType = config.content.device_type;\n        let handleSendToApp = config.content.sendToApp;\n        this.setState({ selectedApp, selectedDeviceType, config, handleSendToApp });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getThings = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json() )\n      .then( oldThings => {\n        const currentThing = oldThings.filter( item => {\n          return item.id === this.props.connection.mainflux_id;\n        });\n        this.setState({currentThing: currentThing[0]});\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n    .then( res =>  res.json() )\n    .then( oldConnections => {\n      const connections = oldConnections.filter( item => {\n        item.content = JSON.parse(item.content);\n        return item.content.type === 'app';\n      });\n      const apps = connections.map( item => {\n        return { value: item.external_id, text: item.name.split(\".\")[0] }\n      })\n      this.setState({ apps, oldConnections });\n    })\n    .catch( err => console.log(err) );\n  };\n\n  getDeviceTypes = async () => {\n    fetch('http://134.209.240.215:8300/devices')\n      .then(res => res.json())\n      .then(types => {\n        const formattedTypes = types.map( (type, i) => {\n          return { text: type, value: type}\n        });\n        this.setState({ deviceTypes: formattedTypes });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getChannel = async appMac => {\n    const { oldConnections } = this.state;\n    let app = oldConnections.filter( item => {\n      return item.external_id === appMac;\n    });\n    let arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include'\n    })\n    .then( res => res.json())\n    .then( oldChannels => {\n      return oldChannels;\n    })\n    .catch( err => console.log(err));\n\n    var channel = arr.filter( item => {\n      return item.name === app[0].name;\n    });\n    return channel[0];\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if(nextProps.connection !== this.props.connection){\n      this.getConfigById(nextProps.connection.external_id);\n      this.getThings().then( () => {\n        this.forceUpdate();\n      });\n    };\n    this.getConnections();\n  };\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps === this.props || nextState !== this.state;\n  };\n\n  componentDidMount() {\n    this.getDeviceTypes();\n    this.getConnections();\n  };\n\n  close = () => {\n    this.setState({ showModalEditDevice: false });\n    this.props.callbackFromParent(this.state.showModalEditDevice);\n  };\n\n  editDevice = async () => {\n    const { config, oldConnections, handleSendToApp } = this.state;\n    const { name, cycle, device_type, app, sendToApp, mac } = this.state.config.content;\n    let obj = {};\n\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/${config.mainflux_id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include'\n    })\n      .then( response => response.json())\n      .then( async thing => {\n        await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/edit/${config.mainflux_id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n          body: JSON.stringify({ name, metadata: thing.metadata }),\n        });\n      });\n\n    if(handleSendToApp) {\n      let channel = await this.getChannel(app);\n      obj = {\n        type: \"device\",\n        id: config.mainflux_id,\n        mac,\n        channel: channel.id,\n        sendToApp: handleSendToApp,\n        name,\n        cycle,\n        device_type,\n        app,\n      };\n    } else {\n      obj = {\n        type: \"device\",\n        id: config.mainflux_id,\n        mac,\n        channel: process.env.REACT_APP_CHANNEL_ID,\n        sendToApp: handleSendToApp,\n        name,\n        device_type,\n        cycle,\n      };\n    };\n\n    // -- Update Device\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${config.mainflux_id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({ obj })\n    });\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/channels/${config.mainflux_id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({ obj })\n    });\n\n    // -- IF DEVICE CONNECTED TO APP BUT IT SHOULD BE DISCONNECTED -- //\n    if( sendToApp === true && handleSendToApp === false ) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`,{\n        mode: 'cors',\n        credentials : 'include',\n      })\n        .then( response => response.json())\n        .then( response => {\n          response.content = JSON.parse(response.content);\n          const { content } = response;\n\n          content.devices = content.devices.filter( item => {\n            return item.device_id !== config.mainflux_id;\n          });\n\n          fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            credentials : 'include',\n            body: JSON.stringify({ response }),\n          });\n        });\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${process.env.REACT_APP_CHANNEL_ID}/things/${config.mainflux_id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          mode: 'cors',\n          credentials : 'include',\n        });\n      this.close();\n      return;\n    }\n    // -- IF DEVICE DOESN'T CONNECTED TO APP BUT IT SHOULD BE CONNECTED -- //\n    else if( sendToApp === false && handleSendToApp === true ) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials : 'include',\n      })\n        .then( response => response.json())\n        .then( response => {\n          response.content = JSON.parse(response.content);\n          let { content } = response;\n          content.devices.push({\n            device_name: `zsse/${obj.name}`,\n            device_id: config.mainflux_id,\n            device_key: config.mainflux_key,\n            device_type: obj.device_type\n          })\n          fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            credentials : 'include',\n            body: JSON.stringify({ response })\n          });\n        });\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${process.env.REACT_APP_CHANNEL_ID}/things/${config.mainflux_id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          mode: 'cors',\n          credentials : 'include',\n        });\n      await this.getConnections();\n    };\n\n    if(sendToApp) {\n      // -- Get current Device config\n      const currentDevice = oldConnections.filter( item => {\n        return item.mainflux_id === config.mainflux_id;\n      });\n\n      if( currentDevice[0].content.app !== obj.app) {\n        await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${currentDevice[0].content.app}`, {\n          mode: 'cors',\n          credentials : 'include',\n        })\n          .then( response => response.json())\n          .then( response => {\n            response.content = JSON.parse(response.content);\n            const { content } = response;\n            content.devices = content.devices.filter( item => {\n              return item.device_id !== currentDevice[0].mainflux_id;\n            });\n\n            fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              mode: 'cors',\n              credentials : 'include',\n              body: JSON.stringify({ response })\n            });\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${process.env.REACT_APP_CHANNEL_ID}/things/${config.mainflux_id}`, {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                mode: 'cors',\n                credentials : 'include',\n              });\n          });\n      }\n\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials : 'include',\n      })\n        .then( response => response.json())\n        .then( response => {\n          response.content = JSON.parse(response.content);\n          const { content } = response;\n          const editThing = content.devices.filter( item => {\n            return item.device_id === config.mainflux_id;\n          });\n          if( editThing.length === 0 ) {\n            content.devices.push({\n              device_name: name,\n              device_id: config.mainflux_id,\n              device_key: config.mainflux_key,\n              device_type,\n            })\n          } else {\n            const editThingIndex = content.devices.indexOf(editThing[0]);\n            content.devices[editThingIndex] = {\n              device_name: name,\n              device_id: config.mainflux_id,\n              device_key: config.mainflux_key,\n              device_type,\n            };\n          }\n\n          fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            credentials : 'include',\n            body: JSON.stringify({ response })\n          });\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${process.env.REACT_APP_CHANNEL_ID}/things/${config.mainflux_id}`, {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              mode: 'cors',\n              credentials : 'include',\n            });\n        });\n    };\n\n    this.close();\n  };\n\n  handleChangeConnectionName = e => {\n    const currentValue = e.target.value;\n    let arr = this.state.oldConnections.filter( item => {\n      return item.name === `zsse/${currentValue}`;\n    });\n    if(arr.length !== 0) {\n      this.setState({ isConnectionNameDisabled: true });\n    } else {\n      this.setState( prevState => ({\n        config: {\n          ...prevState.config,\n          content: {\n            ...prevState.config.content,\n            name: currentValue,\n          },\n        },\n        isConnectionNameDisabled: false,\n      }));\n    };\n  };\n\n  handleChangeCycle = e => {\n    const currentValue = e.target.value;\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        content: {\n          ...prevState.config.content,\n          cycle: currentValue,\n        }\n      },\n      isEnabled: prevState.config.content.cycle.length <= 4 && /^\\d+$/.test(prevState.config.content.cycle)\n    }));\n  };\n\n  handleChangeDeviceType = (e, { value }) => {\n    const currentValue = value;\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        content: {\n          ...prevState.config.content,\n          device_type: currentValue,\n        },\n      },\n      selectedDeviceType: value,\n    }));\n  };\n\n  handleChangeSendToApp = (e, { checked }) => {\n    this.setState({ handleSendToApp : checked });\n    this.getConnections();\n  };\n\n  handleChangeApp = (e, { value }) => {\n    const currentValue = value;\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        content: {\n          ...prevState.config.content,\n          app: currentValue,\n        },\n      },\n      selectedApp: value,\n    }));\n  };\n\n  render() {\n    const { showModalEditDevice } = this.props;\n    const {\n      config,\n      isEnabled,\n      deviceTypes,\n      apps,\n      selectedDeviceType,\n      selectedApp,\n      isConnectionNameDisabled,\n      handleSendToApp,\n    } = this.state;\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalEditDevice}\n        onClose={this.close}\n      >\n        <Modal.Header>EDIT DEVICE</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label> Name </label>\n              <input\n                placeholder='name'\n                onChange={e => this.handleChangeConnectionName(e)}\n                value={config.content !== undefined ? config.content.name : ''}\n                className={isConnectionNameDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Cycle </label>\n              <input\n                placeholder='cycle'\n                value={config.content !== undefined ? config.content.cycle : ''}\n                className={\n                  !isEnabled ? 'showError' : 'showSuccess'\n                  }\n                onChange={e => this.handleChangeCycle(e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Device Type </label>\n              <Dropdown\n                placeholder='device type'\n                fluid\n                selection\n                options={deviceTypes}\n                value={selectedDeviceType}\n                onChange={this.handleChangeDeviceType}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Checkbox\n                label={handleSendToApp ? \"This device's config sent to App\" : \"Click checkbox for send this device's config to App\"}\n                onChange={this.handleChangeSendToApp}\n                checked={handleSendToApp}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToApp ? '' : 'hide'}>\n              <label>Apps</label>\n              <Dropdown\n                placeholder='apps'\n                fluid\n                selection\n                options={apps}\n                onChange={this.handleChangeApp}\n                value={selectedApp}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color='black' onClick={this.close}>\n            No\n          </Button>\n          <Button\n            positive\n            icon='edit outline'\n            labelPosition='right'\n            content=\"Yes\"\n            onClick={this.editDevice}\n            disabled={isConnectionNameDisabled || !isEnabled}\n          />\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n};\n\nexport default DeviceModalEdit;","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Button,\n  Header,\n  Modal,\n  Icon\n} from 'semantic-ui-react';\n\nclass ConnectionModalRemove extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalRemove: false,\n      isRemoveable: true,\n    }\n  }\n\n  getChannel = async app => {\n    let arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include'\n    })\n    .then( res => res.json())\n    .then( oldChannels => {\n      return oldChannels;\n    })\n    .catch( err => console.log(err));\n\n    var channel = arr.filter( item => {\n      return item.name === app;\n    });\n    return channel[0];\n  }\n\n  removeConnection = async connection => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/remove/${connection.mainflux_id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    });\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/remove/${connection.mainflux_id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    });\n    const { sendToApp, app } = connection.content;\n    if(sendToApp) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`,{\n        mode: 'cors',\n        credentials : 'include',\n      })\n        .then( response => response.json())\n        .then( response => {\n          response.content = JSON.parse(response.content);\n          const { content } = response;\n\n          content.devices = content.devices.filter( item => {\n            return item.device_id !== connection.mainflux_id;\n          });\n\n          fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            credentials : 'include',\n            body: JSON.stringify({ response })\n          });\n        });\n    }\n\n    let arr = await this.getChannel(connection.name);\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/remove/${arr.id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    });\n\n    this.setState({ showModalRemove: false });\n    this.props.callbackFromParent(this.state.showModalRemove, connection.mainflux_id);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { content } = nextProps.connection;\n    if( content !== undefined && content.type === 'app' && content.devices.length !== 0) {\n      this.setState({ isRemoveable: false });\n    } else {\n      this.setState({ isRemoveable: true });\n    };\n  };\n\n\n  close = () => {\n    this.setState({ showModalRemove: false, isRemoveable: true }, () => {\n      this.props.callbackFromParent(this.state.showModalRemove);\n    });\n  }\n\n  render() {\n    const { showModalRemove, connection } = this.props;\n    const { isRemoveable } = this.state;\n    return (\n      <Modal basic size='small' open={showModalRemove}>\n        <Header icon='archive' content={isRemoveable ? 'REMOVE CONNECTION?': 'CAN NOT REMOVE CONNECTION'} />\n        <Modal.Content>\n          <p>\n            {\n              isRemoveable\n              ? `Do you want to remove connection: ${connection.name}`\n              : `CONNECTION '${connection.name}' HAVE CONNECTED DEVICES. FIRST REMOVE CONNECTED DEVICES.`\n            }\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color='green' inverted onClick={this.close}>\n            <Icon name='remove' /> No\n          </Button>\n          <Button color='red' inverted onClick={() => {isRemoveable ? this.removeConnection(connection) : this.close()} }>\n            <Icon name='checkmark' /> Yes\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default ConnectionModalRemove;","import React, { Component } from 'react';\nimport {\n  Button,\n  Header,\n  Modal,\n  Icon\n} from 'semantic-ui-react';\n\nclass ErrorModal extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalError: false,\n    }\n  }\n\n  close = () => {\n    this.setState({ showModalRemove: false });\n    this.props.callbackFromParent(this.state.showModalError);\n  }\n\n  render() {\n\n    const { showModalError, errorText } = this.props\n\n    return (\n      <Modal basic size='small' open={showModalError}>\n        <Header icon='archive' content='ERROR' />\n        <Modal.Content>\n          <p>\n            {errorText}\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button\n            basic\n            color='green'\n            inverted\n            onClick={this.close}>\n            <Icon name='remove' /> Close\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default ErrorModal;","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Item,\n  Button,\n  Icon,\n  Popup,\n} from 'semantic-ui-react';\nimport AppModalCreate from './AppModalCreate';\nimport AppModalEdit from './AppModalEdit';\nimport DeviceModalCreate from './DeviceModalCreate';\nimport DeviceModalEdit from './DeviceModalEdit';\nimport ConnectionModalRemove from './ConnectionModalRemove';\nimport ErrorModal from '../errorModal';\n\nclass Connections extends Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      connections: [],\n      showModalCreateApp: false,\n      showModalEditApp: false,\n      showModalCreateDevice: false,\n      showModalEditDevice: false,\n      showModalError: false,\n      edittingApp: {},\n      edittingDevice: {},\n      removingConnection: {},\n      errorText: '',\n    };\n  }\n\n  getToken = async () => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/users/login`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({email: `${process.env.REACT_APP_MAINFLUX_USER}`})\n    });\n  };\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json())\n      .then( connections => {\n        const parsedConnections = connections.map( item => {\n          item.content = JSON.parse(item.content);\n          return item;\n        });\n        this.setState({connections: parsedConnections})\n      })\n      .catch( err => console.log(err) );\n  };\n\n  componentDidMount() {\n    this.getToken();\n    this.getConnections();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if( nextProps !== this.props ) {\n      this.getConnections();\n    };\n  };\n\n  createAppModalCallback = (\n    showModalCreateApp,\n    oldConnections,\n  ) => {\n    this.setState({ showModalCreateApp, connections: oldConnections})\n    this.getConnections();\n  };\n\n  createDeviceModalCallback = (\n    showModalCreateDevice,\n    oldConnections,\n  ) => {\n    this.setState({ showModalCreateDevice, connections: oldConnections})\n    this.getConnections();\n  };\n\n  removeModalCallback = (showModalRemove, id) => {\n    this.setState({ showModalRemove });\n    if(id) {\n      // FIXME:\n      const connections = this.state.connections\n      let connection = connections.filter( i => i.mainflux_id === id );\n      const { type, app } = connection[0].content;\n      if( type === 'device' && app !== undefined ) {\n        let connectedApp = connections.filter( i => i.external_id === app );\n        const edittedApp = connectedApp[0].content.devices.filter(i => i.device_id !== id );\n        connections[connections.indexOf(connectedApp[0])].content.devices = edittedApp;\n        this.setState({ connections });\n      };\n      this.setState({\n        connections: this.state.connections.filter( i => i.mainflux_id !== id )\n      });\n    };\n  };\n\n  editAppModalCallback = showModalEditApp => {\n    this.setState({ showModalEditApp });\n    this.getConnections();\n  };\n\n  editDeviceModalCallback = showModalEditDevice => {\n    this.setState({ showModalEditDevice });\n    this.getConnections();\n  };\n\n  errorModalCallback = showModalError => {\n    this.setState({ showModalError });\n  };\n\n  render() {\n    const {\n      connections,\n      showModalCreateApp,\n      showModalCreateDevice,\n      showModalRemove,\n      showModalEditApp,\n      showModalEditDevice,\n      showModalError,\n      edittingApp,\n      edittingDevice,\n      removingConnection,\n      errorText,\n    } = this.state;\n\n    return (\n      <div id='connections' className=\"main_wrapper\">\n        <div className=\"connection_top\">\n          <h1> Connections </h1>\n          <div className=\"connection_btn__wrapper\">\n            <Button\n              icon\n              labelPosition='left'\n              onClick={() => this.setState({ showModalCreateApp: true })}\n            >\n              <Icon name='chain' />\n              Create App\n            </Button>\n            <Button\n              icon\n              labelPosition='left'\n              onClick={() => this.setState({ showModalCreateDevice: true })}\n            >\n              <Icon name='chain' />\n              Create Device\n            </Button>\n          </div>\n        </div>\n        <hr />\n        <Item.Group relaxed>\n          {\n            connections.length === 0\n            ? <p>\n                Unfortunately we did not find your connections.\n                <span role=\"img\" aria-label=\"Sad\"></span>\n              </p>\n            : connections.map( item =>\n              <Item key={item.mainflux_id}>\n\n                <Item.Content verticalAlign='middle'>\n                  <Popup\n                    content={\n                      <div>\n                        <p>id: {item.mainflux_id}</p>\n                        <p>key: {item.mainflux_key}</p>\n                      </div>\n                    }\n                    trigger={\n                      <Item.Header>{item.name}</Item.Header>\n                    }\n                  />\n                  <Item.Description>{item.content.type}</Item.Description>\n                  <Item.Description>{item.external_id}</Item.Description>\n                  <Item.Extra>\n                    <Button\n                      color=\"red\"\n                      floated='right'\n                      icon='trash alternate outline'\n                      labelPosition='right'\n                      content=\"Remove\"\n                      onClick={() => this.setState({ showModalRemove: true, removingConnection: item })}\n                    />\n                    <Button\n                      color=\"yellow\"\n                      floated='right'\n                      icon='edit outline'\n                      labelPosition='right'\n                      content=\"Edit\"\n                      onClick={() => item.content.type === 'app'\n                        ? this.setState({ showModalEditApp: true, edittingApp: item })\n                        : this.setState({ showModalEditDevice: true, edittingDevice: item })}\n                    />\n                  </Item.Extra>\n                </Item.Content>\n\n              </Item>\n            )\n          }\n        </Item.Group>\n\n        <AppModalCreate\n          showModalCreateApp={showModalCreateApp}\n          callbackFromParent={this.createAppModalCallback}\n        />\n\n        <DeviceModalCreate\n          showModalCreateDevice={showModalCreateDevice}\n          callbackFromParent={this.createDeviceModalCallback}\n        />\n\n        <ConnectionModalRemove\n          showModalRemove={showModalRemove}\n          connection={removingConnection}\n          callbackFromParent={this.removeModalCallback}\n        />\n\n        <ErrorModal\n          showModalError={showModalError}\n          errorText={errorText}\n          callbackFromParent={this.errorModalCallback}\n        />\n\n        <AppModalEdit\n          showModalEditApp={showModalEditApp}\n          connection={edittingApp}\n          callbackFromParent={this.editAppModalCallback}\n        />\n\n        <DeviceModalEdit\n          showModalEditDevice={showModalEditDevice}\n          connection={edittingDevice}\n          callbackFromParent={this.editDeviceModalCallback}\n        />\n\n      </div>\n    );\n  }\n}\n\nexport default Connections;","import React, { Component } from 'react';\nimport './Channels.scss';\nimport {\n  Button,\n  Form,\n  Modal\n} from 'semantic-ui-react';\n\nclass ChannelModalCreate extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalCreate: false,\n      channel: {\n        name: '',\n        metadata: {},\n      },\n    }\n  }\n\n  createChannel = async name => {\n    const { channel } = this.state;\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({channel})\n    });\n    this.close();\n  };\n\n  close = () => {\n    this.setState({ showModalCreate: false });\n    this.props.callbackFromParent(this.state.showModalCreate);\n  };\n\n  handleChangeName = e => {\n    let str = e.target.value;\n    this.setState( prevState => ({\n      channel: {\n        ...prevState.channel,\n        name: str,\n      },\n    }));\n  };\n\n  render() {\n    const { showModalCreate } = this.props;\n    const { name } = this.state;\n\n    return (\n      <Modal closeIcon dimmer=\"blurring\" open={showModalCreate} onClose={this.close}>\n        <Modal.Header>CREATE THING</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label>Name</label>\n              <input placeholder='name' value={name} onChange={e => this.handleChangeName(e)} />\n            </Form.Field>\n          </Form>\n          </Modal.Content>\n          <Modal.Actions>\n            <Button color='black' onClick={this.close}>\n              No\n            </Button>\n            <Button\n              positive\n              icon='edit outline'\n              labelPosition='right'\n              content=\"Yes\"\n              onClick={() => this.createChannel(name)}\n            />\n          </Modal.Actions>\n        </Modal>\n    );\n  }\n}\n\nexport default ChannelModalCreate;","import React, { Component } from 'react';\nimport './Channels.scss';\nimport {\n  Button,\n  Header,\n  Modal,\n  Icon\n} from 'semantic-ui-react';\n\nclass ChannelModalRemove extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalRemove: false,\n    }\n  }\n\n  removeChannel = async (id, event) => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/remove/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    });\n    this.setState({ showModalRemove: false });\n    this.props.callbackFromParent(this.state.showModalRemove, id);\n  }\n\n  close = () => {\n    this.setState({ showModalRemove: false });\n    this.props.callbackFromParent(this.state.showModalRemove);\n  }\n\n  render() {\n\n    const { showModalRemove, channel } = this.props;\n\n    return (\n      <Modal basic size='small' open={showModalRemove}>\n        <Header icon='archive' content='REMOVE CHANNEL?' />\n        <Modal.Content>\n          <p>\n            Do you want to remove channel: {channel.name}\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color='green' inverted onClick={this.close}>\n            <Icon name='remove' /> No\n          </Button>\n          <Button color='red' inverted onClick={(event) => {this.removeChannel(channel.id, event)} }>\n            <Icon name='checkmark' /> Yes\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default ChannelModalRemove;","import React, { Component } from 'react';\nimport './Channels.scss';\nimport {\n  Button,\n  Form,\n  Modal\n} from 'semantic-ui-react';\n\nclass ChannelModalEdit extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalEdit: false,\n      name: props.channel.name\n    }\n  }\n\n  editChannel = async (channel, event) => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/edit/${channel.id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({name: channel.name, metadata: channel.metadata})\n    });\n    this.close();\n  };\n\n  show = () => this.setState({ showModalEdit: true });\n  close = () => {\n    this.setState({ showModalEdit: false });\n    this.props.callbackFromParent(this.state.showModalEdit);\n  };\n\n  handleChangeName = (e) => {\n    let obj = this.props.channel;\n    obj.name = e.target.value;\n    this.props.callbackFromParent(true, obj);\n  };\n\n  render() {\n    const { showModalEdit, channel } = this.props;\n\n    return (\n      <Modal closeIcon dimmer=\"blurring\" open={showModalEdit} onClose={this.close}>\n          <Modal.Header>EDIT CHANNEL</Modal.Header>\n          <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label>Name</label>\n              <input placeholder='name' value={channel.name} onChange={e => this.handleChangeName(e)} />\n            </Form.Field>\n          </Form>\n          </Modal.Content>\n          <Modal.Actions>\n            <Button color='black' onClick={this.close}>\n              No\n            </Button>\n            <Button\n              positive\n              icon='edit outline'\n              labelPosition='right'\n              content=\"Yes\"\n              onClick={() => this.editChannel(channel)}\n            />\n          </Modal.Actions>\n        </Modal>\n    );\n  }\n}\n\nexport default ChannelModalEdit;","import React, { Component } from 'react';\nimport './Channels.scss';\nimport {\n  Item,\n  Button,\n  Icon,\n} from 'semantic-ui-react';\nimport ChannelModalCreate from './ChannelModalCreate';\nimport ChannelModalRemove from './ChannelModalRemove';\nimport ChannelModalEdit from './ChannelModalEdit';\n\nclass Channels extends Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      channels: [],\n      edittingChannel: {},\n      removingChannel: {},\n      showModalRemove: false,\n      showModalEdit: false,\n      showModalCreate: false,\n    };\n  }\n\n  getToken = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/users/login`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({email: `${process.env.REACT_APP_MAINFLUX_USER}`})\n    });\n  };\n\n  getChannels = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json())\n      .then( channels => this.setState({channels}) )\n      .catch( err => console.log(err) );\n  };\n\n  removeModalCallback = (showModalRemove, id) => {\n    this.setState({ showModalRemove });\n    if(id) {\n      this.setState({ channels: this.state.channels.filter( i => i.id !== id )\n      });\n    };\n  };\n\n  editModalCallback = showModalEdit => {\n    this.setState({ showModalEdit });\n  };\n\n  createChannelModalCallback = async showModalCreate => {\n    this.setState({ showModalCreate });\n    await this.getChannels();\n  };\n\n  async componentDidMount() {\n    await this.getToken();\n    this.getChannels();\n  }\n\n  render() {\n\n    const {\n      channels,\n      showModalEdit,\n      showModalCreate,\n      showModalRemove,\n      removingChannel,\n      edittingChannel,\n    } = this.state;\n\n    return (\n      <div id=\"channels\" className=\"main_wrapper\">\n        <div className=\"channel_top\">\n          <h1>Channels</h1>\n          <Button\n            icon\n            labelPosition='left'\n            onClick={() => this.setState({ showModalCreate: true })}\n          >\n            <Icon name='podcast' />\n            Create Channel\n          </Button>\n        </div>\n        <hr />\n        <Item.Group relaxed>\n          {\n            channels.length === 0\n            ? <p>\n                Unfortunately we did not find your channels.\n                <span role=\"img\" aria-label=\"Sad\"></span>\n              </p>\n            : channels.map( item =>\n              <Item key={item.id}>\n\n                <Item.Content verticalAlign='middle'>\n                  <Item.Header>{item.name}</Item.Header>\n                  <Item.Description>{item.id}</Item.Description>\n                  <Item.Extra>\n                    <Button\n                      color=\"red\"\n                      floated='right'\n                      icon='trash alternate outline'\n                      labelPosition='right'\n                      content=\"Remove\"\n                      onClick={() => this.setState({ showModalRemove: true, removingChannel: item })}\n                    />\n                    <Button\n                      color=\"yellow\"\n                      floated='right'\n                      icon='edit outline'\n                      labelPosition='right'\n                      content=\"Edit\"\n                      onClick={() => this.setState({ showModalEdit: true, edittingChannel: item })}\n                    />\n                  </Item.Extra>\n                </Item.Content>\n\n              </Item>\n            )\n          }\n        </Item.Group>\n        <ChannelModalRemove\n          showModalRemove={showModalRemove}\n          channel={removingChannel}\n          callbackFromParent={this.removeModalCallback}\n        />\n        <ChannelModalEdit\n          showModalEdit={showModalEdit}\n          channel={edittingChannel}\n          callbackFromParent={this.editModalCallback}\n        />\n        <ChannelModalCreate\n          showModalCreate={showModalCreate}\n          callbackFromParent={this.createChannelModalCallback}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Channels;","import React from 'react'\n\nconst Notfound = () => {\n  return (\n  <div className=\"main_wrapper\">\n    <h1>Nothing was found</h1>\n    <p>\n      Unfortunately we did not find anything for your request.\n      <span role=\"img\" aria-label=\"Sad\"></span>\n    </p>\n  </div>\n  );\n}\n\nexport default Notfound","import React, { Component } from 'react';\nimport { Route, Link, BrowserRouter as Router, Switch } from 'react-router-dom'\nimport { Menu } from 'semantic-ui-react'\nimport './App.scss';\nimport 'semantic-ui-css/semantic.min.css';\nimport Main from './components/Main';\nimport TopBar from './components/TopBar';\nimport Connections from './components/connections/Connections'\nimport Channels from './components/channels/Channels'\nimport Notfound from './components/NotFound'\n\nclass App extends Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      home: true,\n      channels: false,\n      connections: false,\n    };\n  }\n\n  handleHome = () => {\n    this.setState({\n      home: true,\n      channels: false,\n      connections: false,\n    });\n  };\n\n  handleChannels = () => {\n    this.setState({\n      home: false,\n      channels: true,\n      connections: false,\n    });\n  };\n\n  handleConnections = () => {\n    this.setState({\n      home: false,\n      channels: false,\n      connections: true,\n    });\n  };\n\n  render() {\n    const { home, channels, connections } = this.state;\n\n    return (\n      <div className=\"App\">\n        <TopBar />\n        <Router>\n          <div id=\"sidebar_wrapper\">\n            <Menu id=\"sidebar_menu\" secondary vertical>\n              <ul>\n                <li className={home ? \"active_item\" : \"\"}>\n                  <Link onClick={this.handleHome} to=\"/\">Home</Link>\n                </li>\n                <li className={channels ? \"active_item\" : \"\"}>\n                  <Link onClick={this.handleChannels} to=\"/channels\">Channels</Link>\n                </li>\n                <li className={connections ? \"active_item\" : \"\"}>\n                  <Link onClick={this.handleConnections} to=\"/connections\">Connections</Link>\n                </li>\n              </ul>\n            </Menu>\n            <Switch>\n              <Route exact path=\"/\" component={Main} />\n              <Route path=\"/channels\" component={Channels} />\n              <Route path=\"/connections\" component={Connections} />\n              <Route component={Notfound} />\n            </Switch>\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}