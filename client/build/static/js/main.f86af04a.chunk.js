(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,n){},229:function(e,t,n){e.exports=n.p+"static/media/turbine.06474a16.svg"},230:function(e,t,n){e.exports=n.p+"static/media/pump.1df4e95b.svg"},231:function(e,t,n){e.exports=n.p+"static/media/generator.7a7e96ae.svg"},267:function(e,t,n){e.exports=n(435)},272:function(e,t,n){},273:function(e,t,n){},435:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(63),i=n.n(o),r=(n(272),n(18)),l=n(19),s=n(21),u=n(20),d=n(22),h=n(90),p=n(57),m=n(450),f=(n(273),n(167),n(7)),v=n.n(f),g=n(15),b=n(449),E=n(229),C=n.n(E),y=n(230),x=n.n(y),w=n(231),T=n.n(w),_=["connected","not connected"],O=[],M=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,n.getToken=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/users/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({email:"".concat("zeinetsse@email.com")})});case 2:case"end":return e.stop()}},e)})),n.getDevicesFromMainflux=function(){fetch("".concat("http://localhost:5000","/api/bootstrap"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){n.parseDataFromBootstrap(e)}).catch(function(e){return e})},n.parseDataFromBootstrap=function(e){var t=e.filter(function(e){return e.content=JSON.parse(e.content),"device"===e.content.type}).map(function(e){return{id:e.mainflux_id,icon:e.content.device_type,name:e.name,status:_[Math.floor(Math.random()*_.length)],ram:Math.floor(100*Math.random())+1,memory:"7976/".concat(Math.floor(7976*Math.random())+1)}});n.customizeDataForRender(t)},n.customizeDataForRender=function(e){e.forEach(function(e){switch(e.icon){case"turbine":e.icon=C.a;break;case"e-meter_v2":e.icon=x.a;break;case"e-meter_v1":e.icon=T.a}}),e.forEach(function(e){switch(e.status){case"connected":O.push("green");break;case"not connected":O.push("yellow")}}),n._isMounted&&n.setState({devices:e})},n.state={devices:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,e.next=3,this.getToken();case 3:this.getDevicesFromMainflux();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state.devices;return c.a.createElement("div",{className:"main_wrapper"},c.a.createElement("h1",null,"Home"),c.a.createElement("hr",null),0!==e.length?c.a.createElement(b.a.Group,null,e.map(function(e,t){return c.a.createElement(b.a,{fluid:!0,color:O[t],key:e.id,className:"home_card"},c.a.createElement("img",{src:e.icon,alt:"".concat(e.name),className:"home_card__item"}),c.a.createElement("p",{className:"home_card__item"},c.a.createElement("label",{className:"home_card__label",htmlFor:"name"},"name:"),e.name.toUpperCase()),c.a.createElement("p",{className:"home_card__item"},c.a.createElement("label",{className:"home_card__label",htmlFor:"status"},"status:"),e.status.toUpperCase()),c.a.createElement("p",{className:"home_card__item"},c.a.createElement("label",{className:"home_card__label",htmlFor:"cpu"},"CPU:"),e.ram,"%"),c.a.createElement("p",{className:"home_card__item"},c.a.createElement("label",{className:"home_card__label",htmlFor:"memory"},"memory:"),e.memory,"kB"))})):c.a.createElement("p",null,"Here you can put everything your heart desires.",c.a.createElement("span",{role:"img","aria-label":"Hooray"},"\ud83d\ude42")))}}]),t}(a.Component),j=n(257),k=n(452),D=n(453),S=n(448),N=c.a.createElement("span",null,c.a.createElement(j.a,{avatar:!0,src:"http://zsse.zeinetsse.com/favicon.ico"})," ","User Admin"),A=[{key:"user",text:"Account",icon:"user"},{key:"settings",text:"Settings",icon:"settings"},{key:"sign-out",text:"Sign Out",icon:"sign out"}];function P(){return c.a.createElement("div",{id:"TopBar"},c.a.createElement(k.a,{clearing:!0,id:"top_menu"},c.a.createElement(D.a,{className:"topbar_left",floated:"left"},c.a.createElement("img",{className:"top_logo",alt:"Tellee_logo",src:"/Tellee_logo.svg"})),c.a.createElement(D.a,{className:"topbar_right",floated:"right"},c.a.createElement(S.a,{className:"top_dropdown",trigger:N,options:A,pointing:"top left",icon:null}))))}n(71);var F=n(451),R=n(78),U=n(447),B=n(443),J=n(446),I=n(53),z=n(445),L=n(444);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach(function(t){Object(I.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var W=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,n.getThings=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/things"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){n._isMounted&&n.setState({oldThings:e})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.getConnections=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/bootstrap"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){n._isMounted&&n.setState({oldConnections:e})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.createThing=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/things/create"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(n.state.newThing)});case 2:case"end":return e.stop()}},e)})),n.createChannel=Object(g.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.channel,e.next=3,fetch("".concat("http://localhost:5000","/api/channels/create"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({channel:t})});case 3:case"end":return e.stop()}},e)})),n.createAppConnection=Object(g.a)(v.a.mark(function e(){var t,a,c,o,i,r,l,s,u,d;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.newThing,c=t.connectionName,e.prev=1,o=[],e.next=5,n.createChannel();case 5:return e.next=7,fetch("".concat("http://localhost:5000","/api/channels"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 7:return o=e.sent,i=o.filter(function(e){return e.name==="zsse/".concat(a.name)}),e.next=11,n.createThing();case 11:return e.next=13,fetch("".concat("http://localhost:5000","/api/things"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 13:o=e.sent,r=o.filter(function(e){return e.name==="zsse/".concat(a.name)}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:return l={mac:a.metadata.mac,id:r[0].id,channels:"".concat(i[0].id),name:c},e.prev=21,e.next=24,fetch("".concat("http://localhost:5000","/api/bootstrap/create/app"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(l)});case 24:return e.next=26,fetch("".concat("http://localhost:5000","/api/connection/create/channels/").concat(i[0].id,"/things/").concat(r[0].id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"});case 26:return e.next=28,n.getConnections();case 28:s=n.state,u=s.showModalCreateApp,d=s.oldConnections,n._isMounted&&n.setState({showModalCreateApp:!1}),n.props.callbackFromParent(u,d),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(21),console.log(e.t1);case 36:case"end":return e.stop()}},e,null,[[1,17],[21,33]])})),n.close=Object(g.a)(v.a.mark(function e(){var t,a,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state,a=t.showModalCreateApp,c=t.oldConnections,n._isMounted&&n.setState({showModalCreateApp:!1}),n.props.callbackFromParent(a,c);case 3:case"end":return e.stop()}},e)})),n.handleChangeConnectionName=function(e){var t=e.target.value;0===n.state.oldConnections.filter(function(e){return e.name===t}).length&&n.regexpName.test(t)?n._isMounted&&n.setState(function(e){return{newThing:H({},e.newThing,{name:t}),channel:H({},e.channel,{name:t}),connectionName:t,isConnectionNameEnabled:!1}}):n._isMounted&&n.setState({isConnectionNameEnabled:!0})},n.handleChangeThingMac=function(e){var t=e.target.value;0===n.state.oldThings.filter(function(e){return e.metadata.mac===t}).length&&n.regexpMac.test(t)?n._isMounted&&n.setState(function(e){return{newThing:H({},e.newThing,{metadata:H({},e.newThing.metadata,{mac:t})}),isThingMacEnabled:!1}}):n._isMounted&&n.setState({isThingMacEnabled:!0})},n.state={showModalCreateApp:!1,isThingMacEnabled:!1,isConnectionNameEnabled:!1,oldThings:[],oldConnections:[],newThing:{name:"",metadata:{type:"app",mac:""}},channel:{name:"",metadata:{}},connectionName:""},n.regexpName=/^\w+$/,n.regexpMac=/^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\1){4}[0-9a-z]{2}$/gim,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.getThings(),this.getConnections()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"shouldComponentUpdate",value:function(e,t){return!(this.props===e&&this.state===t)}},{key:"render",value:function(){var e=this,t=this.props.showModalCreateApp,n=this.state,a=n.isThingMacEnabled,o=n.isConnectionNameEnabled;return c.a.createElement(z.a,{closeIcon:!0,dimmer:"blurring",open:t,onClose:this.close},c.a.createElement(z.a.Header,null," CREATE APP "),c.a.createElement(z.a.Content,null,c.a.createElement(L.a,null,c.a.createElement(L.a.Field,null,c.a.createElement("label",null," Name "),c.a.createElement("input",{placeholder:"name",onChange:function(t){return e.handleChangeConnectionName(t)},className:o?"show_error":""})),c.a.createElement(L.a.Field,null,c.a.createElement("label",null," Mac "),c.a.createElement("input",{placeholder:"mac",onChange:function(t){return e.handleChangeThingMac(t)},className:a?"show_error":""})))),c.a.createElement(z.a.Actions,null,c.a.createElement(F.a,{color:"black",onClick:this.close},"Cancel"),c.a.createElement(F.a,{positive:!0,icon:"plus",labelPosition:"right",content:"Create",disabled:a||o,onClick:this.createAppConnection})))}}]),t}(a.Component),V=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,n.getConfigById=function(){var e=Object(g.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/bootstrap/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=[];e.content=JSON.parse(e.content);for(var a=0;a<e.mainflux_channels.length;a++)t.push(e.mainflux_channels[a].id);n._isMounted&&n.setState({selectedChannels:t,config:e})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.getChannels=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("http://localhost:5000","/api/channels"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=e.map(function(e,t){return{value:e.id,text:e.name}});n._isMounted&&n.setState({channels:t})}).catch(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e)})),n.editApp=Object(g.a)(v.a.mark(function e(){var t,a,c,o,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.config,a=n.state.config.content,c=a.mac,o=a.name,i={mac:c,id:t.mainflux_id,channels:t.mainflux_channels,name:o,type:"app",content:t.content},e.next=5,fetch("".concat("http://localhost:5000","/api/bootstrap/edit/info/").concat(t.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({obj:i})});case 5:return e.next=7,fetch("".concat("http://localhost:5000","/api/channels/edit/").concat(i.channels[0].id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({name:i.name,metadata:{}})});case 7:n.close();case 8:case"end":return e.stop()}},e)})),n.close=function(){n._isMounted&&n.setState({showModalEditApp:!1}),n.props.callbackFromParent(n.state.showModalEditApp)},n.handleChangeName=function(e){var t=n.state.config;t.content.name=e.target.value,n._isMounted&&n.setState({config:t})},n.handleChangeChannel=function(e,t){var a=t.value,c=n.state.config;c.mainflux_channels=a,n._isMounted&&n.setState({config:c})},n.state={config:{},channels:[],selectedChannels:[],showModalEditApp:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props&&t===this.state)}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.getConfigById(this.props.connection.external_id),this.getChannels()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.showModalEditApp,n=this.state,a=n.config,o=n.channels,i=n.selectedChannels;return c.a.createElement(z.a,{closeIcon:!0,dimmer:"blurring",open:t,onClose:this.close},c.a.createElement(z.a.Header,null,"EDIT APPLICATION"),c.a.createElement(z.a.Content,null,c.a.createElement(L.a,null,c.a.createElement(L.a.Field,null,c.a.createElement("label",null,"Thing ID"),c.a.createElement("input",{placeholder:"mainflux_id",value:void 0!==a.content?a.mainflux_id:"",readOnly:!0})),c.a.createElement(L.a.Field,null,c.a.createElement("label",null,"Thing Key"),c.a.createElement("input",{placeholder:"mainflux_key",value:void 0!==a.content?a.mainflux_key:"",readOnly:!0})),c.a.createElement(L.a.Field,null,c.a.createElement("label",null,"Name"),c.a.createElement("input",{placeholder:"name",value:void 0!==a.content?a.content.name:"",onChange:function(t){return e.handleChangeName(t)}})),c.a.createElement(L.a.Field,null,c.a.createElement("label",null,"Channels"),c.a.createElement(S.a,{placeholder:"channels",multiple:!0,fluid:!0,selection:!0,options:o,onChange:this.handleChangeChannel,value:i})))),c.a.createElement(z.a.Actions,null,c.a.createElement(F.a,{color:"black",onClick:this.close},"No"),c.a.createElement(F.a,{positive:!0,icon:"edit outline",labelPosition:"right",content:"Yes",onClick:this.editApp})))}}]),t}(a.Component),$=n(442);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach(function(t){Object(I.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q={title:"Turbine",subtitle:"LM2500",assettext:"MTU",assetvalue:"operation"},Q=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,n.getConnections=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/bootstrap"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){n.setState({oldConnections:e});var t=e.filter(function(e){return e.content=JSON.parse(e.content),"app"===e.content.type}).map(function(e){return{key:e.external_id,text:e.name,value:e.external_id}});n._isMounted&&n.setState({apps:t})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.getDeviceTypes=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://134.209.240.215:8300/devices").then(function(e){return e.json()}).then(function(e){var t=e.map(function(e,t){return{text:e,value:e}});n._isMounted&&n.setState({deviceTypes:t})}).catch(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e)})),n.getThings=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/things"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){n.oldThings=e,n._isMounted&&n.setState({oldThings:e})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.createThing=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/things/create"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(n.state.newThing)});case 2:case"end":return e.stop()}},e)})),n.getChannel=function(){var e=Object(g.a)(v.a.mark(function e(t){var a,c,o,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.oldConnections,c=a.filter(function(e){return e.external_id===t}),e.next=4,fetch("".concat("http://localhost:5000","/api/channels"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 4:return o=e.sent,i=o.filter(function(e){return e.name===c[0].name}),e.abrupt("return",i[0]);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.getGlobalChannel=function(){var e=Object(g.a)(v.a.mark(function e(t){var n,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/channels"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 2:return n=e.sent,a=n.filter(function(e){return e.name==="zsse/".concat(t)}),e.abrupt("return",a[0]);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.createDeviceConnection=Object(g.a)(v.a.mark(function e(){var t,a,c,o,i,r,l,s,u,d,h,p,m,f,g,b,E,C,y,x,w,T,_,O,M,j,k;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.newThing,c=t.connectionName,o=t.config,i=o.cycle,r=o.sendToApp,l=o.sendToDB,s=o.device_type,u=o.app,e.prev=2,e.next=5,n.createThing();case 5:return e.next=7,n.getThings();case 7:d=n.oldThings.filter(function(e){return e.name==="zsse/".concat(a.name)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:if(h={},p={},!r){e.next=21;break}return e.next=17,n.getChannel(u);case 17:p=e.sent,h={mac:a.metadata.mac,id:d[0].id,channel:p.id,name:c,cycle:i,sendToApp:r,sendToDB:l,device_type:s,app:u},e.next=25;break;case 21:return e.next=23,n.getGlobalChannel("global_channel");case 23:p=e.sent,h={mac:a.metadata.mac,id:d[0].id,channel:p.id,name:c,cycle:i,device_type:s,sendToApp:r,sendToDB:l};case 25:return e.prev=25,e.next=28,fetch("".concat("http://localhost:5000","/api/bootstrap/create/device"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(h)});case 28:if(!r){e.next=33;break}return e.next=31,fetch("".concat("http://localhost:5000","/api/bootstrap/").concat(u),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content),e.content.devices.push({device_name:"zsse/".concat(c),device_id:d[0].id,device_key:d[0].key,device_type:h.device_type}),fetch("".concat("http://localhost:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})}),fetch("".concat("http://localhost:5000","/api/connection/create/channels/").concat(e.mainflux_channels[0].id,"/things/").concat(d[0].id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"})});case 31:e.next=35;break;case 33:return e.next=35,fetch("".concat("http://localhost:5000","/api/connection/create/channels/").concat(p.id,"/things/").concat(d[0].id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"});case 35:if(!l){e.next=40;break}return m=n.state.newDevice,f=m.title,g=m.subtitle,b=m.severity,E=m.alerttext,C=m.alertvalue,y=m.assettext,x=m.assetvalue,w=m.messagetext,T=m.longitude,_=m.latitude,O={id:a.name,title:f,subtitle:g,severity:b,alerttext:E,alertvalue:C,assettext:y,assetvalue:x,messagetext:w,longitude:T,latitude:_},e.next=40,fetch("".concat("http://localhost:5000","/api/device/create"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(O)});case 40:return e.next=42,n.getConnections();case 42:M=n.state,j=M.showModalCreateDevice,k=M.oldConnections,n._isMounted&&n.setState({showModalCreateDevice:!1}),n.props.callbackFromParent(j,k),n._isMounted&&n.setState(function(e){return{config:K({},e.config,{sendToApp:!1})}}),e.next=51;break;case 48:e.prev=48,e.t1=e.catch(25),console.log(e.t1);case 51:case"end":return e.stop()}},e,null,[[2,10],[25,48]])})),n.close=Object(g.a)(v.a.mark(function e(){var t,a,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state,a=t.showModalCreateDevice,c=t.oldConnections,n.setState({showModalCreateDevice:!1}),n.setState(function(e){return{config:K({},e.config,{sendToApp:!1})}}),n.props.callbackFromParent(a,c);case 4:case"end":return e.stop()}},e)})),n.closeError=function(){n._isMounted&&n.setState({showModalError:!1,errorText:""})},n.handleChangeConnectionName=function(e){var t=e.target.value;0===n.state.oldConnections.filter(function(e){return e.name==="zsse/".concat(t)}).length&&n.regexpName.test(t)?n._isMounted&&n.setState(function(e){return{newThing:K({},e.newThing,{name:t}),connectionName:t,isConnectionNameDisabled:!1}}):n._isMounted&&n.setState({isConnectionNameDisabled:!0})},n.handleChangeThingMac=function(e){var t=e.target.value;0===n.state.oldThings.filter(function(e){return e.metadata.mac===t}).length&&n.regexpMac.test(t)?n._isMounted&&n.setState(function(e){return{newThing:K({},e.newThing,{metadata:K({},e.newThing.metadata,{mac:t})}),isThingMacDisabled:!1}}):n._isMounted&&n.setState({isThingMacDisabled:!0})},n.handleChangeCycle=function(e){var t=e.target.value;n._isMounted&&n.setState(function(e){return{config:K({},e.config,{cycle:t}),isEnabled:e.config.cycle.length<=4&&/^\d+$/.test(e.config.cycle)}})},n.handleChangeSendToApp=function(e,t){var a=t.checked;n._isMounted&&n.setState(function(e){return{config:K({},e.config,{sendToApp:a})}}),n.getConnections()},n.handleChangeSendToDB=function(e,t){var a=t.checked;n._isMounted&&n.setState(function(e){return{config:K({},e.config,{sendToDB:a})}})},n.handleChangeDeviceType=function(e,t){var a=t.value;n._isMounted&&n.setState(function(e){return{config:K({},e.config,{device_type:a})}})},n.handleChangeApp=function(e,t){var a=t.value;n._isMounted&&n.setState(function(e){return{config:K({},e.config,{app:a})}})},n.handleChangeNewDevice=function(e){if(n._isMounted){var t=K({},n.state.newDevice);t[Object.keys(e)[0]]=e[Object.keys(e)[0]],n.setState({newDevice:t})}},n.state={deviceTypes:[],apps:[],oldThings:[],oldConnections:[],isEnabled:!0,showModalCreateDevice:!1,isThingMacDisabled:!1,isConnectionNameDisabled:!1,newThing:{name:"",metadata:{type:"device",mac:""}},config:{id:"",channel:[],name:"",cycle:"",sendToApp:!1,sendToDB:!1,device_type:void 0,app:void 0},newDevice:{id:"",title:q.title,subtitle:q.subtitle,assettext:q.assettext,assetvalue:q.assetvalue,longitude:"",latitude:"",severity:"",alertext:"",alertvalue:"",messagetext:""}},n.oldThings=[],n.regexpName=/^\w+$/,n.regexpMac=/^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\1){4}[0-9a-z]{2}$/gim,n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e!==this.props&&(this.getConnections(),this.getThings())}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.getThings(),this.getConnections(),this.getDeviceTypes()}},{key:"render",value:function(){var e=this,t=this.props.showModalCreateDevice,n=this.state,a=n.isThingMacDisabled,o=n.isConnectionNameDisabled,i=n.isEnabled,r=n.deviceTypes,l=n.apps,s=n.config,u=n.newDevice;return c.a.createElement(z.a,{closeIcon:!0,dimmer:"blurring",open:t,onClose:this.close},c.a.createElement(z.a.Header,null," CREATE DEVICE "),c.a.createElement(z.a.Content,null,c.a.createElement(L.a,null,c.a.createElement(L.a.Field,null,c.a.createElement("label",null,"Name"),c.a.createElement("input",{placeholder:"name",onChange:function(t){return e.handleChangeConnectionName(t)},className:o?"show_error":""})),c.a.createElement(L.a.Field,null,c.a.createElement("label",null,"Mac"),c.a.createElement("input",{placeholder:"mac",onChange:function(t){return e.handleChangeThingMac(t)},className:a?"show_error":""})),c.a.createElement(L.a.Field,null,c.a.createElement("label",null,"Device type"),c.a.createElement(S.a,{placeholder:"type",fluid:!0,selection:!0,options:r,onChange:this.handleChangeDeviceType})),c.a.createElement(L.a.Field,null,c.a.createElement("label",null,"Cycle"),c.a.createElement("input",{placeholder:"cycle",className:i?"showSuccess":"showError",onChange:function(t){return e.handleChangeCycle(t)}})),c.a.createElement(L.a.Field,null,c.a.createElement($.a,{label:s.sendToApp?"This device will be sent to App":"Click checkbox for send this config to App",onChange:this.handleChangeSendToApp}),c.a.createElement($.a,{label:s.sendToDB?"This device have additional info":"Click checkbox for additional info",onChange:this.handleChangeSendToDB})),c.a.createElement(L.a.Field,{className:s.sendToApp?"":"hide"},c.a.createElement("label",null,"Apps"),c.a.createElement(S.a,{placeholder:"apps",fluid:!0,selection:!0,options:l,onChange:this.handleChangeApp})),c.a.createElement(L.a.Field,{className:s.sendToDB?"":"hide"},c.a.createElement("label",null,"Title"),c.a.createElement("input",{placeholder:"Device title",onChange:function(t){return e.handleChangeNewDevice({title:t.target.value})},value:u.title})),c.a.createElement(L.a.Field,{className:s.sendToDB?"":"hide"},c.a.createElement("label",null,"Subtitle"),c.a.createElement("input",{placeholder:"Device subtitle",onChange:function(t){return e.handleChangeNewDevice({subtitle:t.target.value})},value:u.subtitle})),c.a.createElement(L.a.Field,{className:s.sendToDB?"":"hide"},c.a.createElement("label",null,"Latitude"),c.a.createElement("input",{placeholder:"Device latitude",onChange:function(t){return e.handleChangeNewDevice({latitude:t.target.value})}})),c.a.createElement(L.a.Field,{className:s.sendToDB?"":"hide"},c.a.createElement("label",null,"Longitude"),c.a.createElement("input",{placeholder:"Device longitude",onChange:function(t){return e.handleChangeNewDevice({longitude:t.target.value})}})),c.a.createElement(L.a.Field,{className:s.sendToDB?"":"hide"},c.a.createElement("label",null,"Asset text"),c.a.createElement("input",{placeholder:"Asset text",onChange:function(t){return e.handleChangeNewDevice({assettext:t.target.value})},value:u.assettext})),c.a.createElement(L.a.Field,{className:s.sendToDB?"":"hide"},c.a.createElement("label",null,"Asset value"),c.a.createElement("input",{placeholder:"Asset value",onChange:function(t){return e.handleChangeNewDevice({assetvalue:t.target.value})},value:u.assetvalue})))),c.a.createElement(z.a.Actions,null,c.a.createElement(F.a,{color:"black",onClick:this.close},"Cancel"),c.a.createElement(F.a,{positive:!0,icon:"plus",labelPosition:"right",content:"Create",disabled:a||o||!i,onClick:this.createDeviceConnection})))}}]),t}(a.Component);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach(function(t){Object(I.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ee={title:"Turbine",subtitle:"LM2500",assettext:"MTU",assetvalue:"operation"},te=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,n.getConfigById=function(){var e=Object(g.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("http://localhost:5000","/api/bootstrap/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content);var t=e.content.app,a=e.content.device_type,c=e.content.sendToApp,o=e.content.sendToDB;n._isMounted&&n.setState({selectedApp:t,selectedDeviceType:a,config:e,handleSendToApp:c,handleSendToDB:o})}).catch(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.getThings=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/things"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=e.filter(function(e){return e.id===n.props.connection.mainflux_id});n._isMounted&&n.setState({currentThing:t[0]})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.getConnections=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/bootstrap"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=e.filter(function(e){return e.content=JSON.parse(e.content),"app"===e.content.type}).map(function(e){return{value:e.external_id,text:e.name.split(".")[0]}});n._isMounted&&n.setState({apps:t,oldConnections:e})}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)})),n.getDeviceTypes=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://134.209.240.215:8300/devices").then(function(e){return e.json()}).then(function(e){var t=e.map(function(e,t){return{text:e,value:e}});n._isMounted&&n.setState({deviceTypes:t})}).catch(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e)})),n.getChannel=function(){var e=Object(g.a)(v.a.mark(function e(t){var a,c,o,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.oldConnections,c=a.filter(function(e){return e.external_id===t}),e.next=4,fetch("".concat("http://localhost:5000","/api/channels"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 4:return o=e.sent,i=o.filter(function(e){return e.name===c[0].name}),e.abrupt("return",i[0]);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.getGlobalChannel=function(){var e=Object(g.a)(v.a.mark(function e(t){var n,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/channels"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 2:return n=e.sent,a=n.filter(function(e){return e.name==="zsse/".concat(t)}),e.abrupt("return",a[0]);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.getDeviceInfoFromDB=function(){var e=Object(g.a)(v.a.mark(function e(t){var a,c,o,i,r,l,s,u,d,h,p,m;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/device/").concat(t),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)});case 2:a=e.sent,c=a.id,o=a.title,i=a.subtitle,r=a.severity,l=a.alerttext,s=a.alertvalue,u=a.assettext,d=a.assetvalue,h=a.messagetext,p=a.longitude,m=a.latitude,n.setState(function(e){return{editDevice:Z({},e.editDevice,{id:c,title:o,subtitle:i,severity:r,alerttext:l,alertvalue:s,assettext:u,assetvalue:d,messagetext:h,longitude:p,latitude:m})}});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.close=function(){n._isMounted&&n.setState({showModalEditDevice:!1}),n.props.callbackFromParent(n.state.showModalEditDevice)},n.editDevice=Object(g.a)(v.a.mark(function e(){var t,a,c,o,i,r,l,s,u,d,h,p,m,f,b,E,C,y,x,w,T,_,O,M,j,k,D,S,N,A,P,F,R,U,B,J,I,z,L,G,H;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.config,c=t.oldConnections,o=t.handleSendToApp,i=t.handleSendToDB,r=n.state.config.content,l=r.name,s=r.cycle,u=r.device_type,d=r.app,h=r.sendToApp,p=r.sendToDB,m=r.mac,f={},e.next=5,fetch("".concat("http://localhost:5000","/api/things/").concat(a.mainflux_id),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(){var e=Object(g.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/things/edit/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({name:l,metadata:t.metadata})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 5:if(b={},!o){e.next=13;break}return e.next=9,n.getChannel(d);case 9:b=e.sent,f={type:"device",id:a.mainflux_id,mac:m,channel:b.id,sendToApp:o,sendToDB:i,name:l,cycle:s,device_type:u,app:d},e.next=17;break;case 13:return e.next=15,n.getGlobalChannel("global_channel");case 15:b=e.sent,f={type:"device",id:a.mainflux_id,mac:m,channel:b.id,sendToApp:o,sendToDB:i,name:l,device_type:u,cycle:s};case 17:return e.next=19,fetch("".concat("http://localhost:5000","/api/bootstrap/edit/info/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({obj:f})});case 19:return e.next=21,fetch("".concat("http://localhost:5000","/api/bootstrap/edit/channels/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({obj:f})});case 21:if(!0!==p||!1!==i){e.next=26;break}return e.next=24,fetch("".concat("http://localhost:5000","/api/device/remove/").concat(n.state.editDevice.id.split("/")[1]),{method:"DELETE",mode:"cors",credentials:"include"}).catch(function(e){return console.log(e)});case 24:e.next=38;break;case 26:if(!1!==p||!0!==i){e.next=33;break}return E=n.state.editDevice,C=E.title,y=E.subtitle,x=E.severity,w=E.alerttext,T=E.alertvalue,_=E.assettext,O=E.assetvalue,M=E.messagetext,j=E.longitude,k=E.latitude,D={id:n.state.config.content.name.split("/")[1],title:C,subtitle:y,severity:x,alerttext:w,alertvalue:T,assettext:_,assetvalue:O,messagetext:M,longitude:j,latitude:k},e.next=31,fetch("".concat("http://localhost:5000","/api/device/create"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(D)});case 31:e.next=38;break;case 33:if(!0!==p||!0!==i){e.next=38;break}return S=n.state.editDevice,N=S.id,A=S.title,P=S.subtitle,F=S.severity,R=S.alerttext,U=S.alertvalue,B=S.assettext,J=S.assetvalue,I=S.messagetext,z=S.longitude,L=S.latitude,G={id:n.state.config.content.name.split("/")[1],title:A,subtitle:P,severity:F,alerttext:R,alertvalue:U,assettext:B,assetvalue:J,messagetext:I,longitude:z,latitude:L},e.next=38,fetch("".concat("http://localhost:5000","/api/device/update/").concat(N),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(G)});case 38:if(!0!==h||!1!==o){e.next=47;break}return e.next=41,fetch("".concat("http://localhost:5000","/api/bootstrap/").concat(d),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content);var t=e.content;t.devices=t.devices.filter(function(e){return e.device_id!==a.mainflux_id}),fetch("".concat("http://localhost:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})})});case 41:return e.next=43,fetch("".concat("http://localhost:5000","/api/connection/create/channels/").concat(b.id,"/things/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"});case 43:return n.close(),e.abrupt("return");case 47:if(!1!==h||!0!==o){e.next=54;break}return e.next=50,fetch("".concat("http://localhost:5000","/api/bootstrap/").concat(d),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content),e.content.devices.push({device_name:"zsse/".concat(f.name),device_id:a.mainflux_id,device_key:a.mainflux_key,device_type:f.device_type}),fetch("".concat("http://localhost:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})})});case 50:return e.next=52,fetch("".concat("http://localhost:5000","/api/connection/create/channels/").concat(b.id,"/things/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"});case 52:return e.next=54,n.getConnections();case 54:if(!h){e.next=61;break}if((H=c.filter(function(e){return e.mainflux_id===a.mainflux_id}))[0].content.app===f.app){e.next=59;break}return e.next=59,fetch("".concat("http://localhost:5000","/api/bootstrap/").concat(H[0].content.app),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content);var t=e.content;t.devices=t.devices.filter(function(e){return e.device_id!==H[0].mainflux_id}),fetch("".concat("http://localhost:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})}),fetch("".concat("http://localhost:5000","/api/connection/create/channels/").concat(b.id,"/things/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"})});case 59:return e.next=61,fetch("".concat("http://localhost:5000","/api/bootstrap/").concat(d),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content);var t=e.content,n=t.devices.filter(function(e){return e.device_id===a.mainflux_id});if(0===n.length)t.devices.push({device_name:l,device_id:a.mainflux_id,device_key:a.mainflux_key,device_type:u});else{var c=t.devices.indexOf(n[0]);t.devices[c]={device_name:l,device_id:a.mainflux_id,device_key:a.mainflux_key,device_type:u}}fetch("".concat("http://localhost:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})}),fetch("".concat("http://localhost:5000","/api/connection/create/channels/").concat(b.id,"/things/").concat(a.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"})});case 61:n.close();case 62:case"end":return e.stop()}},e)})),n.handleChangeConnectionName=function(e){var t=e.target.value;0!==n.state.oldConnections.filter(function(e){return e.name==="zsse/".concat(t)}).length?n._isMounted&&n.setState({isConnectionNameDisabled:!0}):n._isMounted&&n.setState(function(e){return{config:Z({},e.config,{content:Z({},e.config.content,{name:t})}),isConnectionNameDisabled:!1}})},n.handleChangeCycle=function(e){var t=e.target.value;n._isMounted&&n.setState(function(e){return{config:Z({},e.config,{content:Z({},e.config.content,{cycle:t})}),isEnabled:e.config.content.cycle.length<=4&&/^\d+$/.test(e.config.content.cycle)}})},n.handleChangeDeviceType=function(e,t){var a=t.value,c=a;n._isMounted&&n.setState(function(e){return{config:Z({},e.config,{content:Z({},e.config.content,{device_type:c})}),selectedDeviceType:a}})},n.handleChangeSendToApp=function(e,t){var a=t.checked;n._isMounted&&n.setState({handleSendToApp:a}),n.getConnections()},n.handleChangeSendToDB=function(e,t){var a=t.checked;n._isMounted&&n.setState({handleSendToDB:a})},n.handleChangeApp=function(e,t){var a=t.value,c=a;n._isMounted&&n.setState(function(e){return{config:Z({},e.config,{content:Z({},e.config.content,{app:c})}),selectedApp:a}})},n.handleChangeEditDevice=function(e){if(n._isMounted){var t=Z({},n.state.editDevice);t[Object.keys(e)[0]]=e[Object.keys(e)[0]],n.setState({editDevice:t})}},n.state={showModalEditDevice:!1,isEnabled:!0,deviceTypes:[],apps:[],config:{},selectedDeviceType:"",selectedApp:"",oldConnections:[],isConnectionNameDisabled:!1,handleSendToApp:void 0,handleSendToDB:void 0,editDevice:{id:"",title:ee.title,subtitle:ee.subtitle,latitude:"",longitude:"",assettext:ee.assettext,assetvalue:ee.assetvalue,severity:"",alerttext:"",alertvalue:"",messagetext:""}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(e===this.props&&t===this.state)}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=this.props.connection,n=t.external_id,a=t.name,c=t.content;this.getConfigById(n),this.getThings().then(function(){e._isMounted&&e.forceUpdate()}),this.getDeviceTypes(),this.getConnections(),c.sendToDB&&this.getDeviceInfoFromDB(a.split("/")[1])}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props.showModalEditDevice,n=this.state,a=n.config,o=n.isEnabled,i=n.deviceTypes,r=n.apps,l=n.selectedDeviceType,s=n.selectedApp,u=n.isConnectionNameDisabled,d=n.handleSendToApp,h=n.handleSendToDB,p=n.editDevice,m=p.title,f=p.subtitle,v=p.assettext,g=p.assetvalue,b=p.longitude,E=p.latitude;return c.a.createElement(z.a,{closeIcon:!0,dimmer:"blurring",open:t,onClose:this.close},c.a.createElement(z.a.Header,null,"EDIT DEVICE"),c.a.createElement(z.a.Content,null,c.a.createElement(L.a,null,c.a.createElement(L.a.Field,null,c.a.createElement("label",null,"Thing ID"),c.a.createElement("input",{placeholder:"mainflux_id",value:void 0!==a.content?a.mainflux_id:"",readOnly:!0})),c.a.createElement(L.a.Field,null,c.a.createElement("label",null,"Thing Key"),c.a.createElement("input",{placeholder:"mainflux_key",value:void 0!==a.content?a.mainflux_key:"",readOnly:!0})),c.a.createElement(L.a.Field,null,c.a.createElement("label",null," Name "),c.a.createElement("input",{placeholder:"name",onChange:function(t){return e.handleChangeConnectionName(t)},value:void 0!==a.content?a.content.name:"",className:u?"show_error":""})),c.a.createElement(L.a.Field,null,c.a.createElement("label",null," Cycle "),c.a.createElement("input",{placeholder:"cycle",value:void 0!==a.content?a.content.cycle:"",className:o?"showSuccess":"showError",onChange:function(t){return e.handleChangeCycle(t)}})),c.a.createElement(L.a.Field,null,c.a.createElement("label",null," Device Type "),c.a.createElement(S.a,{placeholder:"device type",fluid:!0,selection:!0,options:i,value:l,onChange:this.handleChangeDeviceType})),c.a.createElement(L.a.Field,null,c.a.createElement($.a,{label:d?"This device's config sent to App":"Click checkbox for send this device's config to App",onChange:this.handleChangeSendToApp,checked:d}),c.a.createElement($.a,{label:h?"This device have additional info":"Click checkbox for additional info",onChange:this.handleChangeSendToDB,checked:h})),c.a.createElement(L.a.Field,{className:d?"":"hide"},c.a.createElement("label",null,"Apps"),c.a.createElement(S.a,{placeholder:"apps",fluid:!0,selection:!0,options:r,onChange:this.handleChangeApp,value:s})),c.a.createElement(L.a.Field,{className:h?"":"hide"},c.a.createElement("label",null,"Title"),c.a.createElement("input",{placeholder:"Device title",onChange:function(t){return e.handleChangeEditDevice({title:t.target.value})},value:void 0!==m?m:""})),c.a.createElement(L.a.Field,{className:h?"":"hide"},c.a.createElement("label",null,"Subtitle"),c.a.createElement("input",{placeholder:"Device subtitle",onChange:function(t){return e.handleChangeEditDevice({subtitle:t.target.value})},value:void 0!==f?f:""})),c.a.createElement(L.a.Field,{className:h?"":"hide"},c.a.createElement("label",null,"Latitude"),c.a.createElement("input",{placeholder:"Device latitude",onChange:function(t){return e.handleChangeEditDevice({latitude:t.target.value})},value:void 0!==E?E:""})),c.a.createElement(L.a.Field,{className:h?"":"hide"},c.a.createElement("label",null,"Longitude"),c.a.createElement("input",{placeholder:"Device longitude",onChange:function(t){return e.handleChangeEditDevice({longitude:t.target.value})},value:void 0!==b?b:""})),c.a.createElement(L.a.Field,{className:h?"":"hide"},c.a.createElement("label",null,"Asset text"),c.a.createElement("input",{placeholder:"Asset text",onChange:function(t){return e.handleChangeEditDevice({assettext:t.target.value})},value:void 0!==v?v:""})),c.a.createElement(L.a.Field,{className:h?"":"hide"},c.a.createElement("label",null,"Asset value"),c.a.createElement("input",{placeholder:"Asset value",onChange:function(t){return e.handleChangeEditDevice({assetvalue:t.target.value})},value:void 0!==g?g:""})))),c.a.createElement(z.a.Actions,null,c.a.createElement(F.a,{color:"black",onClick:this.close},"No"),c.a.createElement(F.a,{positive:!0,icon:"edit outline",labelPosition:"right",content:"Yes",onClick:this.editDevice,disabled:u||!o})))}}]),t}(a.Component),ne=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,n.getChannel=function(){var e=Object(g.a)(v.a.mark(function e(t){var n,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/channels"),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)});case 2:return n=e.sent,a=n.filter(function(e){return e.name===t}),e.abrupt("return",a[0]);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.removeConnection=function(){var e=Object(g.a)(v.a.mark(function e(t){var a,c,o,i,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(fetch("".concat("http://localhost:5000","/api/things/remove/").concat(t.mainflux_id),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}),fetch("".concat("http://localhost:5000","/api/bootstrap/remove/").concat(t.mainflux_id),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}),fetch("".concat("http://localhost:5000","/api/device/remove/").concat(t.mainflux_id),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}),a=t.content,c=a.sendToApp,o=a.app,i=a.type,!c){e.next=7;break}return e.next=7,fetch("".concat("http://localhost:5000","/api/bootstrap/").concat(o),{mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.content=JSON.parse(e.content);var n=e.content;n.devices=n.devices.filter(function(e){return e.device_id!==t.mainflux_id}),fetch("".concat("http://localhost:5000","/api/bootstrap/edit/info/").concat(e.mainflux_id),{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({response:e})})});case 7:if("app"!==i){e.next=12;break}return e.next=10,n.getChannel(t.name);case 10:r=e.sent,fetch("".concat("http://localhost:5000","/api/channels/remove/").concat(r.id),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"});case 12:n._isMounted&&n.setState({showModalRemove:!1}),n.props.callbackFromParent(n.state.showModalRemove,t.mainflux_id);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.close=function(){n._isMounted&&n.setState({showModalRemove:!1,isRemoveable:!0},function(){n.props.callbackFromParent(n.state.showModalRemove)})},n.state={showModalRemove:!1,isRemoveable:!0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.connection.content;void 0!==t&&"app"===t.type&&0!==t.devices.length?this._isMounted&&this.setState({isRemoveable:!1}):this._isMounted&&this.setState({isRemoveable:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.showModalRemove,a=t.connection,o=this.state.isRemoveable;return c.a.createElement(z.a,{basic:!0,size:"small",open:n},c.a.createElement(D.a,{icon:"archive",content:o?"REMOVE CONNECTION?":"CAN NOT REMOVE CONNECTION"}),c.a.createElement(z.a.Content,null,c.a.createElement("p",null,o?"Do you want to remove connection: ".concat(a.name):"CONNECTION '".concat(a.name,"' HAVE CONNECTED DEVICES. FIRST REMOVE CONNECTED DEVICES."))),c.a.createElement(z.a.Actions,null,c.a.createElement(F.a,{basic:!0,color:"green",inverted:!0,onClick:this.close},c.a.createElement(R.a,{name:"remove"})," No"),c.a.createElement(F.a,{color:"red",inverted:!0,onClick:function(){o?e.removeConnection(a):e.close()}},c.a.createElement(R.a,{name:"checkmark"})," Yes")))}}]),t}(a.Component),ae=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).close=function(){n.setState({showModalRemove:!1}),n.props.callbackFromParent(n.state.showModalError)},n.state={showModalError:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showModalError,n=e.errorText;return c.a.createElement(z.a,{basic:!0,size:"small",open:t},c.a.createElement(D.a,{icon:"archive",content:"ERROR"}),c.a.createElement(z.a.Content,null,c.a.createElement("p",null,n)),c.a.createElement(z.a.Actions,null,c.a.createElement(F.a,{basic:!0,color:"green",inverted:!0,onClick:this.close},c.a.createElement(R.a,{name:"remove"})," Close")))}}]),t}(a.Component),ce=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this)))._isMounted=!1,e.getToken=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("http://localhost:5000","/api/users/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({email:"".concat("zeinetsse@email.com")})});case 1:case"end":return e.stop()}},e)})),e.getConnections=Object(g.a)(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("http://localhost:5000","/api/bootstrap"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(t){var n=t.map(function(e){return e.content=JSON.parse(e.content),e});e._isMounted&&e.setState({connections:n,loader:!1})}).catch(function(e){return console.log(e)});case 2:case"end":return t.stop()}},t)})),e.createAppModalCallback=function(t,n){e._isMounted&&e.setState({showModalCreateApp:t,connections:n}),e.getConnections()},e.createDeviceModalCallback=function(t,n){e._isMounted&&e.setState({showModalCreateDevice:t,connections:n}),e.getConnections()},e.removeModalCallback=function(t,n){if(e._isMounted&&e.setState({showModalRemove:t}),n){var a=e.state.connections,c=a.filter(function(e){return e.mainflux_id===n})[0].content,o=c.type,i=c.app;if("device"===o&&void 0!==i){var r=a.filter(function(e){return e.external_id===i}),l=r[0].content.devices.filter(function(e){return e.device_id!==n});a[a.indexOf(r[0])].content.devices=l,e._isMounted&&e.setState({connections:a})}e._isMounted&&e.setState({connections:e.state.connections.filter(function(e){return e.mainflux_id!==n})})}},e.editAppModalCallback=function(t){e._isMounted&&e.setState({showModalEditApp:t}),e.getConnections()},e.editDeviceModalCallback=function(t){e._isMounted&&e.setState({showModalEditDevice:t}),e.getConnections()},e.errorModalCallback=function(t){e._isMounted&&e.setState({showModalError:t})},e.state={connections:[],showModalCreateApp:!1,showModalEditApp:!1,showModalCreateDevice:!1,showModalEditDevice:!1,showModalError:!1,edittingApp:{},edittingDevice:{},removingConnection:{},errorText:"",loader:!0},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.getToken(),this.getConnections()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e!==this.props&&this.getConnections()}},{key:"render",value:function(){var e=this,t=this.state,n=t.connections,a=t.showModalCreateApp,o=t.showModalCreateDevice,i=t.showModalRemove,r=t.showModalEditApp,l=t.showModalEditDevice,s=t.showModalError,u=t.edittingApp,d=t.edittingDevice,h=t.removingConnection,p=t.errorText,m=t.loader;return c.a.createElement("div",{id:"connections",className:"main_wrapper"},c.a.createElement("div",{className:"connection_top"},c.a.createElement("h1",null," Connections "),c.a.createElement("div",{className:"connection_btn__wrapper"},c.a.createElement(F.a,{icon:!0,labelPosition:"left",onClick:function(){return e.setState({showModalCreateApp:!0})}},c.a.createElement(R.a,{name:"chain"}),"Create App"),c.a.createElement(F.a,{icon:!0,labelPosition:"left",onClick:function(){return e.setState({showModalCreateDevice:!0})}},c.a.createElement(R.a,{name:"chain"}),"Create Device"))),c.a.createElement("hr",null),c.a.createElement(U.a.Group,{relaxed:!0},c.a.createElement(B.a,{active:m,content:"Loading"}),0===n.length?c.a.createElement("p",null,"Unfortunately we did not find your connections. It will be great to create some.",c.a.createElement("span",{role:"img","aria-label":"Sad"},"\ud83d\ude41")):n.map(function(t){return c.a.createElement(U.a,{key:t.mainflux_id},c.a.createElement(U.a.Content,{verticalAlign:"middle"},c.a.createElement(J.a,{content:c.a.createElement("div",null,c.a.createElement("p",null,"id: ",t.mainflux_id),c.a.createElement("p",null,"key: ",t.mainflux_key)),trigger:c.a.createElement(U.a.Header,null,t.name)}),c.a.createElement(U.a.Description,null,t.content.type),c.a.createElement(U.a.Description,null,t.external_id),c.a.createElement(U.a.Extra,null,c.a.createElement(F.a,{color:"red",floated:"right",icon:"trash alternate outline",labelPosition:"right",content:"Remove",onClick:function(){return e.setState({showModalRemove:!0,removingConnection:t})}}),c.a.createElement(F.a,{color:"yellow",floated:"right",icon:"edit outline",labelPosition:"right",content:"Edit",onClick:function(){return"app"===t.content.type?e.setState({showModalEditApp:!0,edittingApp:t}):e.setState({showModalEditDevice:!0,edittingDevice:t})}}))))})),this.state.showModalCreateApp?c.a.createElement(W,{showModalCreateApp:a,callbackFromParent:this.createAppModalCallback}):null,this.state.showModalCreateDevice?c.a.createElement(Q,{showModalCreateDevice:o,callbackFromParent:this.createDeviceModalCallback}):null,this.state.showModalRemove?c.a.createElement(ne,{showModalRemove:i,connection:h,callbackFromParent:this.removeModalCallback}):null,this.state.showModalError?c.a.createElement(ae,{showModalError:s,errorText:p,callbackFromParent:this.errorModalCallback}):null,this.state.showModalEditApp?c.a.createElement(V,{showModalEditApp:r,connection:u,callbackFromParent:this.editAppModalCallback}):null,this.state.showModalEditDevice?c.a.createElement(te,{showModalEditDevice:l,connection:d,callbackFromParent:this.editDeviceModalCallback}):null)}}]),t}(a.Component);n(149);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach(function(t){Object(I.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var re=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).createChannel=function(){var e=Object(g.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n.state.channel,fetch("".concat("http://localhost:5000","/api/channels/create"),{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({channel:a})}),n.close();case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.close=function(){n.setState({showModalCreate:!1}),n.props.callbackFromParent(n.state.showModalCreate)},n.handleChangeName=function(e){var t=e.target.value;n.setState(function(e){return{channel:ie({},e.channel,{name:t})}})},n.state={showModalCreate:!1,channel:{name:"",metadata:{}}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.showModalCreate,n=this.state.name;return c.a.createElement(z.a,{closeIcon:!0,dimmer:"blurring",open:t,onClose:this.close},c.a.createElement(z.a.Header,null,"CREATE THING"),c.a.createElement(z.a.Content,null,c.a.createElement(L.a,null,c.a.createElement(L.a.Field,null,c.a.createElement("label",null,"Name"),c.a.createElement("input",{placeholder:"name",value:n,onChange:function(t){return e.handleChangeName(t)}})))),c.a.createElement(z.a.Actions,null,c.a.createElement(F.a,{color:"black",onClick:this.close},"No"),c.a.createElement(F.a,{positive:!0,icon:"edit outline",labelPosition:"right",content:"Yes",onClick:function(){return e.createChannel(n)}})))}}]),t}(a.Component),le=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).removeChannel=function(){var e=Object(g.a)(v.a.mark(function e(t,a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("http://localhost:5000","/api/channels/remove/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}),n.setState({showModalRemove:!1}),n.props.callbackFromParent(n.state.showModalRemove,t);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.close=function(){n.setState({showModalRemove:!1}),n.props.callbackFromParent(n.state.showModalRemove)},n.state={showModalRemove:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.showModalRemove,a=t.channel;return c.a.createElement(z.a,{basic:!0,size:"small",open:n},c.a.createElement(D.a,{icon:"archive",content:"REMOVE CHANNEL?"}),c.a.createElement(z.a.Content,null,c.a.createElement("p",null,"Do you want to remove channel: ",a.name)),c.a.createElement(z.a.Actions,null,c.a.createElement(F.a,{basic:!0,color:"green",inverted:!0,onClick:this.close},c.a.createElement(R.a,{name:"remove"})," No"),c.a.createElement(F.a,{color:"red",inverted:!0,onClick:function(t){e.removeChannel(a.id,t)}},c.a.createElement(R.a,{name:"checkmark"})," Yes")))}}]),t}(a.Component),se=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).getToken=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000","/api/users/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify({email:"".concat("zeinetsse@email.com")})});case 2:case"end":return e.stop()}},e)})),e.getChannels=Object(g.a)(v.a.mark(function t(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("http://localhost:5000","/api/channels"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(t){return e.setState({channels:t,loader:!1})}).catch(function(e){return e});case 2:case"end":return t.stop()}},t)})),e.removeModalCallback=function(t,n){e.setState({showModalRemove:t}),n&&e.setState(function(e){return{channels:e.channels.filter(function(e){return e.id!==n})}})},e.createChannelModalCallback=function(){var t=Object(g.a)(v.a.mark(function t(n){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({showModalCreate:n}),t.next=3,e.getChannels();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={channels:[],removingChannel:{},showModalRemove:!1,showModalCreate:!1,loader:!0},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getToken();case 2:this.getChannels();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.channels,a=t.showModalCreate,o=t.showModalRemove,i=t.removingChannel,r=t.loader;return c.a.createElement("div",{id:"channels",className:"main_wrapper"},c.a.createElement("div",{className:"channel_top"},c.a.createElement("h1",null,"Channels"),c.a.createElement(F.a,{icon:!0,labelPosition:"left",onClick:function(){return e.setState({showModalCreate:!0})}},c.a.createElement(R.a,{name:"podcast"}),"Create Channel")),c.a.createElement("hr",null),c.a.createElement(U.a.Group,{relaxed:!0},c.a.createElement(B.a,{active:r,content:"Loading"}),0===n.length?c.a.createElement("p",null,"Unfortunately we did not find your channels.",c.a.createElement("span",{role:"img","aria-label":"Sad"},"\ud83d\ude41")):n.map(function(t){return c.a.createElement(U.a,{key:t.id},c.a.createElement(U.a.Content,{verticalAlign:"middle"},c.a.createElement(U.a.Header,null,t.name),c.a.createElement(U.a.Description,null,t.id),c.a.createElement(U.a.Extra,null,c.a.createElement(F.a,{color:"red",floated:"right",icon:"trash alternate outline",labelPosition:"right",content:"Remove",onClick:function(){return e.setState({showModalRemove:!0,removingChannel:t})}}))))})),o?c.a.createElement(le,{showModalRemove:o,channel:i,callbackFromParent:this.removeModalCallback}):null,a?c.a.createElement(re,{showModalCreate:a,callbackFromParent:this.createChannelModalCallback}):null)}}]),t}(a.Component),ue=function(){return c.a.createElement("div",{className:"main_wrapper"},c.a.createElement("h1",null,"Nothing was found"),c.a.createElement("p",null,"Unfortunately we did not find anything for your request.",c.a.createElement("span",{role:"img","aria-label":"Sad"},"\ud83d\ude41")))},de=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).checkActive=function(e){return"/"===e.url},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(P,null),c.a.createElement(h.a,null,c.a.createElement("div",{id:"sidebar_wrapper"},c.a.createElement(m.a,{id:"sidebar_menu",secondary:!0,vertical:!0},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(h.b,{to:"/",activeClassName:"active_item",isActive:this.checkActive},"Home")),c.a.createElement("li",null,c.a.createElement(h.b,{to:"/channels",activeClassName:"active_item"},"Channels")),c.a.createElement("li",null,c.a.createElement(h.b,{to:"/connections",activeClassName:"active_item"},"Connections")))),c.a.createElement(p.c,null,c.a.createElement(p.a,{exact:!0,path:"/",component:M}),c.a.createElement(p.a,{path:"/channels",component:se}),c.a.createElement(p.a,{path:"/connections",component:ce}),c.a.createElement(p.a,{component:ue})))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},71:function(e,t,n){}},[[267,1,2]]]);
//# sourceMappingURL=main.f86af04a.chunk.js.map