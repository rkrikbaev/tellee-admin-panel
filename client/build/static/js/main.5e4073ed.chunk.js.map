{"version":3,"sources":["components/Main.js","components/TopBar.js","components/connections/AppModalCreate.jsx","components/connections/AppModalEdit.jsx","components/connections/DeviceModalCreate.jsx","components/connections/DeviceModalEdit.jsx","components/connections/ConnectionModalRemove.jsx","components/errorModal.jsx","components/connections/Connections.jsx","components/channels/ChannelModalCreate.jsx","components/channels/ChannelModalRemove.jsx","components/channels/ChannelModalEdit.jsx","components/channels/Channels.js","components/NotFound.js","App.js","serviceWorker.js","index.js"],"names":["Main","react_default","a","createElement","className","role","aria-label","Component","trigger","Image","avatar","src","faker","internet","name","findName","options","key","text","icon","TopBar","id","Segment","clearing","Header","floated","alt","Dropdown","pointing","AppModalCreate","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getThings","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","fetch","concat","process","mode","credentials","then","res","json","oldThings","setState","catch","err","console","log","stop","getConnections","_callee2","_context2","oldConnections","createThing","_callee3","_context3","method","headers","Content-Type","body","JSON","stringify","state","newThing","createChannel","_callee4","channel","_context4","createAppConnection","_callee5","_this$state","connectionName","arr","thing","obj","_this$state2","showModalCreateApp","_context5","oldChannels","sent","filter","item","t0","mac","metadata","channels","callbackFromParent","t1","close","_callee6","_this$state3","_context6","handleChangeConnectionName","e","str","target","value","length","regexpName","test","prevState","objectSpread","isConnectionNameEnabled","handleChangeThingMac","regexpMac","isThingMacEnabled","type","_this2","_this$state4","Modal","closeIcon","dimmer","open","onClose","Content","Form","Field","placeholder","onChange","Actions","Button","color","onClick","positive","labelPosition","content","disabled","AppModalEdit","getConfigById","_ref","config","selectedChannels","parse","i","mainflux_channels","push","_x","apply","arguments","getChannels","chan","map","editApp","_this$state$config$co","mainflux_id","showModalEditApp","handleChangeName","handleChangeChannel","_ref4","nextProps","connection","external_id","nextState","undefined","readOnly","mainflux_key","multiple","fluid","selection","DeviceModalCreate","apps","getDeviceTypes","types","formattedTypes","deviceTypes","getChannel","_ref5","appMac","app","abrupt","getGlobalChannel","_ref6","channelName","globalChannel","_x2","createDeviceConnection","_callee7","cycle","sendToApp","device_type","createdThing","showModalCreateDevice","_context7","response","devices","device_name","device_id","device_key","_callee8","_context8","closeError","showModalError","errorText","isConnectionNameDisabled","isThingMacDisabled","handleChangeCycle","isEnabled","handleChangeSendToApp","_ref9","checked","handleChangeDeviceType","_ref10","handleChangeApp","_ref11","Checkbox","label","DeviceModalEdit","selectedApp","selectedDeviceType","handleSendToApp","currentThing","split","_x3","showModalEditDevice","editDevice","currentDevice","_ref8","_x4","editThing","editThingIndex","indexOf","currentValue","forceUpdate","_this3","ConnectionModalRemove","removeConnection","_ref2","_connection$content","showModalRemove","isRemoveable","_this$props","basic","size","inverted","Icon","ErrorModal","Connections","getToken","Accept","email","connections","parsedConnections","createAppModalCallback","createDeviceModalCallback","removeModalCallback","_connection$0$content","connectedApp","edittedApp","editAppModalCallback","editDeviceModalCallback","errorModalCallback","edittingApp","edittingDevice","removingConnection","Item","Group","relaxed","verticalAlign","Popup","Description","Extra","connections_AppModalCreate","connections_DeviceModalCreate","connections_ConnectionModalRemove","errorModal","connections_AppModalEdit","connections_DeviceModalEdit","ChannelModalCreate","showModalCreate","ChannelModalRemove","removeChannel","event","ChannelModalEdit","editChannel","show","showModalEdit","Channels","editModalCallback","createChannelModalCallback","_ref3","edittingChannel","removingChannel","channels_ChannelModalRemove","channels_ChannelModalEdit","channels_ChannelModalCreate","Notfound","App","handleHome","home","handleChannels","handleConnections","components_TopBar","react_router_dom","Menu","secondary","vertical","to","react_router","exact","path","component","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5e4073ed.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport 'semantic-ui-css/semantic.min.css'\n\nclass Main extends Component {\n\n  render() {\n    return (\n      <div className=\"main_wrapper\">\n        <h1>Home</h1>\n        <hr />\n        <p>\n          Here you can put everything your heart desires.\n          <span role=\"img\" aria-label=\"Hooray\">🙂</span>\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","import faker from 'faker';\nimport React, { Component } from 'react';\nimport {\n  Header,\n  Segment,\n  Dropdown,\n  Image,\n} from 'semantic-ui-react';\n\n\nconst trigger = (\n  <span>\n    <Image avatar src={faker.internet.avatar()} /> {faker.name.findName()}\n  </span>\n);\n\nconst options = [\n  { key: 'user', text: 'Account', icon: 'user' },\n  { key: 'settings', text: 'Settings', icon: 'settings' },\n  { key: 'sign-out', text: 'Sign Out', icon: 'sign out' },\n];\n\nclass TopBar extends Component {\n\n  render() {\n\n    return (\n      <div id='TopBar'>\n        <Segment clearing id='top_menu'>\n          <Header className='topbar_left' floated='left'>\n            <img className=\"top_logo\" alt=\"Zeinetsse\" src=\"/ZeinetSSE.png\" />\n          </Header>\n          <Header className='topbar_right' floated='right'>\n            <Dropdown\n              className='top_dropdown'\n              trigger={trigger}\n              options={options}\n              pointing='top left'\n              icon={null}\n            />\n          </Header>\n        </Segment>\n      </div>\n    );\n  }\n}\n\nexport default TopBar;\n","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Button,\n  Modal,\n  Form,\n} from 'semantic-ui-react';\n\nclass AppModalCreate extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalCreateApp: false,\n      isThingMacEnabled: false,\n      isConnectionNameEnabled: false,\n      oldThings: [],\n      oldConnections: [],\n      newThing: {\n        name: '',\n        metadata: {\n          type: 'app',\n          mac: '',\n        },\n      },\n      channel:  {\n        name: '',\n        metadata: {},\n      },\n      connectionName: '',\n    };\n    this.regexpName = /^\\w+$/;\n    this.regexpMac = /^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\\1){4}[0-9a-z]{2}$/gmi;\n  };\n\n  getThings = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json() )\n      .then( oldThings => {\n        this.setState({oldThings});\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n    .then( res =>  res.json() )\n    .then( oldConnections => {\n      this.setState({oldConnections});\n      })\n      .catch( err => console.log(err) );\n  };\n\n  createThing = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify(this.state.newThing),\n    });\n  };\n\n  createChannel = async () => {\n    const { channel } = this.state;\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials: 'include',\n      body: JSON.stringify({channel})\n    });\n  };\n\n  createAppConnection = async () => {\n    const { newThing, connectionName } = this.state;\n    try {\n      let arr = [];\n      await this.createChannel();\n      arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n        mode: 'cors',\n        credentials: 'include'\n      })\n      .then( res => res.json())\n      .then( oldChannels => {\n        return oldChannels;\n      })\n      .catch( err => console.log(err));\n      var channel = arr.filter( item => {\n        return item.name === `zsse/${newThing.name}`;\n      });\n      await this.createThing();\n      arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n        mode: 'cors',\n        credentials : 'include',\n        })\n        .then( res =>  res.json() )\n        .then( oldThings => {\n          return oldThings;\n        })\n        .catch( err => console.log(err) );\n\n      var thing = arr.filter( item => {\n        return item.name === `zsse/${newThing.name}`;\n      });\n    } catch(err) {\n      console.log(err);\n    }\n\n    const obj = {\n      mac: newThing.metadata.mac,\n      id: thing[0].id,\n      channels: `${channel[0].id}`,\n      name: connectionName,\n    };\n\n    try {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/create/app`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials : 'include',\n        body: JSON.stringify(obj),\n      });\n\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel[0].id}/things/${thing[0].id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          mode: 'cors',\n          credentials : 'include',\n        });\n      await this.getConnections();\n\n      // Close and send data to parent\n      const { showModalCreateApp, oldConnections } = this.state;\n      this.setState({ showModalCreateApp: false });\n      this.props.callbackFromParent(showModalCreateApp, oldConnections)\n    } catch(err) {\n      console.log(err);\n    }\n  };\n\n  close = async () => {\n    const { showModalCreateApp, oldConnections } = this.state;\n    this.setState({ showModalCreateApp: false });\n    this.props.callbackFromParent(showModalCreateApp, oldConnections)\n  };\n\n  componentDidMount() {\n    this.getThings();\n    this.getConnections();\n  };\n\n  handleChangeConnectionName = e => {\n    let str = e.target.value;\n    let arr = this.state.oldConnections.filter( item => {\n      return item.name === str;\n    });\n    if(arr.length !== 0 || !this.regexpName.test(str)) {\n      this.setState({ isConnectionNameEnabled: true });\n    } else {\n      this.setState( prevState => ({\n        newThing: {\n          ...prevState.newThing,\n          name: str,\n        },\n        channel: {\n          ...prevState.channel,\n          name: str,\n        },\n        connectionName: str,\n        isConnectionNameEnabled: false,\n      }));\n    };\n  };\n\n  handleChangeThingMac = e => {\n    let str = e.target.value;\n    let arr = this.state.oldThings.filter( item => {\n      return item.metadata.mac === str;\n    });\n    if(arr.length !== 0 || !this.regexpMac.test(str)) {\n      this.setState({ isThingMacEnabled: true });\n    } else {\n      this.setState( prevState => ({\n        newThing: {\n          ...prevState.newThing,\n          metadata: {\n            ...prevState.newThing.metadata,\n            mac: str,\n          },\n        },\n        isThingMacEnabled: false,\n      }));\n    }\n  };\n\n  render() {\n    const { showModalCreateApp } = this.props;\n    const { isThingMacEnabled, isConnectionNameEnabled } = this.state;\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalCreateApp}\n        onClose={this.close}\n      >\n        <Modal.Header> CREATE APP </Modal.Header>\n\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label> Name </label>\n              <input\n                placeholder='name'\n                onChange={e => this.handleChangeConnectionName(e)}\n                className={isConnectionNameEnabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Mac </label>\n              <input\n                placeholder='mac'\n                onChange={e => this.handleChangeThingMac(e)}\n                className={isThingMacEnabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n\n        <Modal.Actions>\n          <Button color='black' onClick={this.close}>\n            Cancel\n          </Button>\n          <Button\n            positive\n            icon='plus'\n            labelPosition='right'\n            content=\"Create\"\n            disabled={isThingMacEnabled || isConnectionNameEnabled}\n            onClick={this.createAppConnection}\n          />\n        </Modal.Actions>\n\n      </Modal>\n    )\n  }\n\n}\n\nexport default AppModalCreate;","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Button,\n  Form,\n  Modal,\n  Dropdown\n} from 'semantic-ui-react';\n\nclass AppModalEdit extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      config: {},\n      channels: [],\n      selectedChannels: [],\n      showModalEditApp: false,\n    };\n  };\n\n  getConfigById = async id => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json())\n      .then( config => {\n        const selectedChannels = [];\n\n        config.content = JSON.parse(config.content);\n\n        for (let i = 0; i < config.mainflux_channels.length; i++) {\n          selectedChannels.push(config.mainflux_channels[i].id);\n        };\n\n        this.setState({\n          selectedChannels,\n          config\n        });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getChannels = async () => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json())\n      .then( channels => {\n        const chan = channels.map( (item, i) => {\n          return {value: item.id, text: item.name}\n        });\n        this.setState({ channels: chan });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  editApp = async () => {\n    const { config } = this.state;\n    const { mac, name } = this.state.config.content;\n    const obj = {\n      mac,\n      id: config.mainflux_id,\n      channels: config.mainflux_channels,\n      name,\n      type: \"app\",\n      content: config.content,\n    };\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${config.mainflux_id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({ obj })\n    });\n\n    this.close();\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if(nextProps.connection !== this.props.connection){\n      this.getConfigById(nextProps.connection.external_id);\n    };\n  };\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps !== this.props ||\n    nextState !== this.state;\n  };\n\n  componentDidMount() {\n    this.getChannels();\n  }\n\n  close = () => {\n    this.setState({ showModalEditApp: false });\n    this.props.callbackFromParent(this.state.showModalEditApp);\n  };\n\n  handleChangeName = e => {\n    const obj = this.state.config;\n    obj.content.name = e.target.value;\n    this.setState({ config: obj });\n  };\n\n  handleChangeChannel = (e, { value }) => {\n    let obj = this.state.config;\n    obj.mainflux_channels = value;\n    this.setState({ config: obj });\n  };\n\n  render() {\n    const { showModalEditApp } = this.props;\n    const { config, channels, selectedChannels } = this.state;\n    return (\n      <Modal closeIcon dimmer=\"blurring\" open={showModalEditApp} onClose={this.close}>\n        <Modal.Header>EDIT CONNECTION</Modal.Header>\n        <Modal.Content>\n          <Form>\n\n            <Form.Field>\n              <label>Thing ID</label>\n              <input\n                placeholder='mainflux_id'\n                value={config.content !== undefined ? config.mainflux_id : ''}\n                readOnly\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label>Thing Key</label>\n              <input\n                placeholder='mainflux_key'\n                value={config.content !== undefined ? config.mainflux_key : ''}\n                readOnly\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label>Name</label>\n              <input\n                placeholder='name'\n                value={config.content !== undefined ? config.content.name : ''}\n                onChange={e => this.handleChangeName(e)}\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label>Channels</label>\n              <Dropdown\n                placeholder='channels'\n                multiple\n                fluid\n                selection\n                options={channels}\n                onChange={this.handleChangeChannel}\n                value={selectedChannels}\n              />\n            </Form.Field>\n\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color='black' onClick={this.close}>\n            No\n          </Button>\n          <Button\n            positive\n            icon='edit outline'\n            labelPosition='right'\n            content=\"Yes\"\n            onClick={this.editApp}\n          />\n        </Modal.Actions>\n      </Modal>\n    );\n  };\n};\n\nexport default AppModalEdit;","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Button,\n  Form,\n  Modal,\n  Dropdown,\n  Checkbox,\n} from 'semantic-ui-react';\n\nclass DeviceModalCreate extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      deviceTypes: [],\n      apps: [],\n      oldThings: [],\n      oldConnections: [],\n      isEnabled: true,\n      showModalCreateDevice: false,\n      isThingMacDisabled: false,\n      isConnectionNameDisabled: false,\n      newThing: {\n        name: '',\n        metadata: {\n          type: 'device',\n          mac: '',\n        },\n      },\n      config: {\n        id: '',\n        channel: [],\n        name: '',\n        cycle: '',\n        sendToApp: false,\n        device_type: undefined,\n        app: undefined,\n      },\n    };\n\n    this.oldThings = [];\n    this.regexpName = /^\\w+$/;\n    this.regexpMac = /^[0-9a-z]{1,2}([.:-])(?:[0-9a-z]{1,2}\\1){4}[0-9a-z]{2}$/gmi;\n  };\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n    .then( res =>  res.json() )\n    .then( oldConnections => {\n      this.setState({oldConnections});\n      const connections = oldConnections.filter( item => {\n        item.content = JSON.parse(item.content);\n        return item.content.type === 'app';\n      });\n      const apps = connections.map( item => {\n        return { key: item.external_id, text: item.name, value: item.external_id}\n      })\n      this.setState({ apps });\n    })\n    .catch( err => console.log(err) );\n  };\n\n  getDeviceTypes = async () => {\n    fetch('http://134.209.240.215:8300/devices')\n      .then(res => res.json())\n      .then(types => {\n        const formattedTypes = types.map( (type, i) => {\n          return { text: type, value: type}\n        });\n        this.setState({ deviceTypes: formattedTypes });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getThings = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json() )\n      .then( oldThings => {\n        this.oldThings = oldThings;\n        this.setState({ oldThings });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  createThing = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify(this.state.newThing),\n    });\n  };\n\n  getChannel = async appMac => {\n    const { oldConnections } = this.state;\n    let app = oldConnections.filter( item => {\n      return item.external_id === appMac;\n    });\n    let arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include'\n    })\n    .then( res => res.json())\n    .then( oldChannels => {\n      return oldChannels;\n    })\n    .catch( err => console.log(err));\n\n    var channel = arr.filter( item => {\n      return item.name === app[0].name;\n    });\n    return channel[0];\n  }\n\n  getGlobalChannel = async channelName => {\n    let arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include'\n    })\n    .then( res => res.json())\n    .then( oldChannels => {\n      return oldChannels;\n    })\n    .catch( err => console.log(err));\n    const globalChannel = arr.filter( item => {\n      return item.name === `zsse/${channelName}`;\n    });\n    return globalChannel[0];\n  }\n\n  // -- Start of creating device --\n  createDeviceConnection = async () => {\n    const {\n      newThing,\n      connectionName,\n      config,\n    } = this.state;\n    const {\n      cycle,\n      sendToApp,\n      device_type,\n      app\n    } = config;\n\n    try {\n      await this.createThing();\n      await this.getThings();\n\n      var createdThing = this.oldThings.filter( item => {\n        return item.name === `zsse/${newThing.name}`;\n      });\n\n    } catch(err) {\n      console.log(err);\n    }\n\n    let obj = {},\n        channel = {};\n    if(sendToApp) {\n      channel = await this.getChannel(app);\n      obj = {\n        mac: newThing.metadata.mac,\n        id: createdThing[0].id,\n        channel: channel.id,\n        name: connectionName,\n        cycle,\n        sendToApp,\n        device_type,\n        app\n      };\n    } else {\n      channel = await this.getGlobalChannel(process.env.REACT_APP_CHANNEL_NAME);\n      obj = {\n        mac: newThing.metadata.mac,\n        id: createdThing[0].id,\n        channel: channel.id,\n        name: connectionName,\n        cycle,\n        device_type,\n        sendToApp,\n      };\n    };\n\n    try {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/create/device`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        mode: 'cors',\n        credentials : 'include',\n        body: JSON.stringify(obj),\n      });\n\n      if(sendToApp) {\n        await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n          mode: 'cors',\n          credentials : 'include',\n        })\n          .then( response => response.json())\n          .then( response => {\n            response.content = JSON.parse(response.content);\n            let { content } = response;\n            content.devices.push({\n              device_name: `zsse/${connectionName}`,\n              device_id: createdThing[0].id,\n              device_key: createdThing[0].key,\n              device_type: obj.device_type\n            })\n            fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              mode: 'cors',\n              credentials : 'include',\n              body: JSON.stringify({ response })\n            });\n            // - Connecting to App's channel - //\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${response.mainflux_channels[0].id}/things/${createdThing[0].id}`, {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                mode: 'cors',\n                credentials : 'include',\n              });\n          });\n      } else {\n        await fetch(\n          `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${createdThing[0].id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            credentials : 'include',\n          });\n      };\n      await this.getConnections();\n\n      // Close and send data to parent\n      const { showModalCreateDevice, oldConnections } = this.state;\n      this.setState({ showModalCreateDevice: false });\n      this.props.callbackFromParent(showModalCreateDevice, oldConnections);\n      this.setState( prevState => ({\n        config: {\n          ...prevState.config,\n          sendToApp: false,\n        },\n      }));\n    } catch(err) {\n      console.log(err);\n    }\n  };\n  // -- End of creating device --\n\n  componentWillReceiveProps(nextProps) {\n    if( nextProps !== this.props ) {\n      this.getConnections();\n      this.getThings();\n    };\n  };\n\n  close = async () => {\n    const { showModalCreateDevice, oldConnections } = this.state;\n    this.setState({ showModalCreateDevice: false });\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        sendToApp: false,\n      },\n    }));\n    this.props.callbackFromParent(showModalCreateDevice, oldConnections)\n  };\n\n  closeError = () => {\n    this.setState({ showModalError: false, errorText: '' });\n  };\n\n  handleChangeConnectionName = e => {\n    let str = e.target.value;\n    let arr = this.state.oldConnections.filter( item => {\n      return item.name === `zsse/${str}`;\n    });\n    if(arr.length !== 0 || !this.regexpName.test(str)) {\n      this.setState({ isConnectionNameDisabled: true });\n    } else {\n      this.setState( prevState => ({\n        newThing: {\n          ...prevState.newThing,\n          name: str,\n        },\n        connectionName: str,\n        isConnectionNameDisabled: false,\n      }));\n    };\n  };\n\n  handleChangeThingMac = e => {\n    let str = e.target.value;\n    let arr = this.state.oldThings.filter( item => {\n      return item.metadata.mac === str;\n    });\n    if(arr.length !== 0 || !this.regexpMac.test(str)) {\n      this.setState({ isThingMacDisabled: true });\n    } else {\n      this.setState( prevState => ({\n        newThing: {\n          ...prevState.newThing,\n          metadata: {\n            ...prevState.newThing.metadata,\n            mac: str,\n          },\n        },\n        isThingMacDisabled: false,\n      }));\n    }\n  };\n\n  handleChangeCycle = e => {\n    let str = e.target.value;\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        cycle: str,\n      },\n      isEnabled: prevState.config.cycle.length <= 4 && /^\\d+$/.test(prevState.config.cycle)\n    }));\n  };\n\n\n  handleChangeSendToApp = (e, { checked }) => {\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        sendToApp: checked,\n      },\n    }));\n    this.getConnections();\n  };\n\n  handleChangeDeviceType = (e, { value }) => {\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        device_type: value,\n      },\n    }));\n  };\n\n  handleChangeApp = (e, { value }) => {\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        app: value,\n      },\n    }));\n  };\n\n  // shouldComponentUpdate(nextProps, nextState) {\n  //   return nextProps === this.props || nextState !== this.state;\n  // };\n\n  componentDidMount() {\n    this.getThings();\n    this.getConnections();\n    this.getDeviceTypes();\n  };\n\n  render() {\n    const { showModalCreateDevice } = this.props;\n    const {\n      isThingMacDisabled,\n      isConnectionNameDisabled,\n      isEnabled,\n      deviceTypes,\n      apps,\n      config,\n    } = this.state;\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalCreateDevice}\n        onClose={this.close}\n      >\n        <Modal.Header> CREATE DEVICE </Modal.Header>\n\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label> Name </label>\n              <input\n                placeholder='name'\n                onChange={e => this.handleChangeConnectionName(e)}\n                className={isConnectionNameDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Mac </label>\n              <input\n                placeholder='mac'\n                onChange={e => this.handleChangeThingMac(e)}\n                className={isThingMacDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Device type </label>\n              <Dropdown\n                placeholder='type'\n                fluid\n                selection\n                options={deviceTypes}\n                onChange={this.handleChangeDeviceType}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Cycle </label>\n              <input\n                placeholder='cycle'\n                className={\n                  !isEnabled ? 'showError' : 'showSuccess'\n                  }\n                onChange={e => this.handleChangeCycle(e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Checkbox\n                label={config.sendToApp ? 'This device will be sent to App' : 'Click checkbox for send this config to App'}\n                onChange={this.handleChangeSendToApp}\n              />\n            </Form.Field>\n            <Form.Field className={config.sendToApp ? '' : 'hide'}>\n              <label>Apps</label>\n              <Dropdown\n                placeholder='apps'\n                fluid\n                selection\n                options={apps}\n                onChange={this.handleChangeApp}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n\n        <Modal.Actions>\n          <Button color='black' onClick={this.close}>\n            Cancel\n          </Button>\n          <Button\n            positive\n            icon='plus'\n            labelPosition='right'\n            content=\"Create\"\n            disabled={isThingMacDisabled || isConnectionNameDisabled || !isEnabled}\n            onClick={this.createDeviceConnection}\n          />\n        </Modal.Actions>\n\n      </Modal>\n    );\n  }\n\n}\n\nexport default DeviceModalCreate;\n","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Button,\n  Modal,\n  Form,\n  Dropdown,\n  Checkbox,\n} from 'semantic-ui-react';\n\nclass DeviceModalEdit extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalEditDevice: false,\n      isEnabled: true,\n      deviceTypes: [],\n      apps: [],\n      config: {},\n      selectedDeviceType: [],\n      selectedApp: [],\n      oldConnections: [],\n      isConnectionNameDisabled: false,\n      handleSendToApp: undefined,\n    };\n  };\n\n  getConfigById = async id => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json())\n      .then( config => {\n        config.content = JSON.parse(config.content);\n        let selectedApp = config.content.app;\n        let selectedDeviceType = config.content.device_type;\n        let handleSendToApp = config.content.sendToApp;\n        this.setState({ selectedApp, selectedDeviceType, config, handleSendToApp });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getThings = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json() )\n      .then( oldThings => {\n        const currentThing = oldThings.filter( item => {\n          return item.id === this.props.connection.mainflux_id;\n        });\n        this.setState({currentThing: currentThing[0]});\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      mode: 'cors',\n      credentials : 'include',\n    })\n    .then( res =>  res.json() )\n    .then( oldConnections => {\n      const connections = oldConnections.filter( item => {\n        item.content = JSON.parse(item.content);\n        return item.content.type === 'app';\n      });\n      const apps = connections.map( item => {\n        return { value: item.external_id, text: item.name.split(\".\")[0] }\n      })\n      this.setState({ apps, oldConnections });\n    })\n    .catch( err => console.log(err) );\n  };\n\n  getDeviceTypes = async () => {\n    fetch('http://134.209.240.215:8300/devices')\n      .then(res => res.json())\n      .then(types => {\n        const formattedTypes = types.map( (type, i) => {\n          return { text: type, value: type}\n        });\n        this.setState({ deviceTypes: formattedTypes });\n      })\n      .catch( err => console.log(err) );\n  };\n\n  getChannel = async appMac => {\n    const { oldConnections } = this.state;\n    let app = oldConnections.filter( item => {\n      return item.external_id === appMac;\n    });\n    let arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include'\n    })\n    .then( res => res.json())\n    .then( oldChannels => {\n      return oldChannels;\n    })\n    .catch( err => console.log(err));\n\n    var channel = arr.filter( item => {\n      return item.name === app[0].name;\n    });\n    return channel[0];\n  };\n\n  getGlobalChannel = async channelName => {\n    let arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include'\n    })\n    .then( res => res.json())\n    .then( oldChannels => {\n      return oldChannels;\n    })\n    .catch( err => console.log(err));\n    const globalChannel = arr.filter( item => {\n      return item.name === `zsse/${channelName}`;\n    });\n    return globalChannel[0];\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if(nextProps.connection !== this.props.connection){\n      this.getConfigById(nextProps.connection.external_id);\n      this.getThings().then( () => {\n        this.forceUpdate();\n      });\n    };\n    this.getConnections();\n  };\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps === this.props || nextState !== this.state;\n  };\n\n  componentDidMount() {\n    this.getDeviceTypes();\n    this.getConnections();\n  };\n\n  close = () => {\n    this.setState({ showModalEditDevice: false });\n    this.props.callbackFromParent(this.state.showModalEditDevice);\n  };\n\n  editDevice = async () => {\n    const { config, oldConnections, handleSendToApp } = this.state;\n    const { name, cycle, device_type, app, sendToApp, mac } = this.state.config.content;\n    let obj = {};\n\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/${config.mainflux_id}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials: 'include'\n    })\n      .then( response => response.json())\n      .then( async thing => {\n        await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/edit/${config.mainflux_id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          mode: 'cors',\n          credentials: 'include',\n          body: JSON.stringify({ name, metadata: thing.metadata }),\n        });\n      });\n\n    let channel = {};\n    if(handleSendToApp) {\n      channel = await this.getChannel(app);\n      obj = {\n        type: \"device\",\n        id: config.mainflux_id,\n        mac,\n        channel: channel.id,\n        sendToApp: handleSendToApp,\n        name,\n        cycle,\n        device_type,\n        app,\n      };\n    } else {\n      channel = await this.getGlobalChannel(process.env.REACT_APP_CHANNEL_NAME);\n      obj = {\n        type: \"device\",\n        id: config.mainflux_id,\n        mac,\n        channel: channel.id,\n        sendToApp: handleSendToApp,\n        name,\n        device_type,\n        cycle,\n      };\n    };\n\n    // -- Update Device\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${config.mainflux_id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({ obj })\n    });\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/channels/${config.mainflux_id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({ obj })\n    });\n\n    // -- IF DEVICE CONNECTED TO APP BUT IT SHOULD BE DISCONNECTED -- //\n    if( sendToApp === true && handleSendToApp === false ) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`,{\n        mode: 'cors',\n        credentials : 'include',\n      })\n        .then( response => response.json())\n        .then( response => {\n          response.content = JSON.parse(response.content);\n          const { content } = response;\n\n          content.devices = content.devices.filter( item => {\n            return item.device_id !== config.mainflux_id;\n          });\n\n          fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            credentials : 'include',\n            body: JSON.stringify({ response }),\n          });\n        });\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          mode: 'cors',\n          credentials : 'include',\n        });\n      this.close();\n      return;\n    }\n    // -- IF DEVICE DOESN'T CONNECTED TO APP BUT IT SHOULD BE CONNECTED -- //\n    else if( sendToApp === false && handleSendToApp === true ) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials : 'include',\n      })\n        .then( response => response.json())\n        .then( response => {\n          response.content = JSON.parse(response.content);\n          let { content } = response;\n          content.devices.push({\n            device_name: `zsse/${obj.name}`,\n            device_id: config.mainflux_id,\n            device_key: config.mainflux_key,\n            device_type: obj.device_type\n          })\n          fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            credentials : 'include',\n            body: JSON.stringify({ response })\n          });\n        });\n      await fetch(\n        `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          mode: 'cors',\n          credentials : 'include',\n        });\n      await this.getConnections();\n    };\n\n    if(sendToApp) {\n      // -- Get current Device config\n      const currentDevice = oldConnections.filter( item => {\n        return item.mainflux_id === config.mainflux_id;\n      });\n\n      if( currentDevice[0].content.app !== obj.app) {\n        await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${currentDevice[0].content.app}`, {\n          mode: 'cors',\n          credentials : 'include',\n        })\n          .then( response => response.json())\n          .then( response => {\n            response.content = JSON.parse(response.content);\n            const { content } = response;\n            content.devices = content.devices.filter( item => {\n              return item.device_id !== currentDevice[0].mainflux_id;\n            });\n\n            fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              mode: 'cors',\n              credentials : 'include',\n              body: JSON.stringify({ response })\n            });\n            fetch(\n              `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`, {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                mode: 'cors',\n                credentials : 'include',\n              });\n          });\n      }\n\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`, {\n        mode: 'cors',\n        credentials : 'include',\n      })\n        .then( response => response.json())\n        .then( response => {\n          response.content = JSON.parse(response.content);\n          const { content } = response;\n          const editThing = content.devices.filter( item => {\n            return item.device_id === config.mainflux_id;\n          });\n          if( editThing.length === 0 ) {\n            content.devices.push({\n              device_name: name,\n              device_id: config.mainflux_id,\n              device_key: config.mainflux_key,\n              device_type,\n            })\n          } else {\n            const editThingIndex = content.devices.indexOf(editThing[0]);\n            content.devices[editThingIndex] = {\n              device_name: name,\n              device_id: config.mainflux_id,\n              device_key: config.mainflux_key,\n              device_type,\n            };\n          }\n\n          fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            credentials : 'include',\n            body: JSON.stringify({ response })\n          });\n          fetch(\n            `${process.env.REACT_APP_EXPRESS_HOST}/api/connection/create/channels/${channel.id}/things/${config.mainflux_id}`, {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              mode: 'cors',\n              credentials : 'include',\n            });\n        });\n    };\n\n    this.close();\n  };\n\n  handleChangeConnectionName = e => {\n    const currentValue = e.target.value;\n    let arr = this.state.oldConnections.filter( item => {\n      return item.name === `zsse/${currentValue}`;\n    });\n    if(arr.length !== 0) {\n      this.setState({ isConnectionNameDisabled: true });\n    } else {\n      this.setState( prevState => ({\n        config: {\n          ...prevState.config,\n          content: {\n            ...prevState.config.content,\n            name: currentValue,\n          },\n        },\n        isConnectionNameDisabled: false,\n      }));\n    };\n  };\n\n  handleChangeCycle = e => {\n    const currentValue = e.target.value;\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        content: {\n          ...prevState.config.content,\n          cycle: currentValue,\n        }\n      },\n      isEnabled: prevState.config.content.cycle.length <= 4 && /^\\d+$/.test(prevState.config.content.cycle)\n    }));\n  };\n\n  handleChangeDeviceType = (e, { value }) => {\n    const currentValue = value;\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        content: {\n          ...prevState.config.content,\n          device_type: currentValue,\n        },\n      },\n      selectedDeviceType: value,\n    }));\n  };\n\n  handleChangeSendToApp = (e, { checked }) => {\n    this.setState({ handleSendToApp : checked });\n    this.getConnections();\n  };\n\n  handleChangeApp = (e, { value }) => {\n    const currentValue = value;\n    this.setState( prevState => ({\n      config: {\n        ...prevState.config,\n        content: {\n          ...prevState.config.content,\n          app: currentValue,\n        },\n      },\n      selectedApp: value,\n    }));\n  };\n\n  render() {\n    const { showModalEditDevice } = this.props;\n    const {\n      config,\n      isEnabled,\n      deviceTypes,\n      apps,\n      selectedDeviceType,\n      selectedApp,\n      isConnectionNameDisabled,\n      handleSendToApp,\n    } = this.state;\n\n    return (\n      <Modal\n        closeIcon\n        dimmer=\"blurring\"\n        open={showModalEditDevice}\n        onClose={this.close}\n      >\n        <Modal.Header>EDIT DEVICE</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label>Thing ID</label>\n              <input\n                placeholder='mainflux_id'\n                value={config.content !== undefined ? config.mainflux_id : ''}\n                readOnly\n              />\n            </Form.Field>\n\n            <Form.Field>\n              <label>Thing Key</label>\n              <input\n                placeholder='mainflux_key'\n                value={config.content !== undefined ? config.mainflux_key : ''}\n                readOnly\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Name </label>\n              <input\n                placeholder='name'\n                onChange={e => this.handleChangeConnectionName(e)}\n                value={config.content !== undefined ? config.content.name : ''}\n                className={isConnectionNameDisabled ? 'show_error' : ''}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Cycle </label>\n              <input\n                placeholder='cycle'\n                value={config.content !== undefined ? config.content.cycle : ''}\n                className={\n                  !isEnabled ? 'showError' : 'showSuccess'\n                  }\n                onChange={e => this.handleChangeCycle(e)}\n              />\n            </Form.Field>\n            <Form.Field>\n              <label> Device Type </label>\n              <Dropdown\n                placeholder='device type'\n                fluid\n                selection\n                options={deviceTypes}\n                value={selectedDeviceType}\n                onChange={this.handleChangeDeviceType}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Checkbox\n                label={handleSendToApp ? \"This device's config sent to App\" : \"Click checkbox for send this device's config to App\"}\n                onChange={this.handleChangeSendToApp}\n                checked={handleSendToApp}\n              />\n            </Form.Field>\n            <Form.Field className={handleSendToApp ? '' : 'hide'}>\n              <label>Apps</label>\n              <Dropdown\n                placeholder='apps'\n                fluid\n                selection\n                options={apps}\n                onChange={this.handleChangeApp}\n                value={selectedApp}\n              />\n            </Form.Field>\n          </Form>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button color='black' onClick={this.close}>\n            No\n          </Button>\n          <Button\n            positive\n            icon='edit outline'\n            labelPosition='right'\n            content=\"Yes\"\n            onClick={this.editDevice}\n            disabled={isConnectionNameDisabled || !isEnabled}\n          />\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n};\n\nexport default DeviceModalEdit;","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Button,\n  Header,\n  Modal,\n  Icon\n} from 'semantic-ui-react';\n\nclass ConnectionModalRemove extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalRemove: false,\n      isRemoveable: true,\n    }\n  }\n\n  getChannel = async app => {\n    let arr = await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      mode: 'cors',\n      credentials: 'include'\n    })\n    .then( res => res.json())\n    .then( oldChannels => {\n      return oldChannels;\n    })\n    .catch( err => console.log(err));\n\n    var channel = arr.filter( item => {\n      return item.name === app;\n    });\n    return channel[0];\n  }\n\n  removeConnection = async connection => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/things/remove/${connection.mainflux_id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    });\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/remove/${connection.mainflux_id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    });\n    const { sendToApp, app } = connection.content;\n    if(sendToApp) {\n      await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/${app}`,{\n        mode: 'cors',\n        credentials : 'include',\n      })\n        .then( response => response.json())\n        .then( response => {\n          response.content = JSON.parse(response.content);\n          const { content } = response;\n\n          content.devices = content.devices.filter( item => {\n            return item.device_id !== connection.mainflux_id;\n          });\n\n          fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap/edit/info/${response.mainflux_id}`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            credentials : 'include',\n            body: JSON.stringify({ response })\n          });\n        });\n    }\n\n    let arr = await this.getChannel(connection.name);\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/remove/${arr.id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    });\n\n    this.setState({ showModalRemove: false });\n    this.props.callbackFromParent(this.state.showModalRemove, connection.mainflux_id);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { content } = nextProps.connection;\n    if( content !== undefined && content.type === 'app' && content.devices.length !== 0) {\n      this.setState({ isRemoveable: false });\n    } else {\n      this.setState({ isRemoveable: true });\n    };\n  };\n\n\n  close = () => {\n    this.setState({ showModalRemove: false, isRemoveable: true }, () => {\n      this.props.callbackFromParent(this.state.showModalRemove);\n    });\n  }\n\n  render() {\n    const { showModalRemove, connection } = this.props;\n    const { isRemoveable } = this.state;\n    return (\n      <Modal basic size='small' open={showModalRemove}>\n        <Header icon='archive' content={isRemoveable ? 'REMOVE CONNECTION?': 'CAN NOT REMOVE CONNECTION'} />\n        <Modal.Content>\n          <p>\n            {\n              isRemoveable\n              ? `Do you want to remove connection: ${connection.name}`\n              : `CONNECTION '${connection.name}' HAVE CONNECTED DEVICES. FIRST REMOVE CONNECTED DEVICES.`\n            }\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color='green' inverted onClick={this.close}>\n            <Icon name='remove' /> No\n          </Button>\n          <Button color='red' inverted onClick={() => {isRemoveable ? this.removeConnection(connection) : this.close()} }>\n            <Icon name='checkmark' /> Yes\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default ConnectionModalRemove;","import React, { Component } from 'react';\nimport {\n  Button,\n  Header,\n  Modal,\n  Icon\n} from 'semantic-ui-react';\n\nclass ErrorModal extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalError: false,\n    }\n  }\n\n  close = () => {\n    this.setState({ showModalRemove: false });\n    this.props.callbackFromParent(this.state.showModalError);\n  }\n\n  render() {\n\n    const { showModalError, errorText } = this.props\n\n    return (\n      <Modal basic size='small' open={showModalError}>\n        <Header icon='archive' content='ERROR' />\n        <Modal.Content>\n          <p>\n            {errorText}\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button\n            basic\n            color='green'\n            inverted\n            onClick={this.close}>\n            <Icon name='remove' /> Close\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default ErrorModal;","import React, { Component } from 'react';\nimport './Connections.scss';\nimport {\n  Item,\n  Button,\n  Icon,\n  Popup,\n} from 'semantic-ui-react';\nimport AppModalCreate from './AppModalCreate';\nimport AppModalEdit from './AppModalEdit';\nimport DeviceModalCreate from './DeviceModalCreate';\nimport DeviceModalEdit from './DeviceModalEdit';\nimport ConnectionModalRemove from './ConnectionModalRemove';\nimport ErrorModal from '../errorModal';\n\nclass Connections extends Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      connections: [],\n      showModalCreateApp: false,\n      showModalEditApp: false,\n      showModalCreateDevice: false,\n      showModalEditDevice: false,\n      showModalError: false,\n      edittingApp: {},\n      edittingDevice: {},\n      removingConnection: {},\n      errorText: '',\n    };\n  }\n\n  getToken = async () => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/users/login`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({email: `${process.env.REACT_APP_MAINFLUX_USER}`})\n    });\n  };\n\n  getConnections = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/bootstrap`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json())\n      .then( connections => {\n        const parsedConnections = connections.map( item => {\n          item.content = JSON.parse(item.content);\n          return item;\n        });\n        this.setState({connections: parsedConnections})\n      })\n      .catch( err => console.log(err) );\n  };\n\n  componentDidMount() {\n    this.getToken();\n    this.getConnections();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if( nextProps !== this.props ) {\n      this.getConnections();\n    };\n  };\n\n  createAppModalCallback = (\n    showModalCreateApp,\n    oldConnections,\n  ) => {\n    this.setState({ showModalCreateApp, connections: oldConnections})\n    this.getConnections();\n  };\n\n  createDeviceModalCallback = (\n    showModalCreateDevice,\n    oldConnections,\n  ) => {\n    this.setState({ showModalCreateDevice, connections: oldConnections})\n    this.getConnections();\n  };\n\n  removeModalCallback = (showModalRemove, id) => {\n    this.setState({ showModalRemove });\n    if(id) {\n      // FIXME:\n      const connections = this.state.connections\n      let connection = connections.filter( i => i.mainflux_id === id );\n      const { type, app } = connection[0].content;\n      if( type === 'device' && app !== undefined ) {\n        let connectedApp = connections.filter( i => i.external_id === app );\n        const edittedApp = connectedApp[0].content.devices.filter(i => i.device_id !== id );\n        connections[connections.indexOf(connectedApp[0])].content.devices = edittedApp;\n        this.setState({ connections });\n      };\n      this.setState({\n        connections: this.state.connections.filter( i => i.mainflux_id !== id )\n      });\n    };\n  };\n\n  editAppModalCallback = showModalEditApp => {\n    this.setState({ showModalEditApp });\n    this.getConnections();\n  };\n\n  editDeviceModalCallback = showModalEditDevice => {\n    this.setState({ showModalEditDevice });\n    this.getConnections();\n  };\n\n  errorModalCallback = showModalError => {\n    this.setState({ showModalError });\n  };\n\n  render() {\n    const {\n      connections,\n      showModalCreateApp,\n      showModalCreateDevice,\n      showModalRemove,\n      showModalEditApp,\n      showModalEditDevice,\n      showModalError,\n      edittingApp,\n      edittingDevice,\n      removingConnection,\n      errorText,\n    } = this.state;\n\n    return (\n      <div id='connections' className=\"main_wrapper\">\n        <div className=\"connection_top\">\n          <h1> Connections </h1>\n          <div className=\"connection_btn__wrapper\">\n            <Button\n              icon\n              labelPosition='left'\n              onClick={() => this.setState({ showModalCreateApp: true })}\n            >\n              <Icon name='chain' />\n              Create App\n            </Button>\n            <Button\n              icon\n              labelPosition='left'\n              onClick={() => this.setState({ showModalCreateDevice: true })}\n            >\n              <Icon name='chain' />\n              Create Device\n            </Button>\n          </div>\n        </div>\n        <hr />\n        <Item.Group relaxed>\n          {\n            connections.length === 0\n            ? <p>\n                Unfortunately we did not find your connections.\n                <span role=\"img\" aria-label=\"Sad\">🙁</span>\n              </p>\n            : connections.map( item =>\n              <Item key={item.mainflux_id}>\n\n                <Item.Content verticalAlign='middle'>\n                  <Popup\n                    content={\n                      <div>\n                        <p>id: {item.mainflux_id}</p>\n                        <p>key: {item.mainflux_key}</p>\n                      </div>\n                    }\n                    trigger={\n                      <Item.Header>{item.name}</Item.Header>\n                    }\n                  />\n                  <Item.Description>{item.content.type}</Item.Description>\n                  <Item.Description>{item.external_id}</Item.Description>\n                  <Item.Extra>\n                    <Button\n                      color=\"red\"\n                      floated='right'\n                      icon='trash alternate outline'\n                      labelPosition='right'\n                      content=\"Remove\"\n                      onClick={() => this.setState({ showModalRemove: true, removingConnection: item })}\n                    />\n                    <Button\n                      color=\"yellow\"\n                      floated='right'\n                      icon='edit outline'\n                      labelPosition='right'\n                      content=\"Edit\"\n                      onClick={() => item.content.type === 'app'\n                        ? this.setState({ showModalEditApp: true, edittingApp: item })\n                        : this.setState({ showModalEditDevice: true, edittingDevice: item })}\n                    />\n                  </Item.Extra>\n                </Item.Content>\n\n              </Item>\n            )\n          }\n        </Item.Group>\n\n        <AppModalCreate\n          showModalCreateApp={showModalCreateApp}\n          callbackFromParent={this.createAppModalCallback}\n        />\n\n        <DeviceModalCreate\n          showModalCreateDevice={showModalCreateDevice}\n          callbackFromParent={this.createDeviceModalCallback}\n        />\n\n        <ConnectionModalRemove\n          showModalRemove={showModalRemove}\n          connection={removingConnection}\n          callbackFromParent={this.removeModalCallback}\n        />\n\n        <ErrorModal\n          showModalError={showModalError}\n          errorText={errorText}\n          callbackFromParent={this.errorModalCallback}\n        />\n\n        <AppModalEdit\n          showModalEditApp={showModalEditApp}\n          connection={edittingApp}\n          callbackFromParent={this.editAppModalCallback}\n        />\n\n        <DeviceModalEdit\n          showModalEditDevice={showModalEditDevice}\n          connection={edittingDevice}\n          callbackFromParent={this.editDeviceModalCallback}\n        />\n\n      </div>\n    );\n  }\n}\n\nexport default Connections;","import React, { Component } from 'react';\nimport './Channels.scss';\nimport {\n  Button,\n  Form,\n  Modal\n} from 'semantic-ui-react';\n\nclass ChannelModalCreate extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalCreate: false,\n      channel: {\n        name: '',\n        metadata: {},\n      },\n    }\n  }\n\n  createChannel = async name => {\n    const { channel } = this.state;\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/create`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({channel})\n    });\n    this.close();\n  };\n\n  close = () => {\n    this.setState({ showModalCreate: false });\n    this.props.callbackFromParent(this.state.showModalCreate);\n  };\n\n  handleChangeName = e => {\n    let str = e.target.value;\n    this.setState( prevState => ({\n      channel: {\n        ...prevState.channel,\n        name: str,\n      },\n    }));\n  };\n\n  render() {\n    const { showModalCreate } = this.props;\n    const { name } = this.state;\n\n    return (\n      <Modal closeIcon dimmer=\"blurring\" open={showModalCreate} onClose={this.close}>\n        <Modal.Header>CREATE THING</Modal.Header>\n        <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label>Name</label>\n              <input placeholder='name' value={name} onChange={e => this.handleChangeName(e)} />\n            </Form.Field>\n          </Form>\n          </Modal.Content>\n          <Modal.Actions>\n            <Button color='black' onClick={this.close}>\n              No\n            </Button>\n            <Button\n              positive\n              icon='edit outline'\n              labelPosition='right'\n              content=\"Yes\"\n              onClick={() => this.createChannel(name)}\n            />\n          </Modal.Actions>\n        </Modal>\n    );\n  }\n}\n\nexport default ChannelModalCreate;","import React, { Component } from 'react';\nimport './Channels.scss';\nimport {\n  Button,\n  Header,\n  Modal,\n  Icon\n} from 'semantic-ui-react';\n\nclass ChannelModalRemove extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalRemove: false,\n    }\n  }\n\n  removeChannel = async (id, event) => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/remove/${id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n    });\n    this.setState({ showModalRemove: false });\n    this.props.callbackFromParent(this.state.showModalRemove, id);\n  }\n\n  close = () => {\n    this.setState({ showModalRemove: false });\n    this.props.callbackFromParent(this.state.showModalRemove);\n  }\n\n  render() {\n\n    const { showModalRemove, channel } = this.props;\n\n    return (\n      <Modal basic size='small' open={showModalRemove}>\n        <Header icon='archive' content='REMOVE CHANNEL?' />\n        <Modal.Content>\n          <p>\n            Do you want to remove channel: {channel.name}\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color='green' inverted onClick={this.close}>\n            <Icon name='remove' /> No\n          </Button>\n          <Button color='red' inverted onClick={(event) => {this.removeChannel(channel.id, event)} }>\n            <Icon name='checkmark' /> Yes\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    );\n  }\n}\n\nexport default ChannelModalRemove;","import React, { Component } from 'react';\nimport './Channels.scss';\nimport {\n  Button,\n  Form,\n  Modal\n} from 'semantic-ui-react';\n\nclass ChannelModalEdit extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showModalEdit: false,\n      name: props.channel.name\n    }\n  }\n\n  editChannel = async (channel, event) => {\n    fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels/edit/${channel.id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({name: channel.name, metadata: channel.metadata})\n    });\n    this.close();\n  };\n\n  show = () => this.setState({ showModalEdit: true });\n  close = () => {\n    this.setState({ showModalEdit: false });\n    this.props.callbackFromParent(this.state.showModalEdit);\n  };\n\n  handleChangeName = (e) => {\n    let obj = this.props.channel;\n    obj.name = e.target.value;\n    this.props.callbackFromParent(true, obj);\n  };\n\n  render() {\n    const { showModalEdit, channel } = this.props;\n\n    return (\n      <Modal closeIcon dimmer=\"blurring\" open={showModalEdit} onClose={this.close}>\n          <Modal.Header>EDIT CHANNEL</Modal.Header>\n          <Modal.Content>\n          <Form>\n            <Form.Field>\n              <label>Name</label>\n              <input placeholder='name' value={channel.name} onChange={e => this.handleChangeName(e)} />\n            </Form.Field>\n          </Form>\n          </Modal.Content>\n          <Modal.Actions>\n            <Button color='black' onClick={this.close}>\n              No\n            </Button>\n            <Button\n              positive\n              icon='edit outline'\n              labelPosition='right'\n              content=\"Yes\"\n              onClick={() => this.editChannel(channel)}\n            />\n          </Modal.Actions>\n        </Modal>\n    );\n  }\n}\n\nexport default ChannelModalEdit;","import React, { Component } from 'react';\nimport './Channels.scss';\nimport {\n  Item,\n  Button,\n  Icon,\n} from 'semantic-ui-react';\nimport ChannelModalCreate from './ChannelModalCreate';\nimport ChannelModalRemove from './ChannelModalRemove';\nimport ChannelModalEdit from './ChannelModalEdit';\n\nclass Channels extends Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      channels: [],\n      edittingChannel: {},\n      removingChannel: {},\n      showModalRemove: false,\n      showModalEdit: false,\n      showModalCreate: false,\n    };\n  }\n\n  getToken = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/users/login`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials : 'include',\n      body: JSON.stringify({email: `${process.env.REACT_APP_MAINFLUX_USER}`})\n    });\n  };\n\n  getChannels = async () => {\n    await fetch(`${process.env.REACT_APP_EXPRESS_HOST}/api/channels`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n      credentials : 'include',\n    })\n      .then( res =>  res.json())\n      .then( channels => this.setState({channels}) )\n      .catch( err => console.log(err) );\n  };\n\n  removeModalCallback = (showModalRemove, id) => {\n    this.setState({ showModalRemove });\n    if(id) {\n      this.setState({ channels: this.state.channels.filter( i => i.id !== id )\n      });\n    };\n  };\n\n  editModalCallback = showModalEdit => {\n    this.setState({ showModalEdit });\n  };\n\n  createChannelModalCallback = async showModalCreate => {\n    this.setState({ showModalCreate });\n    await this.getChannels();\n  };\n\n  async componentDidMount() {\n    await this.getToken();\n    this.getChannels();\n  }\n\n  render() {\n\n    const {\n      channels,\n      showModalEdit,\n      showModalCreate,\n      showModalRemove,\n      removingChannel,\n      edittingChannel,\n    } = this.state;\n\n    return (\n      <div id=\"channels\" className=\"main_wrapper\">\n        <div className=\"channel_top\">\n          <h1>Channels</h1>\n          <Button\n            icon\n            labelPosition='left'\n            onClick={() => this.setState({ showModalCreate: true })}\n          >\n            <Icon name='podcast' />\n            Create Channel\n          </Button>\n        </div>\n        <hr />\n        <Item.Group relaxed>\n          {\n            channels.length === 0\n            ? <p>\n                Unfortunately we did not find your channels.\n                <span role=\"img\" aria-label=\"Sad\">🙁</span>\n              </p>\n            : channels.map( item =>\n              <Item key={item.id}>\n\n                <Item.Content verticalAlign='middle'>\n                  <Item.Header>{item.name}</Item.Header>\n                  <Item.Description>{item.id}</Item.Description>\n                  <Item.Extra>\n                    <Button\n                      color=\"red\"\n                      floated='right'\n                      icon='trash alternate outline'\n                      labelPosition='right'\n                      content=\"Remove\"\n                      onClick={() => this.setState({ showModalRemove: true, removingChannel: item })}\n                    />\n                    <Button\n                      color=\"yellow\"\n                      floated='right'\n                      icon='edit outline'\n                      labelPosition='right'\n                      content=\"Edit\"\n                      onClick={() => this.setState({ showModalEdit: true, edittingChannel: item })}\n                    />\n                  </Item.Extra>\n                </Item.Content>\n\n              </Item>\n            )\n          }\n        </Item.Group>\n        <ChannelModalRemove\n          showModalRemove={showModalRemove}\n          channel={removingChannel}\n          callbackFromParent={this.removeModalCallback}\n        />\n        <ChannelModalEdit\n          showModalEdit={showModalEdit}\n          channel={edittingChannel}\n          callbackFromParent={this.editModalCallback}\n        />\n        <ChannelModalCreate\n          showModalCreate={showModalCreate}\n          callbackFromParent={this.createChannelModalCallback}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Channels;","import React from 'react'\n\nconst Notfound = () => {\n  return (\n  <div className=\"main_wrapper\">\n    <h1>Nothing was found</h1>\n    <p>\n      Unfortunately we did not find anything for your request.\n      <span role=\"img\" aria-label=\"Sad\">🙁</span>\n    </p>\n  </div>\n  );\n}\n\nexport default Notfound","import React, { Component } from 'react';\nimport { Route, Link, BrowserRouter as Router, Switch } from 'react-router-dom'\nimport { Menu } from 'semantic-ui-react'\nimport './App.scss';\nimport 'semantic-ui-css/semantic.min.css';\nimport Main from './components/Main';\nimport TopBar from './components/TopBar';\nimport Connections from './components/connections/Connections'\nimport Channels from './components/channels/Channels'\nimport Notfound from './components/NotFound'\n\nclass App extends Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      home: true,\n      channels: false,\n      connections: false,\n    };\n  }\n\n  handleHome = () => {\n    this.setState({\n      home: true,\n      channels: false,\n      connections: false,\n    });\n  };\n\n  handleChannels = () => {\n    this.setState({\n      home: false,\n      channels: true,\n      connections: false,\n    });\n  };\n\n  handleConnections = () => {\n    this.setState({\n      home: false,\n      channels: false,\n      connections: true,\n    });\n  };\n\n  render() {\n    const { home, channels, connections } = this.state;\n\n    return (\n      <div className=\"App\">\n        <TopBar />\n        <Router>\n          <div id=\"sidebar_wrapper\">\n            <Menu id=\"sidebar_menu\" secondary vertical>\n              <ul>\n                <li className={home ? \"active_item\" : \"\"}>\n                  <Link onClick={this.handleHome} to=\"/\">Home</Link>\n                </li>\n                <li className={channels ? \"active_item\" : \"\"}>\n                  <Link onClick={this.handleChannels} to=\"/channels\">Channels</Link>\n                </li>\n                <li className={connections ? \"active_item\" : \"\"}>\n                  <Link onClick={this.handleConnections} to=\"/connections\">Connections</Link>\n                </li>\n              </ul>\n            </Menu>\n            <Switch>\n              <Route exact path=\"/\" component={Main} />\n              <Route path=\"/channels\" component={Channels} />\n              <Route path=\"/connections\" component={Connections} />\n              <Route component={Notfound} />\n            </Switch>\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}